{"version":3,"sources":["webpack:///static/js/app.9ab3d288efa6b9b8c444.js","webpack:///./src/main.js","webpack:///./src/store/modules/geometry/helpers.js","webpack:///./src/store/modules/application/appconfig.js","webpack:///./src/store/modules/models/helpers.js","webpack:///./src/store/utilities/generateId.js","webpack:///./src/store/modules/application/helpers.js","webpack:///./src/store/modules/models/libconfig.js","webpack:///./src/components/PrettySelect.vue","webpack:///./src/components/Grid/snapping.js","webpack:///./src/store/modules/geometry/factory.js","webpack:///./src/store/modules/models/factory.js","webpack:///./src/store/utilities/unitConversion.js","webpack:///./src/utilities.js","webpack:///./src/assets/svg-icons/delete.svg","webpack:///./src/components/Resize/ResizeEvents.js","webpack:///./src/components/Resize/index.js","webpack:///./src/components/svgs.js","webpack:///./src/store/modules/geometry/actions/componentPreservationSociety.js","webpack:///./src/store/modules/project/index.js","webpack:///./schema/geometry_schema.json","webpack:///./src/components/GenericInput.vue","webpack:///./src/components/Modals/ColorPickerModal.vue","webpack:///./src/components/Modals/ModalBase.vue","webpack:///./src/assets/svg-icons/copy_icon.svg","webpack:///./src/assets/svg-icons/info_icon.svg","webpack:///App.vue","webpack:///Canvas.vue","webpack:///Map.vue","webpack:///ComponentInstanceEditBar.vue","webpack:///EditBar.vue","webpack:///EditableSelectList.vue","webpack:///EditableTable.vue","webpack:///ExpandableDrawer.vue","webpack:///GenericInput.vue","webpack:///Grid.vue","webpack:///ImageUpload.vue","webpack:///Info.vue","webpack:///Inspector.vue","webpack:///Library.vue","webpack:///LibrarySelect.vue","webpack:///ColorPickerModal.vue","webpack:///MapModal.vue","webpack:///ModalBase.vue","webpack:///SaveAsModal.vue","webpack:///Settings.vue","webpack:///Navigation.vue","webpack:///NonChromeWarning.vue","webpack:///PrettySelect.vue","webpack:///RenderByDropdown.vue","webpack:///TextureSelect.vue","webpack:///Textures.vue","webpack:///Toolbar.vue","webpack:///./src/components/Grid/drawing.js","webpack:///./src/components/Grid/methods.js","webpack:///./src/store/index.js","webpack:///./src/store/modules/application/actions.js","webpack:///./src/store/modules/application/getters.js","webpack:///./src/store/modules/application/index.js","webpack:///./src/store/modules/application/mutations.js","webpack:///./src/store/modules/geometry/actions/actions.js","webpack:///./src/store/modules/geometry/actions/createFaceFromPoints.js","webpack:///./src/store/modules/geometry/getters.js","webpack:///./src/store/modules/geometry/index.js","webpack:///./src/store/modules/geometry/mutations.js","webpack:///./src/store/modules/models/actions.js","webpack:///./src/store/modules/models/converters.js","webpack:///./src/store/modules/models/getters.js","webpack:///./src/store/modules/models/index.js","webpack:///./src/store/modules/models/mutations.js","webpack:///./src/store/modules/models/validators.js","webpack:///./src/store/modules/project/actions.js","webpack:///./src/store/modules/project/getters.js","webpack:///./src/store/modules/project/mutations.js","webpack:///./src/store/mutations.js","webpack:///./src/store/timetravel.js","webpack:///./src/store/utilities/export.js","webpack:///./src/store/utilities/generateColor.js","webpack:///./src/store/utilities/generateTexture.js","webpack:///./src/store/utilities/importFloorplan.js","webpack:///./src/store/utilities/importLibrary.js","webpack:///./src/store/utilities/validator.js","webpack:///./src/utilities/checkGeometry.js","webpack:///./src/utilities/color.js","webpack:///./src/utilities/d3-aware-throttle.js","webpack:///./src/utilities/deepFreeze.js","webpack:///./src/version.js","webpack:///./src/App.vue","webpack:///./src/components/Canvas/Canvas.vue","webpack:///./src/components/Canvas/Map.vue","webpack:///./src/components/ComponentInstanceEditBar.vue","webpack:///./src/components/EditBar.vue","webpack:///./src/components/EditableSelectList.vue","webpack:///./src/components/EditableTable.vue","webpack:///./src/components/ExpandableDrawer.vue","webpack:///./src/components/Grid/Grid.vue","webpack:///./src/components/ImageUpload.vue","webpack:///./src/components/Info.vue","webpack:///./src/components/Inspector.vue","webpack:///./src/components/Library.vue","webpack:///./src/components/LibrarySelect.vue","webpack:///./src/components/Modals/MapModal.vue","webpack:///./src/components/Modals/SaveAsModal.vue","webpack:///./src/components/Modals/Settings.vue","webpack:///./src/components/Navigation.vue","webpack:///./src/components/NonChromeWarning.vue","webpack:///./src/components/RenderByDropdown.vue","webpack:///./src/components/TextureSelect.vue","webpack:///./src/components/Textures.vue","webpack:///./src/components/Toolbar.vue","webpack:///./src/components/Canvas/Canvas.vue?257b","webpack:///./src/components/GenericInput.vue?08d1","webpack:///./src/components/Modals/ModalBase.vue?74fb","webpack:///./src/components/Modals/ColorPickerModal.vue?69b7","webpack:///./src/components/Modals/Settings.vue?c843","webpack:///./src/components/EditBar.vue?8b77","webpack:///./src/components/TextureSelect.vue?9f20","webpack:///./src/components/Modals/SaveAsModal.vue?8c66","webpack:///./src/components/Canvas/Map.vue?451e","webpack:///./src/components/Toolbar.vue?f07e","webpack:///./src/components/ComponentInstanceEditBar.vue?0fcc","webpack:///./src/components/EditableTable.vue?e383","webpack:///./src/components/ImageUpload.vue?c43c","webpack:///./src/components/ExpandableDrawer.vue?1d1c","webpack:///./src/components/Textures.vue?b2d9","webpack:///./src/components/Navigation.vue?481e","webpack:///./src/components/LibrarySelect.vue?8710","webpack:///./src/components/Inspector.vue?43b2","webpack:///./src/components/EditableSelectList.vue?b2f1","webpack:///./src/components/NonChromeWarning.vue?6cc1","webpack:///./src/components/RenderByDropdown.vue?abad","webpack:///./src/components/PrettySelect.vue?e127","webpack:///./src/components/Info.vue?1fa6","webpack:///./src/components/Library.vue?3699","webpack:///./src/components/Grid/Grid.vue?7aaf","webpack:///./src/App.vue?e9fb","webpack:///./src/components/Modals/MapModal.vue?dfa1","webpack:///./src/assets/svg-icons/add_image.svg","webpack:///./src/assets/svg-icons/add_new.svg","webpack:///./src/assets/svg-icons/assign_activity.svg","webpack:///./src/assets/svg-icons/assign_bldgmodule.svg","webpack:///./src/assets/svg-icons/assign_constructions.svg","webpack:///./src/assets/svg-icons/assign_roof.svg","webpack:///./src/assets/svg-icons/assign_thermalzone.svg","webpack:///./src/assets/svg-icons/components_daylighting.svg","webpack:///./src/assets/svg-icons/components_window.svg","webpack:///./src/assets/svg-icons/double_arrows.svg","webpack:///./src/assets/svg-icons/fill_icon.svg","webpack:///./src/assets/svg-icons/ground_props_icon.svg","webpack:///./src/assets/svg-icons/image_icon.svg","webpack:///./src/assets/svg-icons/import_library.svg","webpack:///./src/assets/svg-icons/lego_brick_icon.svg","webpack:///./src/assets/svg-icons/open_floorplan.svg","webpack:///./src/assets/svg-icons/pan.svg","webpack:///./src/assets/svg-icons/quickstart_icon_new_map_floorplan.svg","webpack:///./src/assets/svg-icons/quickstart_icon_newfloorplan.svg","webpack:///./src/assets/svg-icons/quickstart_icon_openfloorplan.svg","webpack:///./src/assets/svg-icons/redo.svg","webpack:///./src/assets/svg-icons/save_floorplan.svg","webpack:///./src/assets/svg-icons/settings_gear.svg","webpack:///./src/assets/svg-icons/tab_assign.svg","webpack:///./src/assets/svg-icons/tab_components.svg","webpack:///./src/assets/svg-icons/tab_floorplan.svg","webpack:///./src/assets/svg-icons/tab_shading.svg","webpack:///./src/assets/svg-icons/tool_color.svg","webpack:///./src/assets/svg-icons/tool_draw_polygon.svg","webpack:///./src/assets/svg-icons/tool_draw_rectangle.svg","webpack:///./src/assets/svg-icons/tool_erase.svg","webpack:///./src/assets/svg-icons/tool_move_size.svg","webpack:///./src/assets/svg-icons/undo.svg","webpack:///./src/assets/svg-icons/zoom_in.svg","webpack:///./src/assets/svg-icons/zoom_out.svg","webpack:///./src/assets/svg-icons/zoom_to_fit.svg","webpack:///external \"{XMLHttpRequest:XMLHttpRequest}\""],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_index","_index2","_timetravel","_timetravel2","_App","_App2","_PrettySelect","_PrettySelect2","_GenericInput","_GenericInput2","component","window","eventBus","application","store","el","template","components","App","init","_interopRequireWildcard","newObj","key","Object","prototype","hasOwnProperty","call","toTurfPoly","vertices","coords","map","v","x","y","length","push","turf","polygon","ringEqualsWithSameWindingOrder","vs","ws","pivotVert","pivotIx","_lodash2","findIndex","pick","wsp","concat","_toConsumableArray3","slice","w","isEqualWith","isMatch","dropClosingVertex","isEqual","ringEquals","vs_","ws_","reverse","distanceBetweenPoints","p1","p2","dx","dy","Math","sqrt","fitToAspectRatio","xExtent","yExtent","widthOverHeight","adjustToFit","arguments","undefined","xSpan","ySpan","xAccordingToY","yAccordingToX","xDiff","yDiff","edgeDirection","_ref","start","end","deltaX","deltaY","PI","atan","haveSimilarAngles","edge1","edge2","angleDiff","correctedDiff","min","abs","normalize","_ref2","normalization","unitPerpVector","unitVector","projectionOfPointToLine","point","line","_line$p","x1","y1","_line$p2","x2","y2","A","B","C","D","dot","lenSq","param","pointDistanceToSegment","pt","_ref3","proj","dist","ptsAreCollinear","p3","_ref4","a","b","_ref5","m","n","repeatingWindowCenters","_ref6","spacing","width","maxDist","centers","direction","nextCenterDist","offX","offY","distFromStart","margin","totalDist","c","alpha","cleanInvalidPoly","ix","positionAlongEdge","reject","isNaN","createEdgeMap","geometry","memoize","lastEdges","edges","lastVertices","vertexMap","reduce","acc","cur","id","lastMap","lastArr","edge","v1","v2","lastVertexMap","isPointCoord","coord","isNumber","isRingCoords","every","isPolygonCoords","vertInRing","vert","ring","toLst","_ref12","helpers","inRing","replaceIdsForCloning","newStory","clonedGeometry","cloneDeep","idMap","origVertexIDs","_values2","vertex","forEach","origID","find","clonedVertex","newID","_generateId2","generate","index","vertexByIndex","faces","face","edgeRefs","edge_id","defineProperty","value","_values","_extends2","_extends3","_slicedToArray2","_slicedToArray3","_toConsumableArray2","_lodash","_helpers","_areaPolygon","_areaPolygon2","_polygonClipping","_booleanPointInPolygon","_booleanPointInPolygon2","_utilities","_generateId","setOperation","type","f1Points","f2Points","f1Poly","coordinates","f2Poly","operation","union","intersection","difference","Error","result","error","_ref7","_ref8","f1","f2","this","areaOfSelection","points","splittingVerticesForEdgeId","_this","denormalizedEdge","filter","vertexIsEndpointById","vertexIsLeftEndpointByValue","vertexIsRightEndpointByValue","vertexIsEndpoint","projection","distBetween","shouldSplit","intersectionOfLines","p4","eps","between","vertexForId","vertex_id","vertexForCoordinates","_this2","verticesForFaceId","face_id","_this3","f","edgeRef","edgeForId","vertexId","e","edgesForVertexId","edgesForFaceId","_this4","eR","faceForId","facesForVertexId","_this5","facesForEdgeId","pointInFace","faceVertices","facePoly","testPoint","syntheticRectangleSnaps","rectStart","cursorPt","xMid","yMid","_ref9","synthetic","originalPt","_ref10","exceptFace","denormalize","_createEdgeMap","_createEdgeMap2","edgeMap","_ref11","dropConsecutiveDups","flatMap","uniqBy","er","inside","poly","ignoreBoundary","bbox","bboxOfRing","inBBox","insidePoly","i","inHole","k","max","isInside","j","xi","yi","xj","yj","onBoundary","intersect","assignableProperties","componentTypes","config","libraryTypes","textures","modes","stories","images","spaces","shading","building_units","building_types","thermal_zones","space_types","pitched_roofs","construction_sets","window_definitions","daylighting_control_definitions","palette","neutral","colors","_defineProperty2","_defineProperty3","_libconfig","_libconfig2","displayNameForKey","keymap","private","displayName","valueForKey","object","state","get","setValueForKey","success","converter","validator","validationResult","dispatch","story","space","image","inputTypeForKey","readonly","input_type","selectOptionsForKey","select_data","libraryObjectWithId","library","s","modelForFace","generateName","models","modelsForType","prefix","level","name","accum","spaceTypesForBuilding","building_type","wholeBuilding","hash","indexOf","replaceIdsUpdateInfoForCloning","clonedStory","doors","door","windows","shade","replaceSpaceNamesForCloning","genName","nextSuffix","nameCounts","setId","newVal","String","displayNameForMode","mode","_appconfig2","componentInstanceById","currStory","compInstId","windew","dc","daylighting_controls","spacePropertyById","spacePropId","prop","_appconfig","some","ap","_keys","_keys2","_factory","_factory2","_helpers2","_validators","_validators2","_converters","converters","definitionName","columns","color","BuildingUnit","BuildingType","ThermalZone","door_definitions","gt0","number","numeric","options","zipObject","oneOf","apply","DoorDefinition","halfOpenInterval","enabled","row","window_definition_mode","gt0orNull","windowDefn","chain","window_definition_id","WindowDefn","SpaceType","ConstructionSet","dcDefn","daylighting_control_definition_id","DaylightingControlDefn","d","join","(none)","buildingUnit","building_unit_id","editable","_space","buildingType","building_type_id","spaceType","space_type_id","t","thermalZone","thermal_zone_id","constructionSet","construction_set_id","fromPairs","prt","pitched_roof_id","False","True","bool","img","naturalWidth","closedInterval","PitchedRoof","col","has","allowableTypes","includes","nullable","getDefaults","Component","gridSnapTargets","gridSpacing","floor","vertexSnapTargets","location","snapTargets","cursor","targets","target","orderBy","expandWindowAlongEdge","center","texture","edge_start","theta","windowDeltaX","cos","windowDeltaY","sin","findClosestEdge","smallest","Infinity","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_getIterator3","next","done","err","return","findClosestWindow","withDistance","minBy","snapWindowToEdgeAnywhere","maxSnapDist","closestEdge","snapWindowToEdgeAtGridIntervals","roundedDist","round","norm","snapLoc","snapWindowToEdge","snapMode","_len","args","Array","_key","snapToVertexWithinFace","existingVerts","g","first","windowLocation","windw","_getIterator2","Vertex","Edge","Face","Geometry","_generateColor","_generateColor2","_generateTexture","_generateTexture2","_geometry_schema","_geometry_schema2","_unitConversion","makeReadPropertyAttr","attribute","readPropertyAttr","definition","mapValues","properties","readPropertyAttrs","attr","definitions","ip_defaults","Project","units","si_defaults","getConverter","Story","Space","Shading","Image","src","visible","height","z","r","opacity","naturalHeight","opts","handle","wwr","window_spacing","convertLibrary","convertState","convertSchema","conversionFactor","_typeof2","_typeof3","_deepFreeze","_deepFreeze2","readUnits","res","pickBy","identity","isEmpty","arrayOf","items","$ref","replace","rawUnits","$schema","$state","Application","project","lt","factorTable","m -> ft","ft -> m","fc -> lux","lux -> fc","fromUnits","toUnits","factor","path","_fromSystem","_toSystem","fromSystem","toSystem","pathUnits","si_units","ip_units","val","arr","isObject","data","debounce","func","wait","timeout","clearTimeout","setTimeout","uniq","_stringify2","alreadySeen","elem","theKey","allPairs","elems","flatten","p","item","pos","getSiblings","siblings","sibling","parentNode","firstChild","nextSibling","nodeType","_stringify","render","_c","attrs","xmlns","cx","cy","fill","ResizeEvents","_ResizeEvents","_ResizeEvents2","_open_floorplan","_open_floorplan2","_save_floorplan","_save_floorplan2","_import_library","_import_library2","_undo","_undo2","_redo","_redo2","_tab_floorplan","_tab_floorplan2","_tab_shading","_tab_shading2","_tab_assign","_tab_assign2","_tab_components","_tab_components2","_tool_draw_rectangle","_tool_draw_rectangle2","_tool_draw_polygon","_tool_draw_polygon2","_tool_erase","_tool_erase2","_tool_move_size","_tool_move_size2","_tool_color","_tool_color2","_image_icon","_image_icon2","_fill_icon","_fill_icon2","_lego_brick_icon","_lego_brick_icon2","_zoom_to_fit","_zoom_to_fit2","_zoom_in","_zoom_in2","_zoom_out","_zoom_out2","_pan","_pan2","_add_image","_add_image2","_ground_props_icon","_ground_props_icon2","_components_window","_components_window2","_components_daylighting","_components_daylighting2","_assign_bldgmodule","_assign_bldgmodule2","_assign_constructions","_assign_activity","_assign_activity2","_assign_thermalzone","_assign_thermalzone2","_assign_roof","_assign_roof2","_quickstart_icon_new_map_floorplan","_quickstart_icon_new_map_floorplan2","_quickstart_icon_newfloorplan","_quickstart_icon_newfloorplan2","_quickstart_icon_openfloorplan","_quickstart_icon_openfloorplan2","_info_icon","_info_icon2","_settings_gear","_settings_gear2","ComponentIcon","props","ComponentsWindow","ComponentsDaylighting","AssignSpacePropIcon","AssignBldgModule","AssignThermalZone","AssignActivity","AssignRoof","open-floorplan-svg","save-floorplan-svg","import-library-svg","undo-svg","redo-svg","tab-floorplan-svg","tab-shading-svg","tab-assign-svg","tab-components-svg","tool-color-svg","tool-draw-rectangle-svg","tool-draw-polygon-svg","tool-erase-svg","tool-move-size-svg","tool-image-svg","tool-fill-svg","tool-component-svg","zoom-in-svg","zoom-out-svg","pan-svg","add-image","ZoomToFitSvg","QuickstartIconNewMapFloorplan","QuickstartIconNewFloorplan","QuickstartIconOpenFloorplan","InfoIcon","SettingsGear","GroundPropertiesIcon","facesContainingEdge","containingFaces","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","componentsOnStory","geometry_id","geom","perFaceComponents","space_id","story_id","originalLoc","_snapping","originalFaceIds","replaceComponents","context","movementsByFaceId","rootState","spaceFaces","grid","root","edgesPresentOnFaces","replaceWindowOrDoor","windowOrDoor","windowsOrDoors","newLoc","loc","facesWithEdge","toLowerCase","door_definition_id","withPreservedComponents","action","_actions","_actions2","_mutations","_mutations2","_getters","_getters2","namespaced","unitsEditable","language","north_axis","ground","floor_offset","azimuth_angle","tilt_slope","view","min_x","min_y","max_x","max_y","initialized","latitude","longitude","zoom","rotation","elevation","previous_story","show_import_export","actions","mutations","getters","version","description","required","enum","edge_ids","vertex_ids","minItems","maxItems","uniqueItems","face_ids","edge_order","image_visible","below_floor_plenum_height","minimum","floor_to_ceiling_height","above_ceiling_plenum_height","multiplier","multipleOf","maximum","open_to_below","WindowDefinition","exclusiveMaximum","sill_height","exclusiveMinimum","window_type","overhang_projection_factor","fin_projection_factor","door_type","DaylightingControlDefinition","illuminance_setpoint","pitched_roof_type","pitch","shed_direction","HexColor","pattern","viewBox","data-name","_v","_vuex","_portalVue","_Navigation","_Navigation2","_Grid","_Grid2","_Canvas","_Canvas2","_Toolbar","_Toolbar2","_ImageUpload","_ImageUpload2","_ColorPickerModal","_ColorPickerModal2","_Inspector","_Inspector2","_Textures","_Textures2","navigationExpanded","beforeCreate","$store","mounted","$on","msg","document","getElementById","dispatchEvent","Event","addEventListener","timetravel","keyCode","ctrlKey","metaKey","shiftKey","redo","undo","preventDefault","computed","mapState","tool","currentSelections","grid-view","canvas-view","inspector-view","navigation","toolbar","ImageUpload","Textures","PortalTarget","ColorPickerModal","_Map","_Map2","mapEnabled","mapVisible","northAxis","map-view","_Resize","_MapModal","_MapModal2","googleMaps","ol","d3","startResolution","autocomplete","mapModalVisible","api","showMapDialogOnStart","showGrid","gridVisible","initAutoComplete","loadMap","updateMapView","clearStartResolution","beforeDestroy","$off","methods","then","maps","places","Autocomplete","$refs","addressSearch","addListener","place","getPlace","lat","lng","innerHTML","View","Map","layers","layer","Tile","source","OSM","on","getRotation","_","defer","console","log","updateSize","mapCenter","fromLonLat","resolution","unAdjustedResolution","unAdjustedDelta","getCenter","getPointResolution","getProjection","getResolution","resolutionAdjustment","setResolution","setCenter","setRotation","finishSetup","transform","scale","$emit","select","remove","showReticle","size","clientWidth","clientHeight","selectAll","enter","append","projectView","mapInitialized","mPerFt","METERS_PER_UNIT","unAdjustedResolutionMeters","gridCenterMeters","gridCenter","set","watch","handler","deep","MapModal","_EditBar","_EditBar2","mapGetters","componentInstance","currentStory","currentComponent","instanceType","visibleColumns","showInstanceEditor","destroyComponent","modifyComponentInstance","EditBar","_delete","_delete2","GenericInput","Delete","_EditableTable","_EditableTable2","_LibrarySelect","_LibrarySelect2","_double_arrows","_double_arrows2","_add_new","_add_new2","search","searchedRows","rows","omit","values","compact","toggleCompact","newRows","oldRows","selectRow","maxBy","EditableTable","LibrarySelect","PrettySelect","DoubleArrows","AddNew","_vueVirtualScroller","_copy_icon","_copy_icon2","sortKey","sortDescending","wrapperScrollLeft","sortedRows","sRows","sortBy","colName","Copy","RecycleScroller","expanded","caret","_TextureSelect","_TextureSelect2","_color","showColorModal","blurOnEnter","evt","$el","blur","openColorModal","colorPickerModalService","openModal","onChange","selectData","toPairs","display","disabled","colorStyles","background","parseInt","brightness","TextureSelect","_d3AwareThrottle","_d3AwareThrottle2","_methods","_methods2","_helpers3","_helpers4","_helpers5","_helpers6","_drawing","_drawing2","xScale","rwuToGrid","yScale","axis","axis_generator","reduceTicks","componentFacingSelection","transformAtLastRender","zoomIdentity","lastMousePosition","handleMouseMove","selectImage","currentImage","updateImage","crosshatchModifiers","-highlight","-selected","-facing-selection","","highlightSnapTarget","renderGrid","reloadGridAndScales","escapeAction","handleKeyDown","zoomToFit","scaleTo","removeEventListener","currentMode","modeTab","currentTool","previousStoryVisible","scaleX","scaleY","windowDefs","doorDefs","windowWidths","sumBy","allVertices","currentStoryGeometry","denormalizedGeometry","currentSpace","currentShading","currentComponentInstance","currentSpaceProperty","spacePropertyKey","windowAndDoorDefs","currentComponentType","currentComponentDefinition","currentSubSelection","currentComponentInstanceId","component_instance_id","dimensions","previousStory","currentStoryNumber","previousStoryGeometry","previousStoryPolygons","polygonsFromGeometry","current","clickable","polygons","currentStoryPolygons","walls","edgesLookup","keyBy","vertsLookup","fc","groupBy","numOccurences","edgeId","interior","daylightingControlLocs","_this6","spaceEdges","visibleVerts","_this7","redraw","showOrHideAxes","updateGrid","draw","clearHighlights","newTransform","lastTransform","style","windowCenterLocs","_this8","wind","denormalizeWindowOrDoor","_pointDistanceToSegme","doorCenterLocs","_this9","_pointDistanceToSegme2","currentComponentTypeLocs","defn","windowsOnFace","_this10","selected","facingSelection","doorsOnFace","_this11","_this12","extraPolygonAttrs","model","modelType","labelPosition","polygonLabelPosition","pitchedRoof","promptUpload","bind","pxPerRWU","_state$application$sc","pixels","rwuRange","imageInput","click","uploadImage","event","files","that","_loop","file","reader","FileReader","onload","rwuHeight","rwuWidth","readAsDataURL","geometryInspector","storyInspector","startpoint","endpoint","_v2","currentSubSelectionFace","keyForMode","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_EditableSelectList","_EditableSelectList2","body","hotkeyAddNew","currentStoryGeom","objectTypesDisplay","objectTypes","ot","currentComponentDef","ci","selectedObject","keyForCurrentMode","componentInstanceMode","addRowPermitted","renderByMode","currMode","oldMode","addNewOnHotkey","createObject","changeMode","newMode","modifyObject","rowId","_ref$duplicate","duplicate","selectLatest","duplicateRow","mark","_callee","newName","copyNum","wrap","_context","prev","cloneStory","$nextTick","match","privateKey","stop","newestRow","_replaceIdsForCloning","_modelHelpers$replace","destroyDuplicateSpaces","destroyObject","o","EditableSelectList","_vueSwatches","_vueSwatches2","closeOnEsc","Portal","Swatches","_svgs","_svgs2","_NonChromeWarning","_NonChromeWarning2","address","online","importFloorplanAsFile","importFloorplan","readAsText","JSON","parse","NonChromeWarning","close","_ModalBase","_ModalBase2","downloadName","focus","downloadFile","createElement","blob","Blob","dataToDownload","setAttribute","URL","createObjectURL","ModalBase","_Info","_Info2","_ExpandableDrawer","_ExpandableDrawer2","Info","ExpandableDrawer","_Library","_Library2","libraryExpanded","objectTypesForTab","subselectionType","sst","resetSize","setWidthForOpenLibrary","Library","isChrome","isChromium","chrome","qt","winNav","navigator","vendorName","vendor","isOpera","userAgent","isIEedge","isIOSChrome","normalizedOpts","attachEditable","isArray","isString","warn","handleChange","stopPropagation","type_id","renderableProperties","renderableOptions","open","choose","ulStyle","bb","getBoundingClientRect","left","top","_from","_from2","modifiers","loadCssStyles","checkTexturesList","css","styleSheet","cssText","styles","appendChild","createTextNode","head","missingTextures","patterns","extraTextures","modSuffixes","querySelectorAll","ms","endsWith","getAttribute","cssStyles","contents","wrapped","btoa","windowStyles","_SaveAsModal","_SaveAsModal2","_Settings","_Settings2","_RenderByDropdown","_RenderByDropdown2","_ComponentInstanceEditBar","_ComponentInstanceEditBar2","showSaveModal","thingWereSaving","visibleComponentType","showGroundPropsModal","setImageTool","exportData","importDataAsFile","updateUnits","allowSettingUnits","rwUnits","latestCreatedCompId","allComponents","Number","ct","defs","timetravelInitialized","showImportExport","currentSubselectionType","availableTools","tools","mt","SaveAsModal","Settings","RenderByDropdown","ComponentInstanceEditBar","boxAroundWindow","offset","_unitPerpVector","drawWindowToWallRatio","datum","selection","wwrE","merge","classed","drawDoor","doorE","exit","drawSingleWindow","windowE","each","_unitPerpVector2","linecapOffset","$this","raise","drawRepeatingWindows","rwE","rw","widthX","widthY","thisCenter","drawWindow","chart","distanceMeasure","measureE","_unitPerpVector3","lineOffset","measure","_unitPerpVector4","text","distance","roundDistance","_unitVector","arrowHead","rotate","angle","adjust","drawWindowGuideline","drawMeasure","drawDaylightingControl","dcE","drawDaylightingControlGuideline","guideE","dir","nearestEdge","dotProduct","parallel","perp","guide","bestResizeCursor","xOff","yOff","RESIZE_CURSORS","vec","drawImage","startX","startY","currX","currY","invR","moveable","drag","sourceEvent","_d3$mouse","mouse","querySelector","_d3$mouse2","_d3$mouse3","_d3$mouse4","_offset","_offset2","scaleTransform","pxCenter","pxOrigin","startVec","distCurrToOrigin","distStartToOrigin","currVec","translate","resizeable","_d3$mouse5","_d3$mouse6","_d3$mouse7","_d3$mouse8","trans","rotationAngle","startAngle","currAngle","rotateable","_d3$mouse9","_d3$mouse10","_d3$mouse11","_d3$mouse12","imageGroupE","moveableWrapperE","controlsE","corner","imageGroup","ig","rotateCursor","forIn","tl","tr","bl","br","label","drawWall","wallE","wall","drawMethods","_d","invRoot2","ticksInRange","range","ceil","transformDiff","t1","t2","constructor","_polylabel","_polylabel2","gridClicked","addPoint","placeOrSelectComponent","deselectImages","assignProperty","gridCoords","gridPoint","rwuPoint","gridPointToRWU","sp","componentToSelect","distToComp","activeElement","tagName","deleteElement","removeSelectedComponent","payload","toSelect","placeDaylightingControl","placeWindowOrDoor","highlightComponentToSelect","highlightWindowGuideline","highlightDaylightingControlGuideline","_payload","raiseOrLowerImages","lower","gridToRWU","snapTarget","findSnapTarget","origin","savePolygonFace","newPoint","drawPoints","eraseRectangularSelection","saveRectangularFace","MouseEvent","highlightComponentToPlaceOrSelect","guidePoint","ellipsePoint","drawGuideLines","v1GridCoords","v2GridCoords","clearComponentHighlights","highlightComponentToPlace","highlightWindow","highlightDaylightingControl","highlightDoor","eraseGuidelines","guidelinePoints","guidelinePaths","guidelineArea","guidelinePolys","svg","toFixed","areaPoints","X","Y","_polygonLabelPosition","area","areaTextNoUnits","toString","areaText","code","which","model_id","pointPath","registerDrag","deregisterD3Events","registerSelectEvents","registerFillEvents","endX","endY","drawPolygons","recalcScales","polyEnter","order","drawWalls","drawImages","zoomEnd","redrawPoints","snapOnlyToEdges","edge_component","strictSnapTargets","realPoint","snappingEdgeData","polygonOriginPoint","penaltyFactor","orderedTargets","snappingEdge","snappingVertex","snappingVertexData","xTickSpacing","yTickSpacing","snapCoords","snappableAngles","lastPoint","thetaDeg","atan2","rotatePoint","snappableVertices","nearestVertex","aDist","bDist","snappableEdges","distyEdges","aStoryGeometry","aV1","aV2","aProjection","v1Coords","V2Coords","sign","radians","dX","dY","resolveBounds","currXExtent","currYExtent","plusMargin","extent","gridParent","_fitToAspectRatio","nullTransform","zoomBehavior","h","calcGrid","zoomXScale","zoomYScale","scaleLinear","domain","copy","strokeWidth","fontSize","scaleExtent","newScaleX","rescaleX","newScaleY","rescaleY","xDomain","yDomain","padTickY","translateEntities","_lastTransform","transformTo","zoomBy","newScale","transition","duration","_d3$zoomIdentity","_d3$zoomIdentity2","xTicks","yTicks","axisBottom","tickSize","tickPadding","tickFormat","formatTickX","axisRight","formatTickY","tickValues","ticks","rwu","gridValue","invert","rwuPointToGrid","pointsIn","maxTicks","rangeX","spacingScaled","rangeY","paddingPerDigit","numDigits","yPadding","_vuex2","_index3","_index4","_index5","_index6","_index7","_index8","_export","_export2","_importFloorplan","_importFloorplan2","_importLibrary","_importLibrary2","use","Store","strict","modules","importLibrary","changeUnits","newUnits","oldUnits","commit","setCurrentStoryId","setCurrentSubSelectionId","setCurrentComponentId","setCurrentComponentDefinitionId","setCurrentComponentInstanceId","setCurrentSnapMode","setCurrentModeTab","setCurrentSubselectionType","setCurrentTool","setCurrentMode","setCurrentSpacePropertyId","setScaleX","setScaleY","subSelectionId","subselection_ids","currentSubSelectionType","componentDefinitionId","component_definition_id","compDefId","spacePropertyId","space_property_id","currentStoryDenormalizedGeom","component_id","_extends4","storyId","getOrCreateVertex","_createFaceFromPoints","_createFaceFromPoints2","_componentPreservationSociety","initGeometry","destroyGeometry","geometryId","eraseSelection","rootGetters","eraseResult","moveFaceByOffset","movedPoints","newGeoms","newGeometriesOfOverlappedFaces","movedGeom","validateFaceGeometry","newGeom","createFaceFromPoints","destroyFaceAndDescendents","expVertices","expEdgeRefs","replaceFacePoints","replacementVertIds","gVert","updatedVertices","updatedEdges","gEdge","trimGeometry","vertsReferencedByDCs","vertsReferencedElsewhere","cloneStoryGeometry","currentStoryId","existingFace","facePoints","existingFaceVertices","faceGeometry","newEdges","newVertices","oldEdgeLength","oldVertexLength","storeFace","splitEdges","intersectedFaces","inter","newFaceVertices","errantCase","newFaceGeometries","verts","errantGeometry","zip","_ref2$","_context$dispatch","findExistingEdge","sharedEdge","matchOrCreateEdge","existingEdges","matchOrCreateEdges","InvalidFaceGeometry","message","errOnTooFewVerts","errOnDuplicateVerts","errOnVertexIntersectsEdge","v1id","v2id","errOnEdgeIntersectsEdge","e1","e2","e1v1","e1v2","e2v1","e2v2","faceEdges","edgesFromVerts","replacementEdgeRefs","dyingEdgeId","affectedFaces","replaceEdgeRefs","affectedFace","dyingEdgeReversed","replacementEdges","edgesToSplit","determineEdges","splittingVertices","priorIterationEdges","edgeToDelete","edgeInfo","_entries2","currentProjectSpacing","edgeChanges","_entries","_checkGeometry","_checkGeometry2","denormalized","errors","edgesInUse","_set2","vertsOnEdges","verticesInUse","newVerts","missingEdges","missingVerts","createVertex","createFace","splice","createEdgeRef","setEdgeRefsForFace","ref","destroyEdgeRef","replaceEdgeRef","_face$edgeRefs","edgeRefIx","newEdgeId","ensureVertsExist","ensureEdgesExist","splitEdge","replacement","updateClonedGeometry","newGeometry","_set","_assign","_assign2","_factory3","_factory4","initStory","initSpace","initShading","destroyStory","storyIndex","destroySpace","destroyShading","destroyImage","destroyWindowDef","destroyDaylightingControlDef","destroyDoorDef","updateStoryWithData","validProperties","cleanedPayload","updateSpaceWithData","allSpaces","updateShadingWithData","allShading","updateImageWithData","allImages","updateWindowDefinitionWithData","windowDefnDefaults","windowsToDelete","tail","pl","updateObjectWithData","createImageForStory","createObjectWithType","createObjectWithTypeAndSelect","selectStory","storyInfo","createWindow","windowsOnEdge","createWindows","deletes","creates","createDoor","doorDefn","createDoors","createDaylightingControl","daylightingDefn","destroyDaylightingControl","destroyWindow","destroyWindows","destroyDoor","destroyDoors","modifyDaylightingControl","modifyWindow","modifyDoor","destroyAllComponents","all","objs","out","initObject","initObjectWithSelection","lst","found","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","dropWindows","dropDoors","dropDaylightingControls","_ref13","destroyWindowsByDefinition","_ref14","destroyDaylightingControlsByDefinition","_ref15","destroyDoorsByDefinition","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","cloneObjectArray","_validator","_validator2","setUnits","setLanguage","setNorthAxis","setMapVisible","setMapEnabled","setMapInitialized","setGridVisible","setSpacing","setViewMinX","setViewMinY","setViewMaxX","validateInt","validateMin","validatedPayload","setViewMaxY","setDimensions","setZoom","setMapLatitude","validateFloat","validateMax","setMapLongitude","setMapZoom","setMapRotation","setPreviousStoryVisible","setShowImportExport","modifyGround","snapTolerance","defaultTolerance","angleTolerance","setConfigNorthAxis","_project","_project2","importState","newState","keys","serializeState","filteredActions","permanentActions","logState","pastTimetravelStates","futureTimetravelStates","currentlyInBatch","triggeringAction","replaceState","originalReplaceState","originalCommit","_len2","_key2","originalDispatch","_len3","_key3","maybeSaveCheckpoint","saveCheckpoint","resetBatchFlag","potentiallyRollbackCheckpoint","prevStates","pop","_pastTimetravelStates","replacementState","oldAction","_futureTimetravelStat","logTimetravel","formatHex","formatObject","mungeWindows","repeatingWindowDefs","wd","def","mungeStories","geometries","exportObject","_version","_version2","colorFactory","typeIndices","nextTextureForType","maybeUpdateProject","withHandleProp","withWindowDefinitionDefaults","window_definition_type","withStoryDefaults","forEachNestedProp","propName","versionNumber","largestId","pr","noReloadGrid","count","existingNames","test","split","importObj","duplicateCount","projectSystem","librarySystemRaw","librarySystem","localUnitsPayload","Validator","invalidKeys","validateLength","minLength","parseFloat","validateBoolean","checkVertexList","fst","snd","thd","checkFace","checkGeometry","vertPos","vertPosToId","edgePos","edgePosToId","errs","d3Debounce","invokeFunc","time","lastArgs","thisArg","lastThis","saveD3Event","d3Selection","lastD3Event","lastInvokeTime","leadingEdge","timerId","timerExpired","leading","remainingWait","timeSinceLastCall","lastCallTime","timeSinceLastInvoke","maxing","maxWait","shouldInvoke","now","trailingEdge","trailing","cancel","flush","debounced","isInvoking","TypeError","toNumber","d3AwareThrottle","deepFreeze","forOwn","_isFrozen2","_freeze2","_freeze","_isFrozen","_vm","_h","$createElement","_self","directives","rawName","expression","_e","staticRenderFns","class","_s","placeholder","domProps","keydown","$event","$forceUpdate","staticClass","change","title","_t","to","inline","show-fallback","callback","$$v","lazy","_n","input","composing","_l","data-column","updateRow","destroy","_obj","mousedown","saveWhat","spellcheck","keyup","_k","pointer-events","nativeOn","importInput","active","data-modetab","_m","checked","_i","$$a","$$el","$$c","$$i","data-tool","item-size","scroll","scrollLeft","scopedSlots","_u","fn","-webkit-transform","clip-path","fixed","class-name","min-width","proxy","selectedItemId","deleteRow","staticStyle","accept","expandable-drawer","modifier","patternUnits","fill-opacity","stroke","stroke-width","stroke-opacity","searchAvailable","data-id","selectItem","background-color","destroyItem","data-object-type","selectedObjectType","addRow","destroyRow","selectedRowId","editRow","opt","selectObjectType","reduce-ticks","data-transform-plz","disabled-component","nav-on-top","rx","ry","text-indent","text-transform","block-progression","overflow","stroke-miterlimit","XMLHttpRequest"],"mappings":"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AAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GqFxhazE,QAAS6jE,GAAW7jE,GAUjC,MATAgD,GAAA9C,QAAE4jE,OAAO9jE,EAAK,SAAC6M,GACT7J,EAAA9C,QAAEwmB,SAAS7Z,IACbg3D,EAAWh3D,MAIV,EAAAk3D,EAAA7jE,SAAgBF,KACnB,EAAAgkE,EAAA9jE,SAAcF,GAETA,ErF4/ZR4B,OAAOgL,eAAe/M,EAAS,cAC7BgN,OAAO,GAGT,IAAIo3D,GAAUnkE,EAAoB,KAE9BkkE,EAAWjkE,EAAuBkkE,GAElCC,EAAYpkE,EAAoB,KAEhCikE,EAAahkE,EAAuBmkE,EAExCrkE,GAAQK,QqFlhae2jE,CAFxB,IAAAz2D,GAAAtN,EAAA,GrFwhaKkD,EAAWjD,EAAuBqN,IAmBjC,SAAUxN,EAAQC,GAEvB,YsF7iaDD,GAAOC,QAAU,StFkjaR,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEH,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAKf,CACA,CACA,CACA,CACA,CACA,CACA,CACA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","file":"static/js/app.9ab3d288efa6b9b8c444.js","sourcesContent":["webpackJsonp([2,0],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(316);\n\t\n\tvar _vue = __webpack_require__(79);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _index = __webpack_require__(284);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _timetravel = __webpack_require__(304);\n\t\n\tvar _timetravel2 = _interopRequireDefault(_timetravel);\n\t\n\tvar _App = __webpack_require__(640);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _PrettySelect = __webpack_require__(121);\n\t\n\tvar _PrettySelect2 = _interopRequireDefault(_PrettySelect);\n\t\n\tvar _GenericInput = __webpack_require__(247);\n\t\n\tvar _GenericInput2 = _interopRequireDefault(_GenericInput);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.component('pretty-select', _PrettySelect2.default);\n\t_vue2.default.component('generic-input', _GenericInput2.default);\n\t\n\twindow.eventBus = new _vue2.default();\n\t\n\twindow.application = new _vue2.default({\n\t  store: _index2.default,\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _App2.default }\n\t});\n\t\n\t_timetravel2.default.init(_index2.default);\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _values = __webpack_require__(322);\n\t\n\tvar _values2 = _interopRequireDefault(_values);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _slicedToArray2 = __webpack_require__(53);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\texports.ringEquals = ringEquals;\n\texports.distanceBetweenPoints = distanceBetweenPoints;\n\texports.fitToAspectRatio = fitToAspectRatio;\n\texports.edgeDirection = edgeDirection;\n\texports.haveSimilarAngles = haveSimilarAngles;\n\texports.unitPerpVector = unitPerpVector;\n\texports.unitVector = unitVector;\n\texports.projectionOfPointToLine = projectionOfPointToLine;\n\texports.pointDistanceToSegment = pointDistanceToSegment;\n\texports.ptsAreCollinear = ptsAreCollinear;\n\texports.repeatingWindowCenters = repeatingWindowCenters;\n\texports.cleanInvalidPoly = cleanInvalidPoly;\n\texports.vertInRing = vertInRing;\n\texports.replaceIdsForCloning = replaceIdsForCloning;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(179);\n\t\n\tvar turf = _interopRequireWildcard(_helpers);\n\t\n\tvar _areaPolygon = __webpack_require__(254);\n\t\n\tvar _areaPolygon2 = _interopRequireDefault(_areaPolygon);\n\t\n\tvar _polygonClipping = __webpack_require__(629);\n\t\n\tvar _booleanPointInPolygon = __webpack_require__(252);\n\t\n\tvar _booleanPointInPolygon2 = _interopRequireDefault(_booleanPointInPolygon);\n\t\n\tvar _utilities = __webpack_require__(126);\n\t\n\tvar _generateId = __webpack_require__(51);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction toTurfPoly(vertices) {\n\t  var coords = vertices.map(function (v) {\n\t    return [v.x, v.y];\n\t  });\n\t  if (coords[0][0] !== coords[coords.length - 1][0] || coords[0][1] !== coords[coords.length - 1][1]) {\n\t    coords.push(coords[0]);\n\t  }\n\t  return turf.polygon([coords]);\n\t}\n\t\n\tfunction ringEqualsWithSameWindingOrder(vs, ws) {\n\t  var pivotVert = vs[0];\n\t  var pivotIx = _lodash2.default.findIndex(ws, _lodash2.default.pick(pivotVert, ['x', 'y']));\n\t\n\t  if (pivotIx === -1) return false;\n\t  var wsp = _lodash2.default.map([].concat((0, _toConsumableArray3.default)(ws.slice(pivotIx)), (0, _toConsumableArray3.default)(ws.slice(0, pivotIx))), function (w) {\n\t    return _lodash2.default.pick(w, ['x', 'y']);\n\t  });\n\t  return _lodash2.default.isEqualWith(vs, wsp, function (v, w) {\n\t    return _lodash2.default.isMatch(v, w);\n\t  });\n\t}\n\t\n\tfunction dropClosingVertex(vs) {\n\t  if (vs.length <= 3) return vs;\n\t  if (_lodash2.default.isEqual(vs[0], vs[vs.length - 1])) return vs.slice(0, -1);\n\t  return vs;\n\t}\n\t\n\tfunction ringEquals(vs_, ws_) {\n\t  if (vs_.length !== ws_.length) return false;\n\t  if (vs_.length === 0) return true;\n\t\n\t  var vs = dropClosingVertex(vs_);\n\t  var ws = dropClosingVertex(ws_);\n\t  return ringEqualsWithSameWindingOrder(vs, ws) || ringEqualsWithSameWindingOrder(vs, [].concat((0, _toConsumableArray3.default)(ws)).reverse());\n\t}\n\t\n\tfunction distanceBetweenPoints(p1, p2) {\n\t  var dx = p1.x - p2.x,\n\t      dy = p1.y - p2.y;\n\t  return Math.sqrt(dx * dx + dy * dy);\n\t}\n\t\n\tfunction fitToAspectRatio(xExtent, yExtent, widthOverHeight) {\n\t  var adjustToFit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'expand';\n\t\n\t  var xSpan = xExtent[1] - xExtent[0],\n\t      ySpan = yExtent[1] - yExtent[0],\n\t      xAccordingToY = ySpan * widthOverHeight,\n\t      yAccordingToX = xSpan / widthOverHeight,\n\t      xDiff = xAccordingToY - xSpan,\n\t      yDiff = yAccordingToX - ySpan;\n\t\n\t  if (xDiff > 0 === (adjustToFit === 'expand')) {\n\t    return {\n\t      xExtent: [xExtent[0] - xDiff / 2, xExtent[1] + xDiff / 2],\n\t      yExtent: yExtent\n\t    };\n\t  }\n\t  return {\n\t    xExtent: xExtent,\n\t    yExtent: [yExtent[0] - yDiff / 2, yExtent[1] + yDiff / 2]\n\t  };\n\t}\n\t\n\tfunction edgeDirection(_ref) {\n\t  var start = _ref.start,\n\t      end = _ref.end;\n\t\n\t  var deltaX = end.x - start.x,\n\t      deltaY = end.y - start.y;\n\t  return deltaX === 0 ? 0.5 * Math.PI : Math.atan(deltaY / deltaX);\n\t}\n\t\n\tfunction haveSimilarAngles(edge1, edge2) {\n\t  var angleDiff = edgeDirection(edge1) - edgeDirection(edge2),\n\t      correctedDiff = Math.min(Math.abs(angleDiff), Math.PI - angleDiff);\n\t  return correctedDiff < 0.05 * Math.PI;\n\t}\n\tfunction normalize(_ref2) {\n\t  var dx = _ref2.dx,\n\t      dy = _ref2.dy;\n\t\n\t  if (dx === 0 && dy === 0) {\n\t    return { dx: 0, dy: 0 };\n\t  }\n\t  var normalization = Math.sqrt(dx * dx + dy * dy);\n\t  return {\n\t    dx: dx / normalization,\n\t    dy: dy / normalization\n\t  };\n\t}\n\tfunction unitPerpVector(p1, p2) {\n\t  var dx = void 0,\n\t      dy = void 0;\n\t  if (p1.x !== p2.x) {\n\t    dy = 1;\n\t    dx = (p1.y - p2.y) / (p1.x - p2.x);\n\t  } else if (p1.y !== p2.y) {\n\t    dx = 1;\n\t    dy = (p1.x - p2.x) / (p1.y - p2.y);\n\t  } else {\n\t    dx = dy = 1;\n\t  }\n\t  return normalize({ dx: dx, dy: dy });\n\t}\n\t\n\tfunction unitVector(p1, p2) {\n\t  var dx = p2.x - p1.x,\n\t      dy = p2.y - p1.y;\n\t  return normalize({ dx: dx, dy: dy });\n\t}\n\t\n\tfunction projectionOfPointToLine(point, line) {\n\t  var _line$p = line.p1,\n\t      x1 = _line$p.x,\n\t      y1 = _line$p.y,\n\t      _line$p2 = line.p2,\n\t      x2 = _line$p2.x,\n\t      y2 = _line$p2.y;\n\t\n\t  var A = point.x - x1,\n\t      B = point.y - y1,\n\t      C = x2 - x1,\n\t      D = y2 - y1,\n\t      dot = A * C + B * D,\n\t      lenSq = C * C + D * D || 2,\n\t      param = dot / lenSq;\n\t\n\t  if (param <= 0) {\n\t    return line.p1;\n\t  } else if (param > 1) {\n\t    return line.p2;\n\t  }\n\t\n\t  return {\n\t    x: x1 + param * C,\n\t    y: y1 + param * D\n\t  };\n\t}\n\t\n\tfunction pointDistanceToSegment(pt, _ref3) {\n\t  var start = _ref3.start,\n\t      end = _ref3.end;\n\t\n\t  var proj = projectionOfPointToLine(pt, { p1: start, p2: end });\n\t  return {\n\t    dist: distanceBetweenPoints(pt, proj),\n\t    proj: proj\n\t  };\n\t}\n\t\n\tfunction ptsAreCollinear(p1, p2, p3) {\n\t  var _ref4 = [p1.x, p1.y],\n\t      a = _ref4[0],\n\t      b = _ref4[1],\n\t      _ref5 = [p2.x, p2.y],\n\t      m = _ref5[0],\n\t      n = _ref5[1],\n\t      x = p3.x,\n\t      y = p3.y;\n\t\n\t  return Math.abs((n - b) * (x - m) - (y - n) * (m - a)) < 0.00001;\n\t}\n\t\n\tfunction repeatingWindowCenters(_ref6) {\n\t  var start = _ref6.start,\n\t      end = _ref6.end,\n\t      spacing = _ref6.spacing,\n\t      width = _ref6.width;\n\t\n\t  var maxDist = distanceBetweenPoints(start, end),\n\t      centers = [],\n\t      direction = unitVector(start, end);\n\t\n\t  var nextCenterDist = width / 2;\n\t  while (nextCenterDist + width / 2 < maxDist) {\n\t    var _offX = direction.dx * nextCenterDist,\n\t        _offY = direction.dy * nextCenterDist;\n\t    centers.push({ x: start.x + _offX, y: start.y + _offY, distFromStart: nextCenterDist });\n\t    nextCenterDist += width + (spacing || 1);\n\t  }\n\t  if (centers.length === 0) return [];\n\t  var margin = (distanceBetweenPoints(centers[centers.length - 1], end) - width / 2) / 2,\n\t      totalDist = distanceBetweenPoints(start, end),\n\t      offX = direction.dx * margin,\n\t      offY = direction.dy * margin;\n\t\n\t  return centers.map(function (c) {\n\t    return {\n\t      x: c.x + offX,\n\t      y: c.y + offY,\n\t      alpha: (c.distFromStart + margin) / totalDist\n\t    };\n\t  });\n\t}\n\t\n\tfunction cleanInvalidPoly(vertices) {\n\t  for (var ix = 1; ix < vertices.length - 1; ix++) {\n\t    var a = vertices[ix - 1],\n\t        b = vertices[ix],\n\t        c = vertices[ix + 1];\n\t    if (!ptsAreCollinear(a, b, c)) continue;\n\t\n\t    var positionAlongEdge = _lodash2.default.reject([(a.x - b.x) / (c.x - b.x), (a.y - b.y) / (c.y - b.y)], isNaN)[0];\n\t\n\t    if (positionAlongEdge > 1 || positionAlongEdge < 0) continue;\n\t\n\t    return cleanInvalidPoly([].concat((0, _toConsumableArray3.default)(vertices.slice(0, ix)), (0, _toConsumableArray3.default)(vertices.slice(ix + 1))));\n\t  }\n\t\n\t  return vertices;\n\t}\n\t\n\tvar helpers = {\n\t  setOperation: function setOperation(type, f1Points, f2Points) {\n\t    var f1Poly = toTurfPoly(f1Points).geometry.coordinates,\n\t        f2Poly = toTurfPoly(f2Points).geometry.coordinates;\n\t    var operation = type === 'union' ? _polygonClipping.union : type === 'intersection' ? _polygonClipping.intersection : type === 'difference' ? _polygonClipping.difference : null;\n\t    if (operation === null) {\n\t      throw new Error('invalid operation \"' + type + '\". expected union, intersection, or difference');\n\t    }\n\t    var result = operation(f1Poly, f2Poly);\n\t    if (result === null || result.length === 0) {\n\t      return [];\n\t    }\n\t    if (result.length > 1) return { error: 'no split faces' };\n\t    if (result[0].length > 1) return { error: 'no holes' };\n\t    return dropClosingVertex(result[0][0].map(function (_ref7) {\n\t      var _ref8 = (0, _slicedToArray3.default)(_ref7, 2),\n\t          x = _ref8[0],\n\t          y = _ref8[1];\n\t\n\t      return { x: x, y: y };\n\t    }));\n\t  },\n\t  intersection: function intersection(f1, f2) {\n\t    return this.setOperation('intersection', f1, f2);\n\t  },\n\t  union: function union(f1, f2) {\n\t    return this.setOperation('union', f1, f2);\n\t  },\n\t  difference: function difference(f1, f2) {\n\t    return this.setOperation('difference', f1, f2);\n\t  },\n\t  areaOfSelection: function areaOfSelection(points) {\n\t    if (points.length < 3) return 0;\n\t    return (0, _areaPolygon2.default)(points);\n\t  },\n\t  splittingVerticesForEdgeId: function splittingVerticesForEdgeId(edge, geometry, spacing, vertices) {\n\t    var _this = this;\n\t\n\t    var vertexMap = createEdgeMap(geometry, true)[2];\n\t    if (!vertices) {\n\t      vertices = geometry.vertices;\n\t    }\n\t\n\t    var v1 = vertexMap[edge.v1];\n\t    if (!v1) {\n\t      v1 = geometry.vertices.find(function (v) {\n\t        return v.id === edge.v1;\n\t      });\n\t    }\n\t\n\t    var v2 = vertexMap[edge.v2];\n\t    if (!v2) {\n\t      v2 = geometry.vertices.find(function (v) {\n\t        return v.id === edge.v2;\n\t      });\n\t    }\n\t    var denormalizedEdge = (0, _extends3.default)({}, edge, {\n\t      v1: v1,\n\t      v2: v2\n\t    });\n\t\n\t    if (!denormalizedEdge.v1 || !denormalizedEdge.v2) {\n\t      return [];\n\t    }\n\t\n\t    return vertices.filter(function (vertex) {\n\t\n\t      var vertexIsEndpointById = denormalizedEdge.v1.id === vertex.id || denormalizedEdge.v2.id === vertex.id,\n\t          vertexIsLeftEndpointByValue = denormalizedEdge.v1.x === vertex.x && denormalizedEdge.v1.y === vertex.y,\n\t          vertexIsRightEndpointByValue = denormalizedEdge.v2.x === vertex.x && denormalizedEdge.v2.y === vertex.y,\n\t          vertexIsEndpoint = vertexIsEndpointById || vertexIsLeftEndpointByValue || vertexIsRightEndpointByValue;\n\t\n\t      if (vertexIsEndpoint) {\n\t        return false;\n\t      }\n\t\n\t      var projection = _this.projectionOfPointToLine(vertex, {\n\t        p1: denormalizedEdge.v1,\n\t        p2: denormalizedEdge.v2\n\t      });\n\t      var distBetween = _this.distanceBetweenPoints(vertex, projection);\n\t      var shouldSplit = distBetween <= spacing / 20;\n\t      return shouldSplit;\n\t    });\n\t  },\n\t\n\t\n\t  projectionOfPointToLine: projectionOfPointToLine,\n\t\n\t  distanceBetweenPoints: distanceBetweenPoints,\n\t\n\t  intersectionOfLines: function intersectionOfLines(p1, p2, p3, p4) {\n\t    var eps = 0.0000001;\n\t\n\t    var between = function between(a, b, c) {\n\t      return a - eps <= b && b <= c + eps;\n\t    };\n\t\n\t    var x = ((p1.x * p2.y - p1.y * p2.x) * (p3.x - p4.x) - (p1.x - p2.x) * (p3.x * p4.y - p3.y * p4.x)) / ((p1.x - p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x - p4.x));\n\t    var y = ((p1.x * p2.y - p1.y * p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x * p4.y - p3.y * p4.x)) / ((p1.x - p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x - p4.x));\n\t\n\t    if (isNaN(x) || isNaN(y) || this.distanceBetweenPoints({ x: x, y: y }, p1) < eps || this.distanceBetweenPoints({ x: x, y: y }, p2) < eps || this.distanceBetweenPoints({ x: x, y: y }, p3) < eps || this.distanceBetweenPoints({ x: x, y: y }, p4) < eps) {\n\t      return false;\n\t    } else {\n\t      if (p1.x >= p2.x) {\n\t        if (!between(p2.x, x, p1.x)) {\n\t          return false;\n\t        }\n\t      } else {\n\t        if (!between(p1.x, x, p2.x)) {\n\t          return false;\n\t        }\n\t      }\n\t      if (p1.y >= p2.y) {\n\t        if (!between(p2.y, y, p1.y)) {\n\t          return false;\n\t        }\n\t      } else {\n\t        if (!between(p1.y, y, p2.y)) {\n\t          return false;\n\t        }\n\t      }\n\t      if (p3.x >= p4.x) {\n\t        if (!between(p4.x, x, p3.x)) {\n\t          return false;\n\t        }\n\t      } else {\n\t        if (!between(p3.x, x, p4.x)) {\n\t          return false;\n\t        }\n\t      }\n\t      if (p3.y >= p4.y) {\n\t        if (!between(p4.y, y, p3.y)) {\n\t          return false;\n\t        }\n\t      } else {\n\t        if (!between(p3.y, y, p4.y)) {\n\t          return false;\n\t        }\n\t      }\n\t    }\n\t    return {\n\t      x: x,\n\t      y: y\n\t    };\n\t  },\n\t  vertexForId: function vertexForId(vertex_id, geometry) {\n\t    return geometry.vertices.find(function (v) {\n\t      return v.id === vertex_id;\n\t    });\n\t  },\n\t  vertexForCoordinates: function vertexForCoordinates(coordinates, geometry) {\n\t    var _this2 = this;\n\t\n\t    return geometry.vertices.find(function (v) {\n\t      return _this2.distanceBetweenPoints(v, coordinates) < 0.00001;\n\t    });\n\t  },\n\t  verticesForFaceId: function verticesForFaceId(face_id, geometry) {\n\t    var _this3 = this;\n\t\n\t    return geometry.faces.find(function (f) {\n\t      return f.id === face_id;\n\t    }).edgeRefs.map(function (edgeRef) {\n\t      var edge = _this3.edgeForId(edgeRef.edge_id, geometry),\n\t          vertexId = edgeRef.reverse ? edge.v2 : edge.v1;\n\t      return _this3.vertexForId(vertexId, geometry);\n\t    });\n\t  },\n\t  edgeForId: function edgeForId(edge_id, geometry) {\n\t    return geometry.edges.find(function (e) {\n\t      return e.id === edge_id;\n\t    });\n\t  },\n\t  edgesForVertexId: function edgesForVertexId(vertex_id, geometry) {\n\t    return geometry.edges.filter(function (e) {\n\t      return e.v1 === vertex_id || e.v2 === vertex_id;\n\t    });\n\t  },\n\t  edgesForFaceId: function edgesForFaceId(face_id, geometry) {\n\t    var _this4 = this;\n\t\n\t    return geometry.faces.find(function (f) {\n\t      return f.id === face_id;\n\t    }).edgeRefs.map(function (eR) {\n\t      return _this4.edgeForId(eR.edge_id, geometry);\n\t    });\n\t  },\n\t  faceForId: function faceForId(face_id, geometry) {\n\t    return geometry.faces.find(function (f) {\n\t      return f.id === face_id;\n\t    });\n\t  },\n\t  facesForVertexId: function facesForVertexId(vertex_id, geometry) {\n\t    var _this5 = this;\n\t\n\t    return geometry.faces.filter(function (face) {\n\t      return face.edgeRefs.find(function (edgeRef) {\n\t        var edge = _this5.edgeForId(edgeRef.edge_id, geometry);\n\t        return edge.v1 === vertex_id || edge.v2 === vertex_id;\n\t      });\n\t    });\n\t  },\n\t  facesForEdgeId: function facesForEdgeId(edge_id, geometry) {\n\t    return geometry.faces.filter(function (face) {\n\t      return face.edgeRefs.find(function (eR) {\n\t        return eR.edge_id === edge_id;\n\t      });\n\t    });\n\t  },\n\t  pointInFace: function pointInFace(point, faceVertices) {\n\t    var facePoly = toTurfPoly(faceVertices);\n\t    var testPoint = turf.point([point.x, point.y]);\n\t    return (0, _booleanPointInPolygon2.default)(testPoint, facePoly);\n\t  },\n\t\n\t\n\t  ptsAreCollinear: ptsAreCollinear,\n\t  syntheticRectangleSnaps: function syntheticRectangleSnaps(points, rectStart, cursorPt) {\n\t    var xMid = (rectStart.x + cursorPt.x) / 2;\n\t    var yMid = (rectStart.y + cursorPt.y) / 2;\n\t\n\t    return [].concat((0, _toConsumableArray3.default)(points.map(function (_ref9) {\n\t      var x = _ref9.x,\n\t          y = _ref9.y;\n\t      return { y: y, x: x + 2 * (xMid - x), synthetic: true, originalPt: { x: x, y: y } };\n\t    })), (0, _toConsumableArray3.default)(points.map(function (_ref10) {\n\t      var x = _ref10.x,\n\t          y = _ref10.y;\n\t      return { x: x, y: y + 2 * (yMid - y), synthetic: true, originalPt: { x: x, y: y } };\n\t    })));\n\t  },\n\t\n\t  edgeDirection: edgeDirection,\n\t  haveSimilarAngles: haveSimilarAngles,\n\t  pointDistanceToSegment: pointDistanceToSegment,\n\t\n\t  exceptFace: function exceptFace(geometry, face_id) {\n\t    if (!face_id) {\n\t      return geometry;\n\t    }\n\t    return (0, _extends3.default)({}, geometry, {\n\t      faces: _lodash2.default.reject(geometry.faces, { id: face_id })\n\t    });\n\t  },\n\t  denormalize: function denormalize(geometry) {\n\t    var _createEdgeMap = createEdgeMap(geometry),\n\t        _createEdgeMap2 = (0, _slicedToArray3.default)(_createEdgeMap, 2),\n\t        edges = _createEdgeMap2[0],\n\t        edgeMap = _createEdgeMap2[1];\n\t\n\t    var faces = geometry.faces.map(function (face) {\n\t      return {\n\t        id: face.id,\n\t        edges: face.edgeRefs.map(function (_ref11) {\n\t          var edge_id = _ref11.edge_id,\n\t              reverse = _ref11.reverse;\n\t          return (0, _extends3.default)({}, edgeMap[edge_id], {\n\t            edge_id: edge_id,\n\t            reverse: reverse\n\t          });\n\t        }),\n\t        get vertices() {\n\t          return (0, _utilities.dropConsecutiveDups)(_lodash2.default.flatMap(this.edges, function (e) {\n\t            return e.reverse ? [e.v2, e.v1] : [e.v1, e.v2];\n\t          }), function (v) {\n\t            return v.id;\n\t          });\n\t        }\n\t      };\n\t    });\n\t    return (0, _extends3.default)({}, geometry, {\n\t      edges: edges,\n\t      faces: faces\n\t    });\n\t  },\n\t  normalize: function normalize(geometry) {\n\t    var edges = _lodash2.default.uniqBy([].concat((0, _toConsumableArray3.default)(geometry.edges), (0, _toConsumableArray3.default)(_lodash2.default.flatMap(geometry.faces, function (f) {\n\t      return f.edges;\n\t    }))), 'id'),\n\t        vertices = _lodash2.default.uniqBy([].concat((0, _toConsumableArray3.default)(geometry.vertices), (0, _toConsumableArray3.default)(_lodash2.default.flatMap(edges, function (e) {\n\t      return [e.v1, e.v2];\n\t    }))), 'id');\n\t    return {\n\t      id: geometry.id,\n\t      vertices: vertices.map(function (v) {\n\t        return _lodash2.default.pick(v, ['id', 'x', 'y']);\n\t      }),\n\t      edges: edges.map(function (e) {\n\t        return {\n\t          id: e.id,\n\t          v1: e.v1.id,\n\t          v2: e.v2.id\n\t        };\n\t      }),\n\t      faces: geometry.faces.map(function (f) {\n\t        return {\n\t          id: f.id,\n\t          edgeRefs: f.edges.map(function (er) {\n\t            return { edge_id: er.id, reverse: er.reverse };\n\t          })\n\t        };\n\t      })\n\t    };\n\t  }\n\t};\n\t\n\tvar lastEdges = null;\n\tvar lastVertices = null;\n\tvar lastMap = null;\n\tvar lastArr = null;\n\tvar lastVertexMap = null;\n\t\n\tfunction createEdgeMap(geometry, memoize) {\n\t  if (!memoize || lastEdges !== geometry.edges || lastVertices !== geometry.vertices) {\n\t    var vertexMap = geometry.vertices.reduce(function (acc, cur) {\n\t      acc[cur.id] = cur;\n\t      return acc;\n\t    }, {});\n\t\n\t    lastMap = {};\n\t    lastArr = geometry.edges.map(function (edge) {\n\t      var newObj = (0, _extends3.default)({}, edge, {\n\t        v1: vertexMap[edge.v1],\n\t        v2: vertexMap[edge.v2]\n\t      });\n\t      lastMap[edge.id] = newObj;\n\t      return newObj;\n\t    });\n\t\n\t    if (memoize) {\n\t      lastEdges = geometry.edges;\n\t      lastVertices = geometry.vertices;\n\t      lastVertexMap = vertexMap;\n\t    }\n\t  }\n\t\n\t  return [lastArr, lastMap, lastVertexMap];\n\t}\n\t\n\tfunction isPointCoord(coord) {\n\t  return coord.length === 2 && _lodash2.default.isNumber(coord[0]) && _lodash2.default.isNumber(coord[1]);\n\t}\n\t\n\tfunction isRingCoords(coords) {\n\t  return coords.length >= 1 && _lodash2.default.every(coords, isPointCoord);\n\t}\n\t\n\tfunction isPolygonCoords(coords) {\n\t  return coords.length >= 1 && _lodash2.default.every(coords, isRingCoords);\n\t}\n\t\n\thelpers.inside = function (pt, poly) {\n\t  var ignoreBoundary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\t\n\t  if (!isPointCoord(pt)) throw new Error('point does not have correct coords: ' + pt);\n\t  if (!isPolygonCoords(poly)) throw new Error('polygon does not have correct coords: ' + poly);\n\t\n\t  var bbox = helpers.bboxOfRing(poly[0]);\n\t\n\t  if (bbox && helpers.inBBox(pt, bbox) === false) return false;\n\t\n\t  var insidePoly = false;\n\t  for (var i = 0; i < poly.length && !insidePoly; i++) {\n\t    if (helpers.inRing(pt, poly[0], ignoreBoundary)) {\n\t      var inHole = false;\n\t      var k = 1;\n\t\n\t      while (k < poly.length && !inHole) {\n\t        if (helpers.inRing(pt, poly[k], !ignoreBoundary)) {\n\t          inHole = true;\n\t        }\n\t        k++;\n\t      }\n\t      if (!inHole) insidePoly = true;\n\t    }\n\t  }\n\t  return insidePoly;\n\t};\n\t\n\thelpers.bboxOfRing = function (ring) {\n\t  return [_lodash2.default.min(_lodash2.default.map(ring, 0)), _lodash2.default.min(_lodash2.default.map(ring, 1)), _lodash2.default.max(_lodash2.default.map(ring, 0)), _lodash2.default.max(_lodash2.default.map(ring, 1))];\n\t};\n\t\n\thelpers.inRing = function (pt, ring, ignoreBoundary) {\n\t  var isInside = false;\n\t  if (ring[0][0] === ring[ring.length - 1][0] && ring[0][1] === ring[ring.length - 1][1]) ring = ring.slice(0, ring.length - 1);\n\t\n\t  for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n\t    var xi = ring[i][0],\n\t        yi = ring[i][1];\n\t    var xj = ring[j][0],\n\t        yj = ring[j][1];\n\t    var onBoundary = pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0 && (xi - pt[0]) * (xj - pt[0]) <= 0 && (yi - pt[1]) * (yj - pt[1]) <= 0;\n\t    if (onBoundary) return !ignoreBoundary;\n\t    var intersect = yi > pt[1] !== yj > pt[1] && pt[0] < (xj - xi) * (pt[1] - yi) / (yj - yi) + xi;\n\t    if (intersect) isInside = !isInside;\n\t  }\n\t  return isInside;\n\t};\n\t\n\tfunction vertInRing(vert, ring) {\n\t  var toLst = function toLst(_ref12) {\n\t    var x = _ref12.x,\n\t        y = _ref12.y;\n\t    return [x, y];\n\t  };\n\t  return helpers.inRing(toLst(vert), ring.map(toLst));\n\t}\n\t\n\tfunction replaceIdsForCloning(newStory) {\n\t  var clonedGeometry = _lodash2.default.cloneDeep(newStory);\n\t  var idMap = {};\n\t  var origVertexIDs = (0, _values2.default)(newStory.vertices).map(function (vertex) {\n\t    return vertex.id;\n\t  });\n\t  origVertexIDs.forEach(function (origID) {\n\t    var vertex = clonedGeometry.vertices.find(function (clonedVertex) {\n\t      return clonedVertex.id === origID;\n\t    });\n\t    var newID = _generateId2.default.generate();\n\t    idMap[origID] = newID;\n\t    vertex.id = newID;\n\t    var index = clonedGeometry.vertices.findIndex(function (vertexByIndex) {\n\t      return vertexByIndex.id === newID;\n\t    });\n\t    clonedGeometry.vertices[index] = vertex;\n\t  });\n\t  clonedGeometry.edges.forEach(function (edge) {\n\t    var newID = _generateId2.default.generate();\n\t    idMap[edge.id] = newID;\n\t    edge.id = newID;\n\t    edge.v1 = idMap[edge.v1];\n\t    edge.v2 = idMap[edge.v2];\n\t  });\n\t  clonedGeometry.faces.forEach(function (face) {\n\t    face.edgeRefs.forEach(function (edge) {\n\t      edge.edge_id = idMap[edge.edge_id];\n\t    });\n\t    var newID = _generateId2.default.generate();\n\t    idMap[face.id] = newID;\n\t    face.id = newID;\n\t  });\n\t\n\t  return { clonedGeometry: clonedGeometry, idMap: idMap };\n\t}\n\t\n\texports.default = helpers;\n\n/***/ }),\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar assignableProperties = exports.assignableProperties = ['building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs', 'building_types'];\n\tvar componentTypes = exports.componentTypes = ['window_definitions', 'daylighting_control_definitions', 'door_definitions'];\n\tvar libraryTypes = exports.libraryTypes = [].concat(assignableProperties, componentTypes);\n\tvar textures = exports.textures = ['circles-2', 'circles-5', 'circles-8', 'diagonal-stripe-1', 'diagonal-stripe-4', 'diagonal-stripe-6', 'dots-5', 'dots-8', 'vertical-line', 'crosshatch'];\n\t\n\tvar config = {\n\t  modes: {\n\t    stories: 'Story',\n\t    images: 'Image',\n\t    spaces: 'Space',\n\t    shading: 'Shading',\n\t    building_units: 'Building Unit',\n\t    building_types: 'Building Type',\n\t    thermal_zones: 'Thermal Zone',\n\t    space_types: 'Space Type',\n\t    pitched_roofs: 'Pitched Roof',\n\t    construction_sets: 'Construction Set',\n\t    window_definitions: 'Window Definitions',\n\t    daylighting_control_definitions: 'Daylighting Control Definitions'\n\t  },\n\t  componentTypes: componentTypes,\n\t  assignableProperties: assignableProperties,\n\t  palette: {\n\t    shading: '#E8E3E5',\n\t    neutral: '#bbc3c7',\n\t\n\t    colors: ['#aa4499', '#88ccee', '#332288', '#117733', '#999933', '#ddcc77', '#cc6677', '#882255', '#44aa99', '#6699cc', '#661100', '#aa4466']\n\t  }\n\t};\n\t\n\texports.default = config;\n\n/***/ }),\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(70);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _libconfig = __webpack_require__(95);\n\t\n\tvar _libconfig2 = _interopRequireDefault(_libconfig);\n\t\n\tvar _generateId = __webpack_require__(51);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar helpers = {\n\t  map: _libconfig2.default,\n\t\n\t  displayNameForKey: function displayNameForKey(type, key) {\n\t    if (this.map[type].keymap[key]) {\n\t      return this.map[type].keymap[key].private ? null : this.map[type].keymap[key].displayName;\n\t    }\n\t    return key;\n\t  },\n\t  valueForKey: function valueForKey(object, state, type, key) {\n\t    if (this.map[type].keymap[key] && this.map[type].keymap[key].get) {\n\t      return this.map[type].keymap[key].get(object, state);\n\t    }\n\t    return object[key];\n\t  },\n\t  setValueForKey: function setValueForKey(object, store, type, key, value) {\n\t    var result = { success: true };\n\t\n\t    if (this.map[type].keymap[key] && this.map[type].keymap[key].converter) {\n\t      value = this.map[type].keymap[key].converter(value, this.map[type].keymap[key]);\n\t    }\n\t\n\t    if (this.map[type].keymap[key] && this.map[type].keymap[key].validator) {\n\t      var validationResult = this.map[type].keymap[key].validator(object, store, value, type);\n\t      result.success = validationResult.success;\n\t      if (!validationResult.success) {\n\t        result.error = validationResult.error;\n\t        return result;\n\t      }\n\t    }\n\t\n\t    if (type === 'stories') {\n\t      store.dispatch('models/updateStoryWithData', (0, _defineProperty3.default)({\n\t        story: object\n\t      }, key, value));\n\t    } else if (type === 'spaces') {\n\t      store.dispatch('models/updateSpaceWithData', (0, _defineProperty3.default)({\n\t        space: object\n\t      }, key, value));\n\t    } else if (type === 'shading') {\n\t      store.dispatch('models/updateShadingWithData', (0, _defineProperty3.default)({\n\t        shading: object\n\t      }, key, value));\n\t    } else if (type === 'images') {\n\t      store.dispatch('models/updateImageWithData', (0, _defineProperty3.default)({\n\t        image: object\n\t      }, key, value));\n\t    } else if (type === 'window_definitions') {\n\t      store.dispatch('models/updateWindowDefinitionWithData', (0, _defineProperty3.default)({\n\t        object: object\n\t      }, key, value));\n\t    } else {\n\t      store.dispatch('models/updateObjectWithData', (0, _defineProperty3.default)({\n\t        object: object\n\t      }, key, value));\n\t    }\n\t\n\t    return result;\n\t  },\n\t  inputTypeForKey: function inputTypeForKey(type, key) {\n\t    return this.map[type].keymap[key] && !this.map[type].keymap[key].readonly ? this.map[type].keymap[key].input_type : null;\n\t  },\n\t  selectOptionsForKey: function selectOptionsForKey(object, state, type, key) {\n\t    return this.map[type].keymap[key] && !this.map[type].keymap[key].readonly && this.map[type].keymap[key].input_type === 'select' ? this.map[type].keymap[key].select_data(object, state) : [];\n\t  },\n\t  libraryObjectWithId: function libraryObjectWithId(state, id) {\n\t    var result;\n\t\n\t    for (var type in state.library) {\n\t      if (state.library.hasOwnProperty(type) && !result && state.library[type].find(function (i) {\n\t        return i.id === id;\n\t      })) {\n\t        result = state.library[type].find(function (i) {\n\t          return i.id === id;\n\t        });\n\t        result.type = type;\n\t      }\n\t    }\n\t\n\t    if (!result && state.stories.find(function (s) {\n\t      return s.id === id;\n\t    })) {\n\t      result = state.stories.find(function (s) {\n\t        return s.id === id;\n\t      });\n\t      result.type = 'story';\n\t    }\n\t\n\t    if (!result) {\n\t      for (var i = 0; i < state.stories.length; i++) {\n\t        var story = state.stories[i];\n\t        if (!result && story.spaces.find(function (s) {\n\t          return s.id === id;\n\t        })) {\n\t          result = story.spaces.find(function (s) {\n\t            return s.id === id;\n\t          });\n\t          result.type = 'space';\n\t        }\n\t        if (!result && story.shading.find(function (s) {\n\t          return s.id === id;\n\t        })) {\n\t          result = story.shading.find(function (s) {\n\t            return s.id === id;\n\t          });\n\t          result.type = 'shading';\n\t        }\n\t        if (!result && story.images.find(function (i) {\n\t          return i.id === id;\n\t        })) {\n\t          result = story.images.find(function (i) {\n\t            return i.id === id;\n\t          });\n\t          result.type = 'image';\n\t        }\n\t      }\n\t    }\n\t    return result;\n\t  },\n\t  modelForFace: function modelForFace(state, face_id) {\n\t    for (var i = 0; i < state.stories.length; i++) {\n\t      var story = state.stories[i],\n\t          shading = story.shading.find(function (s) {\n\t        return s.face_id === face_id;\n\t      }),\n\t          space = story.spaces.find(function (s) {\n\t        return s.face_id === face_id;\n\t      });\n\t      if (shading) {\n\t        shading.type = 'shading';\n\t        return shading;\n\t      } else if (space) {\n\t        space.type = 'space';\n\t        return space;\n\t      }\n\t    }\n\t  },\n\t  generateName: function generateName(state, type, story) {\n\t    var models = this.modelsForType(state, type);\n\t    var prefix = _libconfig2.default[type].displayName + ' ';\n\t    if (story) {\n\t      var level = state.stories.findIndex(function (s) {\n\t        return s.id === story.id;\n\t      }) + 1;\n\t      prefix = prefix.concat(level + ' - ');\n\t    }\n\t\n\t    var name = '';\n\t    var i = 1;\n\t    while (!name) {\n\t      name = prefix + i;\n\t      if (models.find(function (m) {\n\t        return m.name === name;\n\t      })) {\n\t        name = '';\n\t      }\n\t      i += 1;\n\t    }\n\t    return name;\n\t  },\n\t  modelsForType: function modelsForType(state, type) {\n\t    switch (type) {\n\t      case 'stories':\n\t        return state.stories;\n\t\n\t      case 'shading':\n\t      case 'spaces':\n\t      case 'images':\n\t        return state.stories.reduce(function (accum, s) {\n\t          return accum.concat(s[type]);\n\t        }, []);\n\t\n\t      default:\n\t        return state.library[type];\n\t    }\n\t  },\n\t  spaceTypesForBuilding: function spaceTypesForBuilding(building_type, template) {\n\t    var wholeBuilding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\t\n\t    var hash = {};\n\t\n\t    if (building_type == 'SecondarySchool') {\n\t      hash['Auditorium'] = 'Auditorium';\n\t      hash['Cafeteria'] = 'Cafeteria';\n\t      hash['Classroom'] = 'Classroom';\n\t      hash['Computer Room'] = 'ComputerRoom';\n\t      hash['Corridor'] = 'Corridor';\n\t      hash['Gym'] = 'Gym';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Library'] = 'Library';\n\t      hash['Lobby'] = 'Lobby';\n\t      hash['Mechanical'] = 'Mechanical';\n\t      hash['Office'] = 'Office';\n\t      hash['Restroom'] = 'Restroom';\n\t\n\t      if (['DOE Ref Pre-1980', 'DOE Ref 1980-2004', 'ComStock DOE Ref Pre-1980', 'ComStock DOE Ref 1980-2004'].indexOf(template) !== -1) {\n\t        hash['Corridor'] = 'Corridor';\n\t        hash['Gym - audience'] = 'Gym - audience';\n\t      }\n\t    } else if (building_type == 'PrimarySchool') {\n\t      hash['Cafeteria'] = 'Cafeteria';\n\t      hash['Classroom'] = 'Classroom';\n\t      hash['Computer Room'] = 'ComputerRoom';\n\t      hash['Corridor'] = 'Corridor';\n\t      hash['Gym'] = 'Gym';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Library'] = 'Library';\n\t      hash['Lobby'] = 'Lobby';\n\t      hash['Mechanical'] = 'Mechanical';\n\t      hash['Office'] = 'Office';\n\t      hash['Restroom'] = 'Restroom';\n\t\n\t      if (['DOE Ref Pre-1980', 'DOE Ref 1980-2004', 'ComStock DOE Ref Pre-1980', 'ComStock DOE Ref 1980-2004'].indexOf(template) === -1) {\n\t        hash['Computer Room'] = 'ComputerRoom';\n\t      }\n\t    } else if (building_type == 'SmallOffice') {\n\t      if (wholeBuilding) {\n\t        hash['Whole Building - Sm Office'] = 'WholeBuilding - Sm Office';\n\t      } else {\n\t        hash['Small Office - Breakroom'] = 'SmallOffice - Breakroom';\n\t        hash['Small Office - ClosedOffice'] = 'SmallOffice - ClosedOffice';\n\t        hash['Small Office - Conference'] = 'SmallOffice - Conference';\n\t        hash['Small Office - Corridor'] = 'SmallOffice - Corridor';\n\t        hash['Small Office - Elec/Mech Room'] = 'SmallOffice - Elec/MechRoom';\n\t        hash['Small Office - Lobby'] = 'SmallOffice - Lobby';\n\t        hash['Small Office - OpenOffice'] = 'SmallOffice - OpenOffice';\n\t        hash['Small Office - Restroom'] = 'SmallOffice - Restroom';\n\t        hash['Small Office - Stair'] = 'SmallOffice - Stair';\n\t        hash['Small Office - Storage'] = 'SmallOffice - Storage';\n\t        hash['Small Office - Classroom'] = 'SmallOffice - Classroom';\n\t        hash['Small Office - Dining'] = 'SmallOffice - Dining';\n\t        hash['Whole Building - Sm Office'] = 'WholeBuilding - Sm Office';\n\t      }\n\t    } else if (building_type == 'MediumOffice') {\n\t      if (wholeBuilding) {\n\t        hash['Whole Building - Md Office'] = 'WholeBuilding - Md Office';\n\t      } else {\n\t        hash['Medium Office - Breakroom'] = 'MediumOffice - Breakroom';\n\t        hash['Medium Office - ClosedOffice'] = 'MediumOffice - ClosedOffice';\n\t        hash['Medium Office - Conference'] = 'MediumOffice - Conference';\n\t        hash['Medium Office - Corridor'] = 'MediumOffice - Corridor';\n\t        hash['Medium Office - Elec/Mech Room'] = 'MediumOffice - Elec/MechRoom';\n\t        hash['Medium Office - Lobby'] = 'MediumOffice - Lobby';\n\t        hash['Medium Office - OpenOffice'] = 'MediumOffice - OpenOffice';\n\t        hash['Medium Office - Restroom'] = 'MediumOffice - Restroom';\n\t        hash['Medium Office - Stair'] = 'MediumOffice - Stair';\n\t        hash['Medium Office - Storage'] = 'MediumOffice - Storage';\n\t        hash['Medium Office - Classroom'] = 'MediumOffice - Classroom';\n\t        hash['Medium Office - Dining'] = 'MediumOffice - Dining';\n\t        hash['Whole Building - Md Office'] = 'WholeBuilding - Md Office';\n\t      }\n\t    } else if (building_type == 'LargeOffice') {\n\t      if (wholeBuilding) {\n\t        hash['Whole Building - Lg Office'] = 'WholeBuilding - Lg Office';\n\t      }\n\t\n\t      hash['Break Room'] = 'BreakRoom';\n\t      hash['Closed Office'] = 'ClosedOffice';\n\t      hash['Conference'] = 'Conference';\n\t      hash['Corridor'] = 'Corridor';\n\t      hash['Elec/Mech Room'] = 'Elec/MechRoom';\n\t      hash['IT Room'] = 'IT_Room';\n\t      hash['Lobby'] = 'Lobby';\n\t      hash['Open Office'] = 'OpenOffice';\n\t      hash['Print Room'] = 'PrintRoom';\n\t      hash['Restroom'] = 'Restroom';\n\t      hash['Stair'] = 'Stair';\n\t      hash['Storage'] = 'Storage';\n\t      hash['Vending'] = 'Vending';\n\t      hash['Whole Building - Lg Office'] = 'WholeBuilding - Lg Office';\n\t\n\t      if (['DOE Ref Pre-1980', 'DOE Ref 1980-2004', 'ComStock DOE Ref Pre-1980', 'ComStock DOE Ref 1980-2004'].indexOf(template) === -1) {\n\t        if (wholeBuilding) {\n\t          hash['Office - Large Data Center'] = 'OfficeLarge Data Center';\n\t          hash['Office - Large Main Data Center'] = 'OfficeLarge Main Data Center';\n\t        } else {\n\t          hash['Office - Large Data Center'] = 'OfficeLarge Data Center';\n\t          hash['Office - Large Main Data Center'] = 'OfficeLarge Main Data Center';\n\t        }\n\t      }\n\t    } else if (building_type == 'SmallHotel') {\n\t      hash['Corridor'] = 'Corridor';\n\t      hash['Elec/Mech Room'] = 'Elec/MechRoom';\n\t      hash['Elevator Core'] = 'ElevatorCore';\n\t      hash['Exercise'] = 'Exercise';\n\t      hash['Guest Lounge'] = 'GuestLounge';\n\t      hash['Laundry'] = 'Laundry';\n\t      hash['Mechanical'] = 'Mechanical';\n\t      hash['Meeting'] = 'Meeting';\n\t      hash['Office'] = 'Office';\n\t      hash['Public Restroom'] = 'PublicRestroom';\n\t      hash['Staff Lounge'] = 'StaffLounge';\n\t      hash['Stair'] = 'Stair';\n\t      hash['Storage'] = 'Storage';\n\t\n\t      if (['DOE Ref Pre-1980', 'DOE Ref 1980-2004', 'ComStock DOE Ref Pre-1980', 'ComStock DOE Ref 1980-2004'].indexOf(template) !== -1) {\n\t        hash['Guest Room'] = 'GuestRoom';\n\t      } else {\n\t        hash['Guest Room 123O cc'] = 'GuestRoom123Occ';\n\t        hash['Guest Room 123V ac'] = 'GuestRoom123Vac';\n\t      }\n\t    } else if (building_type == 'LargeHotel') {\n\t      hash['Banquet'] = 'Banquet';\n\t      hash['Basement'] = 'Basement';\n\t      hash['Cafe'] = 'Cafe';\n\t      hash['Corridor'] = 'Corridor';\n\t      hash['Guest Room'] = 'GuestRoom';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Laundry'] = 'Laundry';\n\t      hash['Lobby'] = 'Lobby';\n\t      hash['Mechanical'] = 'Mechanical';\n\t      hash['Retail'] = 'Retail';\n\t      hash['Storage'] = 'Storage';\n\t    } else if (building_type == 'Warehouse') {\n\t      hash['Bulk'] = 'Bulk';\n\t      hash['Fine'] = 'Fine';\n\t      hash['Office'] = 'Office';\n\t    } else if (building_type == 'RetailStandalone') {\n\t      hash['Back Space'] = 'Back_Space';\n\t      hash['Entry'] = 'Entry';\n\t      hash['Point of Sale'] = 'Point_of_Sale';\n\t      hash['Retail'] = 'Retail';\n\t    } else if (building_type == 'RetailStripmall') {\n\t      hash['Strip mall - type 1'] = 'Strip mall - type 1';\n\t      hash['Strip mall - type 2'] = 'Strip mall - type 2';\n\t      hash['Strip mall - type 3'] = 'Strip mall - type 3';\n\t    } else if (building_type == 'QuickServiceRestaurant') {\n\t      hash['Dining'] = 'Dining';\n\t      hash['Kitchen'] = 'Kitchen';\n\t    } else if (building_type == 'FullServiceRestaurant') {\n\t      hash['Dining'] = 'Dining';\n\t      hash['Kitchen'] = 'Kitchen';\n\t    } else if (building_type == 'MidriseApartment') {\n\t      hash['Apartment'] = 'Apartment';\n\t      hash['Corridor'] = 'Corridor';\n\t      hash['Office'] = 'Office';\n\t    } else if (building_type == 'HighriseApartment') {\n\t      hash['Apartment'] = 'Apartment';\n\t      hash['Corridor'] = 'Corridor';\n\t      hash['Office'] = 'Office';\n\t    } else if (building_type == 'Hospital') {\n\t      hash['Basement'] = 'Basement';\n\t      hash['Corridor'] = 'Corridor';\n\t      hash['Dining'] = 'Dining';\n\t      hash['ER Exam'] = 'ER_Exam';\n\t      hash['ER Nurse Station'] = 'ER_NurseStn';\n\t      hash['ER Trauma'] = 'ER_Trauma';\n\t      hash['ER Triage'] = 'ER_Triage';\n\t      hash['ICU Nurse Station'] = 'ICU_NurseStn';\n\t      hash['ICU Open'] = 'ICU_Open';\n\t      hash['ICU Patient Room'] = 'ICU_PatRm';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Lab'] = 'Lab';\n\t      hash['Lobby'] = 'Lobby';\n\t      hash['Nurse Station'] = 'NurseStn';\n\t      hash['Office'] = 'Office';\n\t      hash['OR'] = 'OR';\n\t      hash['Patient Corridor'] = 'PatCorridor';\n\t      hash['Patient Room'] = 'PatRoom';\n\t      hash['Physical Therapy'] = 'PhysTherapy';\n\t      hash['Radiology'] = 'Radiology';\n\t    } else if (building_type == 'Outpatient') {\n\t      hash['Anesthesia'] = 'Anesthesia';\n\t      hash['BioHazard'] = 'BioHazard';\n\t      hash['Cafe'] = 'Cafe';\n\t      hash['Clean Work'] = 'CleanWork';\n\t      hash['Conference'] = 'Conference';\n\t      hash['Dressing Room'] = 'DresingRoom';\n\t      hash['Elec/Mech Room'] = 'Elec/MechRoom';\n\t      hash['Elevator Pump Room'] = 'ElevatorPumpRoom';\n\t      hash['Exam'] = 'Exam';\n\t      hash['Hall'] = 'Hall';\n\t      hash['IT Room'] = 'IT_Room';\n\t      hash['Janitor'] = 'Janitor';\n\t      hash['Lobby'] = 'Lobby';\n\t      hash['Locker Room'] = 'LockerRoom';\n\t      hash['Lounge'] = 'Lounge';\n\t      hash['Med Gas'] = 'MedGas';\n\t      hash['MRI'] = 'MRI';\n\t      hash['MRI Control'] = 'MRI_Control';\n\t      hash['Nurse Station'] = 'NurseStation';\n\t      hash['Office'] = 'Office';\n\t      hash['OR'] = 'OR';\n\t      hash['PACU'] = 'PACU';\n\t      hash['Physical Therapy'] = 'PhysicalTherapy';\n\t      hash['PreOp'] = 'PreOp';\n\t      hash['Procedure Room'] = 'ProcedureRoom';\n\t      hash['Reception'] = 'Reception';\n\t      hash['Soil Work'] = 'Soil Work';\n\t      hash['Stair'] = 'Stair';\n\t      hash['Toilet'] = 'Toilet';\n\t      hash['Undeveloped'] = 'Undeveloped';\n\t      hash['Xray'] = 'Xray';\n\t    } else if (building_type == 'SuperMarket') {\n\t      hash['Bakery'] = 'Bakery';\n\t      hash['Deli'] = 'Deli';\n\t      hash['Dry Storage'] = 'DryStorage';\n\t      hash['Office'] = 'Office';\n\t      hash['Produce'] = 'Produce';\n\t      hash['Sales'] = 'Sales';\n\t      hash['Corridor'] = 'Corridor';\n\t      hash['Dining'] = 'Dining';\n\t      hash['Elec/Mech Room'] = 'Elec/MechRoom';\n\t      hash['Meeting'] = 'Meeting';\n\t      hash['Restroom'] = 'Restroom';\n\t      hash['Vestibule'] = 'Vestibule';\n\t    } else if (building_type == 'Laboratory') {\n\t      hash['Office'] = 'Office';\n\t      hash['Open Lab'] = 'Open lab';\n\t      hash['Equipment Corridor'] = 'Equipment corridor';\n\t      hash['Lab with Fume Hood'] = 'Lab with fume hood';\n\t    } else if (building_type == 'LargeDataCenterHighITE') {\n\t      hash['Standalone Data Center'] = 'StandaloneDataCenter';\n\t    } else if (building_type == 'LargeDataCenterLowITE') {\n\t      hash['Standalone Data Center'] = 'StandaloneDataCenter';\n\t    } else if (building_type == 'SmallDataCenterHighITE') {\n\t      hash['Computer Room'] = 'ComputerRoom';\n\t    } else if (building_type == 'SmallDataCenterLowITE') {\n\t      hash['Computer Room'] = 'ComputerRoom';\n\t    } else if (building_type == 'Asm') {\n\t      hash['Auditorium'] = 'Auditorium';\n\t      hash['Office General'] = 'OfficeGeneral';\n\t    } else if (building_type == 'ECC') {\n\t      hash['Classroom'] = 'Classroom';\n\t      hash['Computer Room Classroom'] = 'CompRoomClassRm';\n\t      hash['Shop'] = 'Shop';\n\t      hash['Dining'] = 'Dining';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Office General'] = 'OfficeGeneral';\n\t    } else if (building_type == 'EPr') {\n\t      hash['Classroom'] = 'Classroom';\n\t      hash['Corridor Stairway'] = 'CorridorStairway';\n\t      hash['Dining'] = 'Dining';\n\t      hash['Gymnasium'] = 'Gymnasium';\n\t      hash['Kitchen'] = 'Kitchen';\n\t    } else if (building_type == 'ERC') {\n\t      hash['Classroom'] = 'Classroom';\n\t    } else if (building_type == 'ESe') {\n\t      hash['Classroom'] = 'Classroom';\n\t      hash['Computer Room Classroom'] = 'CompRoomClassRm';\n\t      hash['Corridor Stairway'] = 'CorridorStairway';\n\t      hash['Dining'] = 'Dining';\n\t      hash['Gymnasium'] = 'Gymnasium';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Office General'] = 'OfficeGeneral';\n\t    } else if (building_type == 'EUn') {\n\t      hash['Dining'] = 'Dining';\n\t      hash['Classroom'] = 'Classroom';\n\t      hash['Office General'] = 'OfficeGeneral';\n\t      hash['Computer Room Classroom'] = 'CompRoomClassRm';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Corridor Stairway'] = 'CorridorStairway';\n\t      hash['FacMaint'] = 'FacMaint';\n\t      hash['Dormitory Room'] = 'DormitoryRoom';\n\t    } else if (building_type == 'Gro') {\n\t      hash['Grocery Sales'] = 'GrocSales';\n\t      hash['Ref Walk In Cool'] = 'RefWalkInCool';\n\t      hash['Office General'] = 'OfficeGeneral';\n\t      hash['Ref Food Prep'] = 'RefFoodPrep';\n\t      hash['Ref Walk In Freeze'] = 'RefWalkInFreeze';\n\t      hash['Ind Load Dock'] = 'IndLoadDock';\n\t    } else if (building_type == 'Hsp') {\n\t      hash['Hsp Surg Outpt Lab'] = 'HspSurgOutptLab';\n\t      hash['Dining'] = 'Dining';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Office General'] = 'OfficeGeneral';\n\t      hash['Patient Room'] = 'PatientRoom';\n\t    } else if (building_type == 'Htl') {\n\t      hash['Dining'] = 'Dining';\n\t      hash['Bar Casino'] = 'BarCasino';\n\t      hash['Hotel Lobby'] = 'HotelLobby';\n\t      hash['Office General'] = 'OfficeGeneral';\n\t      hash['Guest Rm Corrid'] = 'GuestRmCorrid';\n\t      hash['Laundry'] = 'Laundry';\n\t      hash['Guest Rm Occ'] = 'GuestRmOcc';\n\t      hash['Guest Rm Un Occ'] = 'GuestRmUnOcc';\n\t      hash['Kitchen'] = 'Kitchen';\n\t    } else if (building_type == 'MBT') {\n\t      hash['Computer Room Classroom'] = 'CompRoomData';\n\t      hash['Laboratory'] = 'Laboratory';\n\t      hash['Corridor Stairway'] = 'CorridorStairway';\n\t      hash['Conference'] = 'Conference';\n\t      hash['Dining'] = 'Dining';\n\t      hash['Office Open'] = 'OfficeOpen';\n\t      hash['Kitchen'] = 'Kitchen';\n\t    } else if (building_type == 'MFm') {\n\t      hash['Res Living'] = 'ResLiving';\n\t      hash['Res Public Area'] = 'ResPublicArea';\n\t    } else if (building_type == 'MLI') {\n\t      hash['Stock Room'] = 'StockRoom';\n\t      hash['Work'] = 'Work';\n\t    } else if (building_type == 'Mtl') {\n\t      hash['Office General'] = 'OfficeGeneral';\n\t      hash['Guest Rm Corrid'] = 'GuestRmCorrid';\n\t      hash['Laundry'] = 'Laundry';\n\t      hash['Guest Rm Occ'] = 'GuestRmOcc';\n\t      hash['Guest Rm Un Occ'] = 'GuestRmUnOcc';\n\t    } else if (building_type == 'Nrs') {\n\t      hash['Corridor Stairway'] = 'CorridorStairway';\n\t      hash['Dining'] = 'Dining';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Office General'] = 'OfficeGeneral';\n\t      hash['Patient Room'] = 'PatientRoom';\n\t    } else if (building_type == 'OfL') {\n\t      hash['Lobby Waiting'] = 'LobbyWaiting';\n\t      hash['Office Small'] = 'OfficeSmall';\n\t      hash['Office Open'] = 'OfficeOpen';\n\t      hash['Mech Elec Room'] = 'MechElecRoom';\n\t    } else if (building_type == 'OfS') {\n\t      hash['Hall'] = 'Hall';\n\t      hash['Office Small'] = 'OfficeSmall';\n\t    } else if (building_type == 'RFF') {\n\t      hash['Dining'] = 'Dining';\n\t      hash['Kitchen'] = 'Kitchen';\n\t      hash['Lobby Waiting'] = 'LobbyWaiting';\n\t      hash['Restroom'] = 'Restroom';\n\t    } else if (building_type == 'RSD') {\n\t      hash['Restroom'] = 'Restroom';\n\t      hash['Dining'] = 'Dining';\n\t      hash['Lobby Waiting'] = 'LobbyWaiting';\n\t      hash['Kitchen'] = 'Kitchen';\n\t    } else if (building_type == 'Rt3') {\n\t      hash['Retail Sales'] = 'RetailSales';\n\t    } else if (building_type == 'RtL') {\n\t      hash['Office General'] = 'OfficeGeneral';\n\t      hash['Work'] = 'Work';\n\t      hash['Stock Room'] = 'StockRoom';\n\t      hash['Retail Sales'] = 'RetailSales';\n\t      hash['Kitchen'] = 'Kitchen';\n\t    } else if (building_type == 'RtS') {\n\t      hash['Retail Sales'] = 'RetailSales';\n\t      hash['Stock Room'] = 'StockRoom';\n\t    } else if (building_type == 'SCn') {\n\t      hash['Warehouse Cond'] = 'WarehouseCond';\n\t    } else if (building_type == 'SUn') {\n\t      hash['Warehouse Un Cond'] = 'WarehouseUnCond';\n\t    } else if (building_type == 'WRf') {\n\t      hash['Ind Load Dock'] = 'IndLoadDock';\n\t      hash['Office General'] = 'OfficeGeneral';\n\t      hash['Ref Stor Freezer'] = 'RefStorFreezer';\n\t      hash['Ref Stor Cooler'] = 'RefStorCooler';\n\t    }\n\t\n\t    return hash;\n\t  },\n\t  replaceIdsUpdateInfoForCloning: function replaceIdsUpdateInfoForCloning(story, idMap) {\n\t    var clonedStory = _lodash2.default.cloneDeep(story);\n\t    clonedStory.doors = clonedStory.doors.map(function (door) {\n\t      var newID = _generateId2.default.generate();\n\t      idMap[door.id] = newID;\n\t      door.id = newID;\n\t      return door;\n\t    });\n\t    clonedStory.windows = clonedStory.windows.map(function (window) {\n\t      var newID = _generateId2.default.generate();\n\t      idMap[window.id] = newID;\n\t      window.id = newID;\n\t      return window;\n\t    });\n\t    clonedStory.spaces = clonedStory.spaces.map(function (space) {\n\t      var newID = _generateId2.default.generate();\n\t      idMap[space.id] = newID;\n\t      space.id = newID;\n\t      space.name = '';\n\t      space.face_id = idMap[space.face_id];\n\t      return space;\n\t    });\n\t    clonedStory.shading = clonedStory.shading.map(function (shade) {\n\t      var newID = _generateId2.default.generate();\n\t      idMap[shade.id] = newID;\n\t      shade.id = newID;\n\t      shade.name = '';\n\t      shade.face_id = idMap[shade.face_id];\n\t      return shade;\n\t    });\n\t    return { clonedStory: clonedStory };\n\t  },\n\t  replaceSpaceNamesForCloning: function replaceSpaceNamesForCloning(state, type, story) {\n\t    var _this = this;\n\t\n\t    story.spaces = story.spaces.map(function (space) {\n\t      space.name = _this.generateName(state, type, story);\n\t      return space;\n\t    });\n\t  }\n\t};\n\texports.default = helpers;\n\n/***/ }),\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.genName = genName;\n\tvar id = 1;\n\texports.default = {\n\t    setId: function setId(newVal) {\n\t        id = newVal;\n\t    },\n\t\n\t\n\t    generate: function () {\n\t        return function () {\n\t            return String(id++);\n\t        };\n\t    }()\n\t};\n\t\n\t\n\tvar nameCounts = {};\n\tfunction genName(prefix) {\n\t    var nextSuffix = (nameCounts[prefix] || 0) + 1;\n\t    nameCounts[prefix] = nextSuffix;\n\t    return prefix + \" - \" + nextSuffix;\n\t}\n\n/***/ }),\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.displayNameForMode = displayNameForMode;\n\texports.componentInstanceById = componentInstanceById;\n\texports.spacePropertyById = spacePropertyById;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tvar _appconfig2 = _interopRequireDefault(_appconfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction displayNameForMode(mode) {\n\t  return _appconfig2.default.modes[mode];\n\t}\n\t\n\tvar helpers = {\n\t  displayNameForMode: displayNameForMode,\n\t  config: _appconfig2.default\n\t};\n\texports.default = helpers;\n\tfunction componentInstanceById(currStory, compInstId) {\n\t  var windew = _lodash2.default.find(currStory.windows, { id: compInstId });\n\t  if (windew) {\n\t    return (0, _extends3.default)({}, windew, { type: 'windows' });\n\t  }\n\t\n\t  var dc = _lodash2.default.find(_lodash2.default.flatMap(currStory.spaces, function (s) {\n\t    return s.daylighting_controls;\n\t  }), { id: compInstId });\n\t  if (dc) {\n\t    return (0, _extends3.default)({}, dc, { type: 'daylighting_controls' });\n\t  }\n\t\n\t  var door = _lodash2.default.find(currStory.doors, { id: compInstId });\n\t  if (door) {\n\t    return (0, _extends3.default)({}, door, { type: 'doors' });\n\t  }\n\t\n\t  return null;\n\t}\n\t\n\tfunction spacePropertyById(library, spacePropId) {\n\t  var type = void 0,\n\t      prop = void 0;\n\t  _appconfig.assignableProperties.some(function (ap) {\n\t    if (prop = _lodash2.default.find(library[ap], { id: spacePropId })) {\n\t      type = ap;\n\t    }\n\t    return !!prop;\n\t  });\n\t\n\t  return prop ? (0, _extends3.default)({}, prop, { type: type }) : null;\n\t}\n\n/***/ }),\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(52);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _factory = __webpack_require__(124);\n\t\n\tvar _factory2 = _interopRequireDefault(_factory);\n\t\n\tvar _helpers = __webpack_require__(46);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _validators = __webpack_require__(299);\n\t\n\tvar _validators2 = _interopRequireDefault(_validators);\n\t\n\tvar _converters = __webpack_require__(295);\n\t\n\tvar converters = _interopRequireWildcard(_converters);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar map = {\n\t  building_units: {\n\t    displayName: 'Building Unit',\n\t    definitionName: 'BuildingUnit',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }],\n\t    init: _factory2.default.BuildingUnit\n\t  },\n\t  building_types: {\n\t    displayName: 'Building Type',\n\t    definitionName: 'BuildingType',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }],\n\t    init: _factory2.default.BuildingType\n\t  },\n\t  thermal_zones: {\n\t    displayName: 'Thermal Zone',\n\t    definitionName: 'ThermalZone',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }],\n\t    init: _factory2.default.ThermalZone\n\t  },\n\t  door_definitions: {\n\t    displayName: 'Door',\n\t    definitionName: 'DoorDefinition',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'height',\n\t      displayName: 'Height',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'width',\n\t      displayName: 'Width',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'door_type',\n\t      displayName: 'Type',\n\t      input_type: 'select',\n\t      select_data: function select_data() {\n\t        var options = ['Door', 'Glass Door', 'Overhead Door'];\n\t        return _lodash2.default.zipObject(options, options);\n\t      },\n\t\n\t      validator: _validators2.default.oneOf('Door', 'Glass Door', 'Overhead Door')\n\t    }, {\n\t      name: 'texture',\n\t      displayName: 'Texture',\n\t      input_type: 'texture',\n\t      validator: _validators2.default.oneOf.apply(_validators2.default, (0, _toConsumableArray3.default)(_appconfig.textures))\n\t    }],\n\t    init: _factory2.default.DoorDefinition\n\t  },\n\t  window_definitions: {\n\t    displayName: 'Window',\n\t    definitionName: 'WindowDefinition',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'window_definition_mode',\n\t      displayName: 'Mode',\n\t      input_type: 'select',\n\t      select_data: function select_data() {\n\t        var options = ['Single Window', 'Repeating Windows', 'Window to Wall Ratio'];\n\t        return _lodash2.default.zipObject(options, options);\n\t      },\n\t\n\t      validator: _validators2.default.oneOf('Single Window', 'Repeating Windows', 'Window to Wall Ratio')\n\t    }, {\n\t      name: 'wwr',\n\t      displayName: 'Window to Wall ratio',\n\t      input_type: 'text',\n\t      validator: _validators2.default.halfOpenInterval(0, 1),\n\t      converter: converters.number,\n\t      numeric: true,\n\t      enabled: function enabled(row) {\n\t        return row.window_definition_mode === 'Window to Wall Ratio';\n\t      }\n\t    }, {\n\t      name: 'height',\n\t      displayName: 'Height',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true,\n\t      enabled: function enabled(row) {\n\t        return row.window_definition_mode === 'Single Window' || row.window_definition_mode === 'Repeating Windows';\n\t      }\n\t    }, {\n\t      name: 'width',\n\t      displayName: 'Width',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true,\n\t      enabled: function enabled(row) {\n\t        return row.window_definition_mode === 'Single Window' || row.window_definition_mode === 'Repeating Windows';\n\t      }\n\t    }, {\n\t      name: 'sill_height',\n\t      displayName: 'Sill Height',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'window_spacing',\n\t      displayName: 'Spacing',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true,\n\t      enabled: function enabled(row) {\n\t        return row.window_definition_mode === 'Repeating Windows';\n\t      }\n\t    }, {\n\t      name: 'window_type',\n\t      displayName: 'Window Type',\n\t      input_type: 'select',\n\t      select_data: function select_data() {\n\t        var options = ['Fixed', 'Operable'];\n\t        return _lodash2.default.zipObject(options, options);\n\t      },\n\t\n\t      validator: _validators2.default.oneOf('Fixed', 'Operable')\n\t    }, {\n\t      name: 'overhang_projection_factor',\n\t      displayName: 'Overhang Projection Factor',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0orNull,\n\t      converter: converters.gt0orNull,\n\t      numeric: true\n\t    }, {\n\t      name: 'fin_projection_factor',\n\t      displayName: 'Fin Projection Factor',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0orNull,\n\t      converter: converters.gt0orNull,\n\t      numeric: true\n\t    }, {\n\t      name: 'texture',\n\t      displayName: 'Texture',\n\t      input_type: 'texture',\n\t      validator: _validators2.default.oneOf.apply(_validators2.default, (0, _toConsumableArray3.default)(_appconfig.textures)),\n\t      enabled: function enabled(row) {\n\t        return row.window_definition_mode === 'Window to Wall Ratio';\n\t      }\n\t    }, {\n\t      name: 'total_count',\n\t      displayName: 'Total Count',\n\t      readonly: true,\n\t      numeric: true,\n\t      get: function get(windowDefn, state) {\n\t        return _lodash2.default.chain(state.models.stories).flatMap('windows').filter({ window_definition_id: windowDefn.id }).value().length;\n\t      }\n\t    }],\n\t    init: _factory2.default.WindowDefn\n\t  },\n\t  space_types: {\n\t    displayName: 'Space Type',\n\t    definitionName: 'SpaceType',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }],\n\t    init: _factory2.default.SpaceType\n\t  },\n\t  construction_sets: {\n\t    displayName: 'Construction Set',\n\t    definitionName: 'ConstructionSet',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }],\n\t    init: _factory2.default.ConstructionSet\n\t  },\n\t  daylighting_control_definitions: {\n\t    displayName: 'Daylighting Control',\n\t    definitionName: 'DaylightingControlDefinition',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'height',\n\t      displayName: 'Height',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'illuminance_setpoint',\n\t      displayName: 'Illuminance Setpoint (lux)',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'total_count',\n\t      displayName: 'Total Count',\n\t      readonly: true,\n\t      numeric: true,\n\t      get: function get(dcDefn, state) {\n\t        return _lodash2.default.chain(state.models.stories).flatMap('spaces').flatMap('daylighting_controls').filter({ daylighting_control_definition_id: dcDefn.id }).value().length;\n\t      }\n\t    }],\n\t    init: _factory2.default.DaylightingControlDefn\n\t  },\n\t  stories: {\n\t    displayName: 'Story',\n\t    definitionName: 'Story',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'handle',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'geometry_id',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'below_floor_plenum_height',\n\t      displayName: 'Below Floor Plenum Height',\n\t      input_type: 'text',\n\t      converter: converters.number,\n\t      numeric: true,\n\t      validator: _validators2.default.number\n\t    }, {\n\t      name: 'above_ceiling_plenum_height',\n\t      displayName: 'Above Ceiling Plenum Height',\n\t      input_type: 'text',\n\t      converter: converters.number,\n\t      numeric: true,\n\t      validator: _validators2.default.number\n\t    }, {\n\t      name: 'floor_to_ceiling_height',\n\t      displayName: 'Floor To Ceiling Height',\n\t      input_type: 'text',\n\t      converter: converters.number,\n\t      numeric: true,\n\t      validator: _validators2.default.gt0\n\t    }, {\n\t      name: 'multiplier',\n\t      displayName: 'Multiplier',\n\t      input_type: 'text',\n\t      converter: converters.number,\n\t      numeric: true,\n\t      validator: _validators2.default.gt0\n\t    }, {\n\t      name: 'spaces',\n\t      displayName: 'Spaces',\n\t      readonly: true,\n\t      numeric: true,\n\t      get: function get(story, state) {\n\t        return story.spaces.length;\n\t      }\n\t    }, {\n\t      name: 'shading',\n\t      displayName: 'Shading',\n\t      readonly: true,\n\t      numeric: true,\n\t      get: function get(story, state) {\n\t        return story.shading.length;\n\t      }\n\t    }, {\n\t      name: 'images',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }]\n\t  },\n\t  spaces: {\n\t    displayName: 'Space',\n\t    definitionName: 'Space',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'handle',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'face_id',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'daylighting_controls',\n\t      displayName: 'Daylighting Controls',\n\t      readonly: true,\n\t      private: true,\n\t      get: function get(space, state) {\n\t        return space.daylighting_controls.map(function (d) {\n\t          return d.name;\n\t        }).join(', ');\n\t      }\n\t    }, {\n\t      name: 'story',\n\t      displayName: 'Story',\n\t      readonly: true,\n\t      get: function get(space, state) {\n\t        var story = state.models.stories.find(function (story) {\n\t          return ~story.spaces.map(function (s) {\n\t            return s.id;\n\t          }).indexOf(space.id);\n\t        });\n\t        return story.name;\n\t      }\n\t    }, {\n\t      name: 'building_unit_id',\n\t      displayName: 'Building Unit',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        var options = { '(none)': null };\n\t        state.models.library.building_units.forEach(function (b) {\n\t          options[b.name] = b.id;\n\t        });\n\t        return options;\n\t      },\n\t      get: function get(space, state) {\n\t        var buildingUnit = state.models.library.building_units.find(function (b) {\n\t          return b.id === space.building_unit_id;\n\t        });\n\t        return buildingUnit ? buildingUnit.name : null;\n\t      },\n\t\n\t      editable: true,\n\t      type: 'building_units'\n\t    }, {\n\t      name: 'building_type_id',\n\t      displayName: 'Building Type',\n\t      input_type: 'select',\n\t      select_data: function select_data(_space, state) {\n\t        var options = { '(none)': null };\n\t        state.models.library.building_types.forEach(function (b) {\n\t          options[b.name] = b.id;\n\t        });\n\t        return options;\n\t      },\n\t      get: function get(space, state) {\n\t        var buildingType = state.models.library.building_types.find(function (b) {\n\t          return b.id === space.building_type_id;\n\t        });\n\t        return buildingType ? buildingType.name : null;\n\t      },\n\t\n\t      editable: true,\n\t      type: 'thermal_zones'\n\t    }, {\n\t      name: 'space_type_id',\n\t      displayName: 'Space Type',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        var options = { '(none)': null };\n\t        state.models.library.space_types.forEach(function (s) {\n\t          options[s.name] = s.id;\n\t        });\n\t        return (0, _extends3.default)({}, options, _helpers2.default.spaceTypesForBuilding(space.building_type_id, space.template));\n\t      },\n\t      get: function get(space, state) {\n\t        var spaceType = state.models.library.space_types.find(function (s) {\n\t          return s.id === space.space_type_id;\n\t        });\n\t        return spaceType ? spaceType.name : null;\n\t      },\n\t\n\t      editable: true,\n\t      type: 'space_types'\n\t    }, {\n\t      name: 'template',\n\t      displayName: 'Template',\n\t      input_type: 'text'\n\t    }, {\n\t      name: 'thermal_zone_id',\n\t      displayName: 'Thermal Zone',\n\t      input_type: 'select',\n\t      select_data: function select_data(_space, state) {\n\t        var options = { '(none)': null };\n\t        state.models.library.thermal_zones.forEach(function (t) {\n\t          options[t.name] = t.id;\n\t        });\n\t        return options;\n\t      },\n\t      get: function get(space, state) {\n\t        var thermalZone = state.models.library.thermal_zones.find(function (b) {\n\t          return b.id === space.thermal_zone_id;\n\t        });\n\t        return thermalZone ? thermalZone.name : null;\n\t      }\n\t    }, {\n\t      name: 'construction_set_id',\n\t      displayName: 'Construction Set',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        var options = { '(none)': null };\n\t        state.models.library.construction_sets.forEach(function (c) {\n\t          options[c.name] = c.id;\n\t        });\n\t        return options;\n\t      },\n\t      get: function get(space, state) {\n\t        var constructionSet = state.models.library.construction_sets.find(function (c) {\n\t          return c.id === space.construction_set_id;\n\t        });\n\t        return constructionSet ? constructionSet.name : null;\n\t      },\n\t\n\t      editable: true,\n\t      type: 'construction_sets'\n\t    }, {\n\t      name: 'pitched_roof_id',\n\t      displayName: 'Pitched Roof',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        return (0, _extends3.default)({\n\t          '(none)': null\n\t        }, _lodash2.default.fromPairs(state.models.library.pitched_roofs.map(function (prt) {\n\t          return [prt.name, prt.id];\n\t        })));\n\t      },\n\t      get: function get(space, state) {\n\t        var prt = _lodash2.default.find(state.models.library.pitched_roofs, { id: space.pitched_roof_id });\n\t        return prt ? prt.name : null;\n\t      },\n\t\n\t      editable: true,\n\t      type: 'pitched_roofs'\n\t    }, {\n\t      name: 'below_floor_plenum_height',\n\t      displayName: 'Below Floor Plenum Height',\n\t      input_type: 'text',\n\t      numeric: true,\n\t      validator: _validators2.default.number,\n\t      converter: converters.number\n\t    }, {\n\t      name: 'floor_to_ceiling_height',\n\t      displayName: 'Floor to Ceiling Height',\n\t      input_type: 'text',\n\t      numeric: true,\n\t      validator: _validators2.default.number,\n\t      converter: converters.number\n\t    }, {\n\t      name: 'above_ceiling_plenum_height',\n\t      displayName: 'Above Ceiling Plenum Height',\n\t      input_type: 'text',\n\t      numeric: true,\n\t      validator: _validators2.default.number,\n\t      converter: converters.number\n\t    }, {\n\t      name: 'floor_offset',\n\t      displayName: 'Floor Offset',\n\t      input_type: 'text',\n\t      numeric: true,\n\t      validator: _validators2.default.number,\n\t      converter: converters.number\n\t    }, {\n\t      name: 'open_to_below',\n\t      displayName: 'Open To Below',\n\t      input_type: 'select',\n\t      select_data: function select_data() {\n\t        return { False: false, True: true };\n\t      },\n\t\n\t      converter: converters.bool\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }]\n\t  },\n\t  shading: {\n\t    displayName: 'Shading',\n\t    definitionName: 'Shading',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'handle',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'face_id',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'color',\n\t      readonly: true,\n\t      private: true\n\t    }]\n\t  },\n\t  images: {\n\t    displayName: 'Image',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'width',\n\t      displayName: 'Width',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'height',\n\t      displayName: 'Height',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'z',\n\t      displayName: 'z',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number,\n\t      private: true\n\t    }, {\n\t      name: 'scale',\n\t      displayName: 'Scale',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number,\n\t      converter: converters.number,\n\t      numeric: true,\n\t      get: function get(img) {\n\t        return img.width / img.naturalWidth;\n\t      }\n\t    }, {\n\t      name: 'opacity',\n\t      displayName: 'opacity',\n\t      input_type: 'text',\n\t      validator: _validators2.default.closedInterval(0, 1),\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'x',\n\t      displayName: 'x',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'y',\n\t      displayName: 'y',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'src',\n\t      readonly: true,\n\t      private: true\n\t    }]\n\t  },\n\t  windows: {\n\t    displayName: 'Window',\n\t    columns: [{\n\t      name: 'id',\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text'\n\t    }, {\n\t      name: 'window_definition_id',\n\t      displayName: 'Definition',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        return _lodash2.default.fromPairs(state.models.library.window_definitions.map(function (b) {\n\t          return [b.name, b.id];\n\t        }));\n\t      }\n\t    }]\n\t  },\n\t  daylighting_controls: {\n\t    displayName: 'Daylighting Control',\n\t    columns: [{\n\t      name: 'id',\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text'\n\t    }, {\n\t      name: 'daylighting_control_definition_id',\n\t      displayName: 'Definition',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        return _lodash2.default.fromPairs(state.models.library.daylighting_control_definitions.map(function (b) {\n\t          return [b.name, b.id];\n\t        }));\n\t      }\n\t    }]\n\t  },\n\t  doors: {\n\t    displayName: 'Door',\n\t    columns: [{\n\t      name: 'id',\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text'\n\t    }, {\n\t      name: 'door_definition_id',\n\t      displayName: 'Definition',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        return _lodash2.default.fromPairs(state.models.library.door_definitions.map(function (b) {\n\t          return [b.name, b.id];\n\t        }));\n\t      }\n\t    }]\n\t  },\n\t  pitched_roofs: {\n\t    displayName: 'Pitched Roof',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text'\n\t    }, {\n\t      name: 'pitched_roof_type',\n\t      displayName: 'Type',\n\t      input_type: 'select',\n\t      select_data: function select_data() {\n\t        var options = ['Gable', 'Hip', 'Shed'];\n\t        return _lodash2.default.zipObject(options, options);\n\t      },\n\t\n\t      validator: _validators2.default.oneOf('Gable', 'Hip', 'Shed')\n\t    }, {\n\t      name: 'pitch',\n\t      displayName: 'Pitch',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'shed_direction',\n\t      displayName: 'Shed Direction',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color'\n\t    }],\n\t    init: _factory2.default.PitchedRoof\n\t  }\n\t};\n\t\n\t(0, _keys2.default)(map).forEach(function (k) {\n\t  map[k].keymap = _lodash2.default.zipObject(_lodash2.default.map(map[k].columns, 'name'), map[k].columns);\n\t\n\t  map[k].columns.forEach(function (col) {\n\t    if (_lodash2.default.has(map[k], 'definitionName') && _lodash2.default.get(_factory.allowableTypes, map[k].definitionName) && _lodash2.default.includes(_factory.allowableTypes[map[k].definitionName][col.name], 'null')) {\n\t      col.nullable = true;\n\t    }\n\t\n\t    if (_lodash2.default.has(map[k], 'definitionName') && (0, _factory.getDefaults)(map[k].definitionName) && _lodash2.default.has((0, _factory.getDefaults)(map[k].definitionName), col.name)) {\n\t      col.default = (0, _factory.getDefaults)(map[k].definitionName)[col.name];\n\t    }\n\t  });\n\t});\n\t\n\texports.default = map;\n\n/***/ }),\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */,\n/* 119 */,\n/* 120 */,\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(620)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(277),\n\t  /* template */\n\t  __webpack_require__(684),\n\t  /* scopeId */\n\t  \"data-v-8f6e6820\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _getIterator2 = __webpack_require__(96);\n\t\n\tvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.gridSnapTargets = gridSnapTargets;\n\texports.vertexSnapTargets = vertexSnapTargets;\n\texports.snapTargets = snapTargets;\n\texports.expandWindowAlongEdge = expandWindowAlongEdge;\n\texports.findClosestEdge = findClosestEdge;\n\texports.findClosestWindow = findClosestWindow;\n\texports.snapWindowToEdge = snapWindowToEdge;\n\texports.snapToVertexWithinFace = snapToVertexWithinFace;\n\texports.windowLocation = windowLocation;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction gridSnapTargets(gridSpacing, _ref) {\n\t  var x = _ref.x,\n\t      y = _ref.y;\n\t\n\t  return [{ x: Math.floor(x / gridSpacing) * gridSpacing, y: Math.floor(y / gridSpacing) * gridSpacing }, { x: (Math.floor(x / gridSpacing) + 1) * gridSpacing, y: Math.floor(y / gridSpacing) * gridSpacing }, { x: Math.floor(x / gridSpacing) * gridSpacing, y: (Math.floor(y / gridSpacing) + 1) * gridSpacing }, { x: (Math.floor(x / gridSpacing) + 1) * gridSpacing, y: (Math.floor(y / gridSpacing) + 1) * gridSpacing }].map(function (t) {\n\t    return (0, _extends3.default)({}, t, { type: 'grid' });\n\t  });\n\t}\n\t\n\tfunction vertexSnapTargets(vertices, gridSpacing, location) {\n\t  return vertices.filter(function (v) {\n\t    return (0, _helpers.distanceBetweenPoints)(location, v) <= gridSpacing;\n\t  }).map(function (v) {\n\t    return (0, _extends3.default)({}, v, { type: 'vertex' });\n\t  });\n\t}\n\t\n\tfunction snapTargets(vertices, gridSpacing, cursor) {\n\t  var targets = [].concat((0, _toConsumableArray3.default)(gridSnapTargets(gridSpacing, cursor)), (0, _toConsumableArray3.default)(vertexSnapTargets(vertices, gridSpacing, cursor))).map(function (target) {\n\t    return (0, _extends3.default)({}, target, {\n\t      dist: (0, _helpers.distanceBetweenPoints)(target, cursor),\n\t      dx: cursor.x - target.x,\n\t      dy: cursor.y - target.y\n\t    });\n\t  });\n\t\n\t  return _lodash2.default.orderBy(targets, ['dist', 'origin', 'type'], ['asc', 'asc', 'desc']);\n\t}\n\t\n\tfunction expandWindowAlongEdge(edge, center, _ref2) {\n\t  var width = _ref2.width,\n\t      spacing = _ref2.spacing,\n\t      window_definition_mode = _ref2.window_definition_mode,\n\t      texture = _ref2.texture;\n\t\n\t  if (window_definition_mode === 'Window to Wall Ratio' || window_definition_mode === 'Repeating Windows') {\n\t    return {\n\t      edge_id: edge.id,\n\t      center: {\n\t        x: (edge.v1.x + edge.v2.x) / 2,\n\t        y: (edge.v1.y + edge.v2.y) / 2\n\t      },\n\t      edge_start: edge.v1,\n\t      alpha: 0.5,\n\t      start: edge.v1,\n\t      end: edge.v2,\n\t      window_definition_mode: window_definition_mode,\n\t      width: width,\n\t      spacing: spacing,\n\t      texture: texture\n\t    };\n\t  }\n\t  var theta = (0, _helpers.edgeDirection)({ start: edge.v1, end: edge.v2 }),\n\t      windowDeltaX = width * Math.cos(theta) / 2,\n\t      windowDeltaY = width * Math.sin(theta) / 2,\n\t      alpha = edge.v2.x === edge.v1.x ? (center.y - edge.v1.y) / (edge.v2.y - edge.v1.y) : (center.x - edge.v1.x) / (edge.v2.x - edge.v1.x);\n\t  return {\n\t    edge_id: edge.id,\n\t    center: center,\n\t    edge_start: edge.v1,\n\t    alpha: alpha,\n\t    start: {\n\t      x: center.x - windowDeltaX,\n\t      y: center.y - windowDeltaY\n\t    },\n\t    end: {\n\t      x: center.x + windowDeltaX,\n\t      y: center.y + windowDeltaY\n\t    },\n\t    window_definition_mode: window_definition_mode\n\t  };\n\t}\n\t\n\tfunction findClosestEdge(edges, cursor) {\n\t  var edge = undefined;\n\t  var dist = undefined;\n\t  var smallest = Infinity;\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = (0, _getIterator3.default)(edges), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var e = _step.value;\n\t\n\t      var d = (0, _helpers.pointDistanceToSegment)(cursor, { start: e.v1, end: e.v2 });\n\t\n\t      if (d.dist < smallest) {\n\t        if (d.dist === 0) {\n\t          return (0, _extends3.default)({}, e, d);\n\t        }\n\t\n\t        smallest = d.dist;\n\t        edge = e;\n\t        dist = d;\n\t      }\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t\n\t  if (edge) {\n\t    return (0, _extends3.default)({}, edge, dist);\n\t  } else {\n\t    return undefined;\n\t  }\n\t}\n\t\n\tfunction findClosestWindow(windows, cursor) {\n\t  var withDistance = windows.map(function (w) {\n\t    var dist = w.window_definition_mode === 'Single Window' ? { dist: (0, _helpers.distanceBetweenPoints)(cursor, w.center), proj: w.center } : (0, _helpers.pointDistanceToSegment)(cursor, w);\n\t\n\t    return (0, _extends3.default)({}, w, dist, {\n\t      v1: w.start,\n\t      v2: w.end\n\t    });\n\t  });\n\t  return _lodash2.default.minBy(withDistance, 'dist');\n\t}\n\t\n\tfunction snapWindowToEdgeAnywhere(edges, cursor, windowDefn, maxSnapDist) {\n\t  var closestEdge = findClosestEdge(edges, cursor);\n\t  if (!closestEdge || closestEdge.dist > maxSnapDist) {\n\t    return null;\n\t  }\n\t  return expandWindowAlongEdge(closestEdge, closestEdge.proj, windowDefn);\n\t}\n\t\n\tfunction snapWindowToEdgeAtGridIntervals(edges, cursor, windowDefn, maxSnapDist, gridSpacing) {\n\t  var closestEdge = findClosestEdge(edges, cursor);\n\t  if (!closestEdge || closestEdge.dist > maxSnapDist) {\n\t    return null;\n\t  }\n\t\n\t  var dist = (0, _helpers.distanceBetweenPoints)(closestEdge.v1, closestEdge.proj),\n\t      roundedDist = Math.round(dist / gridSpacing) * gridSpacing,\n\t      dx = closestEdge.v2.x - closestEdge.v1.x,\n\t      dy = closestEdge.v2.y - closestEdge.v1.y,\n\t      norm = Math.sqrt(dx * dx + dy * dy),\n\t      snapLoc = {\n\t    x: closestEdge.v1.x + roundedDist * (dx / norm),\n\t    y: closestEdge.v1.y + roundedDist * (dy / norm)\n\t  };\n\t\n\t  return expandWindowAlongEdge(closestEdge, snapLoc, windowDefn);\n\t}\n\t\n\tfunction snapWindowToEdge(snapMode) {\n\t  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t    args[_key - 1] = arguments[_key];\n\t  }\n\t\n\t  if (snapMode === 'grid-strict') {\n\t    return snapWindowToEdgeAtGridIntervals.apply(undefined, args);\n\t  }\n\t  return snapWindowToEdgeAnywhere.apply(undefined, args);\n\t}\n\t\n\tfunction snapToVertexWithinFace(snapMode, faces, cursor, gridSpacing) {\n\t  var existingVerts = snapMode === 'grid-strict' ? [] : [cursor];\n\t\n\t  return _lodash2.default.chain(snapTargets(existingVerts, gridSpacing, cursor)).map(function (g) {\n\t    return (0, _extends3.default)({}, g, {\n\t      face_id: _lodash2.default.find(faces, function (f) {\n\t        return (0, _helpers.vertInRing)(g, f.vertices);\n\t      })\n\t    });\n\t  }).filter('face_id').map(function (g) {\n\t    return (0, _extends3.default)({}, g, { face_id: g.face_id.id });\n\t  }).first().value();\n\t}\n\t\n\tfunction windowLocation(edge, windw) {\n\t  var alpha = windw.alpha || 0.5;\n\t  return {\n\t    x: edge.v1.x + alpha * (edge.v2.x - edge.v1.x),\n\t    y: edge.v1.y + alpha * (edge.v2.y - edge.v1.y)\n\t  };\n\t}\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _generateId = __webpack_require__(51);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    Vertex: function Vertex(x, y) {\n\t        return {\n\t            id: _generateId2.default.generate(),\n\t            x: x,\n\t            y: y\n\t        };\n\t    },\n\t    Edge: function Edge(v1, v2) {\n\t        return {\n\t            id: _generateId2.default.generate(),\n\t            v1: v1,\n\t            v2: v2\n\t        };\n\t    },\n\t    Face: function Face(edgeRefs) {\n\t        return {\n\t            id: _generateId2.default.generate(),\n\t            edgeRefs: edgeRefs\n\t        };\n\t    },\n\t    Geometry: function Geometry() {\n\t        return {\n\t            id: _generateId2.default.generate(),\n\t            vertices: [],\n\t            edges: [],\n\t            faces: []\n\t        };\n\t    }\n\t};\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.allowableTypes = exports.getDefaults = undefined;\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _generateId = __webpack_require__(51);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tvar _generateColor = __webpack_require__(306);\n\t\n\tvar _generateColor2 = _interopRequireDefault(_generateColor);\n\t\n\tvar _generateTexture = __webpack_require__(307);\n\t\n\tvar _generateTexture2 = _interopRequireDefault(_generateTexture);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tvar _appconfig2 = _interopRequireDefault(_appconfig);\n\t\n\tvar _geometry_schema = __webpack_require__(244);\n\t\n\tvar _geometry_schema2 = _interopRequireDefault(_geometry_schema);\n\t\n\tvar _unitConversion = __webpack_require__(125);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar makeReadPropertyAttr = function makeReadPropertyAttr(attribute) {\n\t  var readPropertyAttr = function readPropertyAttr(definition) {\n\t    if (_lodash2.default.has(definition, 'default')) return definition[attribute];\n\t    if (definition.type === 'null') return null;\n\t    if (definition.type === 'array') return [];\n\t    if (definition.type === 'object') {\n\t      return _lodash2.default.mapValues(definition.properties, readPropertyAttr);\n\t    }\n\t    if (_lodash2.default.has(definition, attribute)) return definition[attribute];\n\t    return null;\n\t  };\n\t  return readPropertyAttr;\n\t};\n\t\n\tvar readPropertyAttrs = function readPropertyAttrs(attr) {\n\t  return _lodash2.default.mapValues(_geometry_schema2.default.definitions, makeReadPropertyAttr(attr));\n\t};\n\t\n\tvar ip_defaults = readPropertyAttrs('default');\n\tif (ip_defaults.Project.config.units !== 'ip') {\n\t  throw new Error('Expected default units to be ip. Code changes are required to change the default units');\n\t}\n\tvar si_defaults = _lodash2.default.mapValues(ip_defaults, function (value, key) {\n\t  return (0, _unitConversion.getConverter)(key, 'ip', 'si')(value);\n\t});\n\t\n\tvar getDefaults = exports.getDefaults = function getDefaults(key) {\n\t  return _lodash2.default.cloneDeep(_lodash2.default.get(window, 'application.$store.state.project.config.units', 'ip') === 'ip' ? ip_defaults[key] : si_defaults[key]);\n\t};\n\t\n\tvar allowableTypes = exports.allowableTypes = readPropertyAttrs('type');\n\t\n\texports.default = {\n\t  Story: function Story(name) {\n\t    return (0, _extends3.default)({}, getDefaults('Story'), {\n\t      id: _generateId2.default.generate(),\n\t      name: name,\n\t      color: (0, _generateColor2.default)('story')\n\t    });\n\t  },\n\t  Space: function Space(name) {\n\t    return (0, _extends3.default)({}, getDefaults('Space'), {\n\t      id: _generateId2.default.generate(),\n\t      name: name,\n\t      color: (0, _generateColor2.default)('space'),\n\t      type: 'space'\n\t    });\n\t  },\n\t  Shading: function Shading(name) {\n\t    return (0, _extends3.default)({}, getDefaults('Shading'), {\n\t      id: _generateId2.default.generate(),\n\t      name: name,\n\t      color: _appconfig2.default.palette.shading\n\t    });\n\t  },\n\t  Image: function Image(name, src) {\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      src: src,\n\t      name: name,\n\t      visible: true,\n\t      height: 0,\n\t      width: 0,\n\t      x: 0,\n\t      y: 0,\n\t      z: 0,\n\t      r: 0,\n\t      opacity: 0.6,\n\t      naturalWidth: 0,\n\t      naturalHeight: 0\n\t    };\n\t  },\n\t  BuildingUnit: function BuildingUnit() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      color: (0, _generateColor2.default)('building_unit'),\n\t      name: opts.name,\n\t      handle: opts.handle || null\n\t    };\n\t  },\n\t  ThermalZone: function ThermalZone() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return (0, _extends3.default)({}, getDefaults('ThermalZone'), {\n\t      id: _generateId2.default.generate(),\n\t      color: (0, _generateColor2.default)('thermal_zone'),\n\t      name: opts.name\n\t    });\n\t  },\n\t  SpaceType: function SpaceType() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return (0, _extends3.default)({}, getDefaults('SpaceType'), {\n\t      id: _generateId2.default.generate(),\n\t      color: (0, _generateColor2.default)('space_type'),\n\t      name: opts.name\n\t    });\n\t  },\n\t  ConstructionSet: function ConstructionSet() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return (0, _extends3.default)({}, getDefaults('ConstructionSet'), {\n\t      id: _generateId2.default.generate(),\n\t      name: opts.name,\n\t      color: (0, _generateColor2.default)('construction_set')\n\t    });\n\t  },\n\t  WindowDefn: function WindowDefn() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return (0, _extends3.default)({}, getDefaults('WindowDefinition'), {\n\t      id: _generateId2.default.generate(),\n\t      name: opts.name,\n\t      wwr: null,\n\t      window_spacing: null,\n\t      texture: (0, _generateTexture2.default)('window_definition')\n\t    });\n\t  },\n\t  DaylightingControlDefn: function DaylightingControlDefn() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return (0, _extends3.default)({}, getDefaults('DaylightingControlDefinition'), {\n\t      id: _generateId2.default.generate(),\n\t      name: opts.name\n\t    });\n\t  },\n\t  DoorDefinition: function DoorDefinition() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return (0, _extends3.default)({}, getDefaults('DoorDefinition'), {\n\t      id: _generateId2.default.generate(),\n\t      name: opts.name,\n\t      texture: (0, _generateTexture2.default)('door_definition')\n\t    });\n\t  },\n\t  PitchedRoof: function PitchedRoof() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return (0, _extends3.default)({}, getDefaults('PitchedRoof'), {\n\t      id: _generateId2.default.generate(),\n\t      name: opts.name,\n\t      color: (0, _generateColor2.default)('pitched_roof')\n\t    });\n\t  },\n\t  BuildingType: function BuildingType() {\n\t    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t        name = _ref.name;\n\t\n\t    return (0, _extends3.default)({}, getDefaults('BuildingType'), {\n\t      id: _generateId2.default.generate(),\n\t      name: name,\n\t      color: (0, _generateColor2.default)('building_type')\n\t    });\n\t  }\n\t};\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.convertLibrary = exports.convertState = exports.convertSchema = exports.getConverter = exports.conversionFactor = exports.units = undefined;\n\t\n\tvar _typeof2 = __webpack_require__(187);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _geometry_schema = __webpack_require__(244);\n\t\n\tvar _geometry_schema2 = _interopRequireDefault(_geometry_schema);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tvar _deepFreeze = __webpack_require__(314);\n\t\n\tvar _deepFreeze2 = _interopRequireDefault(_deepFreeze);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar readUnits = function readUnits(definition) {\n\t  if (_lodash2.default.has(definition, 'si_units')) {\n\t    return _lodash2.default.pick(definition, ['si_units', 'ip_units']);\n\t  }\n\t  if (definition.type === 'object') {\n\t    var res = _lodash2.default.pickBy(_lodash2.default.mapValues(definition.properties, readUnits), _lodash2.default.identity);\n\t    if (_lodash2.default.isEmpty(res)) {\n\t      return null;\n\t    }\n\t    return res;\n\t  }\n\t  if (definition.type === 'array' && _lodash2.default.get(definition, 'items.$ref')) {\n\t    return {\n\t      arrayOf: definition.items.$ref.replace('#/definitions/', '')\n\t    };\n\t  }\n\t  if (definition.$ref) {\n\t    return {\n\t      $ref: definition.$ref.replace('#/definitions/', '')\n\t    };\n\t  }\n\t  return null;\n\t};\n\t\n\tvar rawUnits = (0, _extends3.default)({\n\t  $schema: _lodash2.default.pickBy(_lodash2.default.mapValues(_geometry_schema2.default.properties, readUnits), _lodash2.default.identity)\n\t}, _lodash2.default.pickBy(_lodash2.default.mapValues(_geometry_schema2.default.definitions, readUnits), _lodash2.default.identity));\n\t\n\trawUnits.$state = _lodash2.default.pickBy({\n\t  application: rawUnits.Application,\n\t  project: rawUnits.Project,\n\t  geometry: { arrayOf: 'Geometry' },\n\t  models: {\n\t    stories: { arrayOf: 'Story' },\n\t    library: _lodash2.default.fromPairs(_appconfig.libraryTypes.map(function (lt) {\n\t      return [lt, rawUnits.$schema[lt]];\n\t    }))\n\t  }\n\t}, _lodash2.default.identity);\n\t\n\tvar units = exports.units = (0, _deepFreeze2.default)(rawUnits);\n\t\n\tvar factorTable = {\n\t  'm -> ft': 3.280839895,\n\t  'ft -> m': 0.3048,\n\t  'fc -> lux': 10.7639,\n\t  'lux -> fc': 0.092903\n\t};\n\tvar conversionFactor = exports.conversionFactor = function conversionFactor(fromUnits, toUnits) {\n\t  var factor = factorTable[fromUnits + ' -> ' + toUnits];\n\t  if (!factor) {\n\t    throw new Error('Unable to find conversion from ' + fromUnits + ' to ' + toUnits);\n\t  }\n\t  return factor;\n\t};\n\t\n\tvar getConverter = exports.getConverter = function getConverter(path, _fromSystem, _toSystem) {\n\t  if (!_lodash2.default.includes(['si', 'ip'], _fromSystem)) {\n\t    throw new Error('expected fromSystem to be \\'si\\' or \\'ip\\'. received ' + _fromSystem);\n\t  }\n\t  if (!_lodash2.default.includes(['si', 'ip'], _toSystem)) {\n\t    throw new Error('expected toSystem to be \\'si\\' or \\'ip\\'. received ' + _toSystem);\n\t  }\n\t\n\t  if (_fromSystem === _toSystem) {\n\t    return _lodash2.default.identity;\n\t  }\n\t\n\t  var fromSystem = _fromSystem + '_units';\n\t  var toSystem = _toSystem + '_units';\n\t\n\t  var pathUnits = _lodash2.default.get(units, path);\n\t  if (!pathUnits || _lodash2.default.has(pathUnits, 'si_units') && pathUnits.si_units === pathUnits.ip_units) {\n\t    return _lodash2.default.identity;\n\t  }\n\t  if (_lodash2.default.has(pathUnits, 'si_units')) {\n\t    var factor = conversionFactor(pathUnits[fromSystem], pathUnits[toSystem]);\n\t    return function (val) {\n\t      return (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === (0, _typeof3.default)(0) ? val * factor : val;\n\t    };\n\t  }\n\t  if (pathUnits.$ref) {\n\t    return getConverter(pathUnits.$ref, _fromSystem, _toSystem);\n\t  }\n\t  if (pathUnits.arrayOf) {\n\t    var converter = getConverter(pathUnits.arrayOf, _fromSystem, _toSystem);\n\t    return function (arr) {\n\t      return arr.map(converter);\n\t    };\n\t  }\n\t  if (_lodash2.default.isObject(pathUnits)) {\n\t    var converters = _lodash2.default.mapValues(pathUnits, function (val, key) {\n\t      return getConverter(path + '.' + key, _fromSystem, _toSystem);\n\t    });\n\t    return function (obj) {\n\t      return _lodash2.default.mapValues(obj, function (val, key) {\n\t        return (converters[key] || _lodash2.default.identity)(val);\n\t      });\n\t    };\n\t  }\n\t  throw new Error('Path ' + path + ' did not lead to a useful spot in \\'units\\'');\n\t};\n\t\n\tvar convertSchema = exports.convertSchema = function convertSchema(data, fromSystem, toSystem) {\n\t  return getConverter('$schema', fromSystem, toSystem)(data);\n\t};\n\t\n\tvar convertState = exports.convertState = function convertState(data, fromSystem, toSystem) {\n\t  return getConverter('$state', fromSystem, toSystem)(data);\n\t};\n\t\n\tvar convertLibrary = exports.convertLibrary = convertSchema;\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(42);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\texports.debounce = debounce;\n\texports.uniq = uniq;\n\texports.allPairs = allPairs;\n\texports.dropConsecutiveDups = dropConsecutiveDups;\n\texports.getSiblings = getSiblings;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction debounce(func, wait) {\n\t  var timeout;\n\t\n\t  return function () {\n\t    var _this = this;\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    clearTimeout(timeout);\n\t\n\t    timeout = setTimeout(function () {\n\t      timeout = null;\n\t      func.apply(_this, args);\n\t    }, wait);\n\t  };\n\t};\n\t\n\tfunction uniq(arr) {\n\t  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _stringify2.default;\n\t\n\t  var alreadySeen = {};\n\t  return arr.filter(function (elem) {\n\t    var theKey = key(elem);\n\t    if (alreadySeen[theKey]) {\n\t      return false;\n\t    } else {\n\t      alreadySeen[theKey] = true;\n\t      return true;\n\t    }\n\t  });\n\t}\n\t\n\tfunction allPairs(elems) {\n\t  return _lodash2.default.flatten(elems.map(function (p, ix) {\n\t    return elems.slice(ix + 1).map(function (p2) {\n\t      return [p, p2];\n\t    });\n\t  }));\n\t}\n\t\n\tfunction dropConsecutiveDups(arr) {\n\t  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _stringify2.default;\n\t\n\t  return arr.filter(function (item, pos) {\n\t    return pos === 0 || key(item) !== key(arr[pos - 1]);\n\t  });\n\t}\n\t\n\tfunction getSiblings(el) {\n\t  var siblings = [];\n\t  for (var sibling = el.parentNode.firstChild; sibling; sibling = sibling.nextSibling) {\n\t    if (sibling.nodeType === 1 && sibling !== el) {\n\t      siblings.push(sibling);\n\t    }\n\t  }\n\t  return siblings;\n\t}\n\n/***/ }),\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */,\n/* 133 */,\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */,\n/* 138 */,\n/* 139 */,\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */,\n/* 144 */,\n/* 145 */,\n/* 146 */,\n/* 147 */,\n/* 148 */,\n/* 149 */,\n/* 150 */,\n/* 151 */,\n/* 152 */,\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */,\n/* 169 */,\n/* 170 */,\n/* 171 */,\n/* 172 */,\n/* 173 */,\n/* 174 */,\n/* 175 */,\n/* 176 */,\n/* 177 */,\n/* 178 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"10\",\"cy\":\"10\",\"fill\":\"#bf0049\",\"r\":\"5.6\"}}),_c('path',{attrs:{\"d\":\"M10.8 9.9L12.7 8c.2-.2.2-.6 0-.8-.2-.2-.6-.2-.8 0L10 9 8.1 7.1c-.2-.2-.6-.2-.8 0s-.3.7-.1.9l1.9 1.9-1.9 1.9c-.2.2-.2.6 0 .8.1.1.3.2.4.2s.3-.1.4-.2l1.9-1.9 1.9 1.9c.1.1.3.2.4.2s.3-.1.4-.2c.2-.2.2-.6 0-.8l-1.8-1.9z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 179 */,\n/* 180 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(79);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = new _vue2.default();\n\n/***/ }),\n/* 181 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.ResizeEvents = undefined;\n\t\n\tvar _ResizeEvents = __webpack_require__(180);\n\t\n\tvar _ResizeEvents2 = _interopRequireDefault(_ResizeEvents);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.ResizeEvents = _ResizeEvents2.default;\n\n/***/ }),\n/* 182 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _open_floorplan = __webpack_require__(705);\n\t\n\tvar _open_floorplan2 = _interopRequireDefault(_open_floorplan);\n\t\n\tvar _save_floorplan = __webpack_require__(711);\n\t\n\tvar _save_floorplan2 = _interopRequireDefault(_save_floorplan);\n\t\n\tvar _import_library = __webpack_require__(703);\n\t\n\tvar _import_library2 = _interopRequireDefault(_import_library);\n\t\n\tvar _undo = __webpack_require__(722);\n\t\n\tvar _undo2 = _interopRequireDefault(_undo);\n\t\n\tvar _redo = __webpack_require__(710);\n\t\n\tvar _redo2 = _interopRequireDefault(_redo);\n\t\n\tvar _tab_floorplan = __webpack_require__(715);\n\t\n\tvar _tab_floorplan2 = _interopRequireDefault(_tab_floorplan);\n\t\n\tvar _tab_shading = __webpack_require__(716);\n\t\n\tvar _tab_shading2 = _interopRequireDefault(_tab_shading);\n\t\n\tvar _tab_assign = __webpack_require__(713);\n\t\n\tvar _tab_assign2 = _interopRequireDefault(_tab_assign);\n\t\n\tvar _tab_components = __webpack_require__(714);\n\t\n\tvar _tab_components2 = _interopRequireDefault(_tab_components);\n\t\n\tvar _tool_draw_rectangle = __webpack_require__(719);\n\t\n\tvar _tool_draw_rectangle2 = _interopRequireDefault(_tool_draw_rectangle);\n\t\n\tvar _tool_draw_polygon = __webpack_require__(718);\n\t\n\tvar _tool_draw_polygon2 = _interopRequireDefault(_tool_draw_polygon);\n\t\n\tvar _tool_erase = __webpack_require__(720);\n\t\n\tvar _tool_erase2 = _interopRequireDefault(_tool_erase);\n\t\n\tvar _tool_move_size = __webpack_require__(721);\n\t\n\tvar _tool_move_size2 = _interopRequireDefault(_tool_move_size);\n\t\n\tvar _tool_color = __webpack_require__(717);\n\t\n\tvar _tool_color2 = _interopRequireDefault(_tool_color);\n\t\n\tvar _image_icon = __webpack_require__(702);\n\t\n\tvar _image_icon2 = _interopRequireDefault(_image_icon);\n\t\n\tvar _fill_icon = __webpack_require__(700);\n\t\n\tvar _fill_icon2 = _interopRequireDefault(_fill_icon);\n\t\n\tvar _lego_brick_icon = __webpack_require__(704);\n\t\n\tvar _lego_brick_icon2 = _interopRequireDefault(_lego_brick_icon);\n\t\n\tvar _zoom_to_fit = __webpack_require__(725);\n\t\n\tvar _zoom_to_fit2 = _interopRequireDefault(_zoom_to_fit);\n\t\n\tvar _zoom_in = __webpack_require__(723);\n\t\n\tvar _zoom_in2 = _interopRequireDefault(_zoom_in);\n\t\n\tvar _zoom_out = __webpack_require__(724);\n\t\n\tvar _zoom_out2 = _interopRequireDefault(_zoom_out);\n\t\n\tvar _pan = __webpack_require__(706);\n\t\n\tvar _pan2 = _interopRequireDefault(_pan);\n\t\n\tvar _add_image = __webpack_require__(690);\n\t\n\tvar _add_image2 = _interopRequireDefault(_add_image);\n\t\n\tvar _ground_props_icon = __webpack_require__(701);\n\t\n\tvar _ground_props_icon2 = _interopRequireDefault(_ground_props_icon);\n\t\n\tvar _components_window = __webpack_require__(698);\n\t\n\tvar _components_window2 = _interopRequireDefault(_components_window);\n\t\n\tvar _components_daylighting = __webpack_require__(697);\n\t\n\tvar _components_daylighting2 = _interopRequireDefault(_components_daylighting);\n\t\n\tvar _assign_bldgmodule = __webpack_require__(693);\n\t\n\tvar _assign_bldgmodule2 = _interopRequireDefault(_assign_bldgmodule);\n\t\n\tvar _assign_constructions = __webpack_require__(694);\n\t\n\tvar _assign_constructions2 = _interopRequireDefault(_assign_constructions);\n\t\n\tvar _assign_activity = __webpack_require__(692);\n\t\n\tvar _assign_activity2 = _interopRequireDefault(_assign_activity);\n\t\n\tvar _assign_thermalzone = __webpack_require__(696);\n\t\n\tvar _assign_thermalzone2 = _interopRequireDefault(_assign_thermalzone);\n\t\n\tvar _assign_roof = __webpack_require__(695);\n\t\n\tvar _assign_roof2 = _interopRequireDefault(_assign_roof);\n\t\n\tvar _quickstart_icon_new_map_floorplan = __webpack_require__(707);\n\t\n\tvar _quickstart_icon_new_map_floorplan2 = _interopRequireDefault(_quickstart_icon_new_map_floorplan);\n\t\n\tvar _quickstart_icon_newfloorplan = __webpack_require__(708);\n\t\n\tvar _quickstart_icon_newfloorplan2 = _interopRequireDefault(_quickstart_icon_newfloorplan);\n\t\n\tvar _quickstart_icon_openfloorplan = __webpack_require__(709);\n\t\n\tvar _quickstart_icon_openfloorplan2 = _interopRequireDefault(_quickstart_icon_openfloorplan);\n\t\n\tvar _info_icon = __webpack_require__(251);\n\t\n\tvar _info_icon2 = _interopRequireDefault(_info_icon);\n\t\n\tvar _settings_gear = __webpack_require__(712);\n\t\n\tvar _settings_gear2 = _interopRequireDefault(_settings_gear);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ComponentIcon = {\n\t  name: 'ComponentIcon',\n\t  props: ['which'],\n\t  template: '\\n    <ComponentsWindow v-if=\"which === \\'window_definitions\\'\" class=\"button\" />\\n    <ComponentsDaylighting v-else-if=\"which === \\'daylighting_control_definitions\\'\" class=\"button\" />\\n  ',\n\t  components: {\n\t    ComponentsWindow: _components_window2.default,\n\t    ComponentsDaylighting: _components_daylighting2.default\n\t  }\n\t};\n\t\n\tvar AssignSpacePropIcon = {\n\t  name: 'AssignSpacePropIcon',\n\t  props: ['which'],\n\t  template: '\\n    <AssignBldgModule v-if=\"which === \\'building_units\\'\" class=\"button\" />\\n    <AssignThermalZone v-else-if=\"which === \\'thermal_zones\\'\" class=\"button\" />\\n    <AssignActivity v-else-if=\"which === \\'space_types\\'\" class=\"button\" />\\n    <AssignRoof v-else-if=\"which === \\'pitched_roofs\\'\" class=\"button\" />\\n  ',\n\t  components: {\n\t    AssignBldgModule: _assign_bldgmodule2.default,\n\t    AssignThermalZone: _assign_thermalzone2.default,\n\t    AssignActivity: _assign_activity2.default,\n\t    AssignRoof: _assign_roof2.default\n\t  }\n\t};\n\t\n\texports.default = {\n\t  'open-floorplan-svg': _open_floorplan2.default,\n\t  'save-floorplan-svg': _save_floorplan2.default,\n\t  'import-library-svg': _import_library2.default,\n\t  'undo-svg': _undo2.default,\n\t  'redo-svg': _redo2.default,\n\t  'tab-floorplan-svg': _tab_floorplan2.default,\n\t  'tab-shading-svg': _tab_shading2.default,\n\t  'tab-assign-svg': _tab_assign2.default,\n\t  'tab-components-svg': _tab_components2.default,\n\t\n\t  'tool-color-svg': _tool_color2.default,\n\t  'tool-draw-rectangle-svg': _tool_draw_rectangle2.default,\n\t  'tool-draw-polygon-svg': _tool_draw_polygon2.default,\n\t  'tool-erase-svg': _tool_erase2.default,\n\t  'tool-move-size-svg': _tool_move_size2.default,\n\t  'tool-image-svg': _image_icon2.default,\n\t  'tool-fill-svg': _fill_icon2.default,\n\t  'tool-component-svg': _lego_brick_icon2.default,\n\t\n\t  'zoom-in-svg': _zoom_in2.default,\n\t  'zoom-out-svg': _zoom_out2.default,\n\t  'pan-svg': _pan2.default,\n\t  'add-image': _add_image2.default,\n\t  ZoomToFitSvg: _zoom_to_fit2.default,\n\t\n\t  ComponentIcon: ComponentIcon,\n\t  AssignSpacePropIcon: AssignSpacePropIcon,\n\t\n\t  QuickstartIconNewMapFloorplan: _quickstart_icon_new_map_floorplan2.default,\n\t  QuickstartIconNewFloorplan: _quickstart_icon_newfloorplan2.default,\n\t  QuickstartIconOpenFloorplan: _quickstart_icon_openfloorplan2.default,\n\t\n\t  InfoIcon: _info_icon2.default,\n\t  SettingsGear: _settings_gear2.default,\n\t  GroundPropertiesIcon: _ground_props_icon2.default\n\t};\n\n/***/ }),\n/* 183 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(70);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _keys = __webpack_require__(52);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _getIterator2 = __webpack_require__(96);\n\t\n\tvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\t\n\texports.withPreservedComponents = withPreservedComponents;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _snapping = __webpack_require__(122);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction facesContainingEdge(faces, edge_id) {\n\t  var containingFaces = [];\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = (0, _getIterator3.default)(faces), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var face = _step.value;\n\t      var _iteratorNormalCompletion2 = true;\n\t      var _didIteratorError2 = false;\n\t      var _iteratorError2 = undefined;\n\t\n\t      try {\n\t        for (var _iterator2 = (0, _getIterator3.default)(face.edges), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t          var edge = _step2.value;\n\t\n\t          if (edge.id === edge_id) {\n\t            containingFaces.push(face);\n\t            break;\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError2 = true;\n\t        _iteratorError2 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t            _iterator2.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError2) {\n\t            throw _iteratorError2;\n\t          }\n\t        }\n\t      }\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t\n\t  return containingFaces;\n\t}\n\t\n\tfunction componentsOnStory(state, geometry_id) {\n\t  var geom = _helpers2.default.denormalize(state.geometry.find(function (g) {\n\t    return g.id === geometry_id;\n\t  })),\n\t      story = state.models.stories.find(function (s) {\n\t    return s.geometry_id === geometry_id;\n\t  });\n\t\n\t  var perFaceComponents = story.spaces.map(function (space) {\n\t    return {\n\t      daylighting_controls: space.daylighting_controls.map(function (d) {\n\t        return (0, _extends3.default)({}, d, { vertex: _lodash2.default.find(geom.vertices, { id: d.vertex_id }) });\n\t      }),\n\t      space_id: space.id,\n\t      face_id: space.face_id\n\t    };\n\t  });\n\t  return {\n\t    geometry_id: geometry_id,\n\t    story_id: story.id,\n\t    windows: story.windows.map(function (w) {\n\t      var edge = _lodash2.default.find(geom.edges, { id: w.edge_id }),\n\t          faces = facesContainingEdge(geom.faces, w.edge_id);\n\t      return (0, _extends3.default)({}, w, {\n\t        originalLoc: (0, _snapping.windowLocation)(edge, w),\n\t        originalFaceIds: _lodash2.default.map(faces, 'id')\n\t      });\n\t    }),\n\t    doors: story.doors.map(function (d) {\n\t      var edge = _lodash2.default.find(geom.edges, { id: d.edge_id }),\n\t          faces = facesContainingEdge(geom.faces, d.edge_id);\n\t      return (0, _extends3.default)({}, d, {\n\t        originalLoc: (0, _snapping.windowLocation)(edge, d),\n\t        originalFaceIds: _lodash2.default.map(faces, 'id')\n\t      });\n\t    }),\n\t    perFaceComponents: perFaceComponents\n\t  };\n\t}\n\t\n\tfunction replaceComponents(context, components) {\n\t  var movementsByFaceId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t  var geometry_id = components.geometry_id,\n\t      story_id = components.story_id,\n\t      windows = components.windows,\n\t      doors = components.doors,\n\t      perFaceComponents = components.perFaceComponents,\n\t      geometry = _helpers2.default.denormalize(_lodash2.default.find(context.rootState.geometry, { id: geometry_id })),\n\t      story = _lodash2.default.find(context.rootState.models.stories, { id: story_id }),\n\t      spaceFaces = geometry.faces.filter(function (f) {\n\t    return _lodash2.default.find(story.spaces, { face_id: f.id });\n\t  }),\n\t      spacing = context.rootState.project.grid.spacing;\n\t\n\t  context.dispatch('models/destroyAllComponents', { story_id: story_id }, { root: true });\n\t\n\t  var edgesPresentOnFaces = _lodash2.default.flatMap(spaceFaces, 'edges');\n\t\n\t  var replaceWindowOrDoor = function replaceWindowOrDoor(arr, windowOrDoor) {\n\t    var windowsOrDoors = [];\n\t    arr.forEach(function (w) {\n\t      var _ref = movementsByFaceId[w.originalFaceIds[0]] || { dx: 0, dy: 0 },\n\t          dx = _ref.dx,\n\t          dy = _ref.dy,\n\t          newLoc = { x: w.originalLoc.x + dx, y: w.originalLoc.y + dy },\n\t          loc = (0, _snapping.snapWindowToEdge)('nonstrict', edgesPresentOnFaces, newLoc, { width: 1 }, spacing / 4);\n\t\n\t      if (!loc) {\n\t        return;\n\t      }\n\t\n\t      var facesWithEdge = facesContainingEdge(spaceFaces, loc.edge_id).map(function (f) {\n\t        return f.id;\n\t      });\n\t      if (w.originalFaceIds.length !== facesWithEdge.length || w.originalFaceIds.length > 1 && _lodash2.default.intersection((0, _keys2.default)(movementsByFaceId), w.originalFaceIds)) {\n\t        return;\n\t      }\n\t\n\t      windowsOrDoors.push((0, _defineProperty3.default)({\n\t        story_id: story_id,\n\t        edge_id: loc.edge_id,\n\t        alpha: loc.alpha\n\t      }, windowOrDoor.toLowerCase() + '_definition_id', w.window_definition_id || w.door_definition_id));\n\t    });\n\t\n\t    context.dispatch('models/create' + windowOrDoor + 's', windowsOrDoors, { root: true });\n\t  };\n\t\n\t  replaceWindowOrDoor(windows, 'Window');\n\t  replaceWindowOrDoor(doors, 'Door');\n\t\n\t  perFaceComponents.forEach(function (_ref2) {\n\t    var face_id = _ref2.face_id,\n\t        daylighting_controls = _ref2.daylighting_controls;\n\t\n\t    daylighting_controls.forEach(function (d) {\n\t      var _ref3 = movementsByFaceId[face_id] || { dx: 0, dy: 0 },\n\t          dx = _ref3.dx,\n\t          dy = _ref3.dy,\n\t          newLoc = { x: d.vertex.x + dx, y: d.vertex.y + dy },\n\t          loc = (0, _snapping.snapToVertexWithinFace)('nonstrict', spaceFaces, newLoc, spacing / 4);\n\t\n\t      if (!loc) {\n\t        return;\n\t      }\n\t\n\t      context.dispatch('models/createDaylightingControl', {\n\t        daylighting_control_definition_id: d.daylighting_control_definition_id,\n\t        x: loc.x,\n\t        y: loc.y,\n\t        story_id: story_id,\n\t        face_id: loc.face_id\n\t      }, { root: true });\n\t    });\n\t  });\n\t}\n\t\n\tfunction withPreservedComponents() {\n\t  var context = void 0,\n\t      geometry_id = void 0,\n\t      action = void 0,\n\t      movementsByFaceId = void 0;\n\t\n\t  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t    args[_key] = arguments[_key];\n\t  }\n\t\n\t  if (args.length === 3) {\n\t    context = args[0];\n\t    geometry_id = args[1];\n\t    action = args[2];\n\t\n\t    movementsByFaceId = {};\n\t  } else if (args.length === 4) {\n\t    context = args[0];\n\t    geometry_id = args[1];\n\t    movementsByFaceId = args[2];\n\t    action = args[3];\n\t  } else {\n\t    throw new Error('usage: withPreservedComponents(context, geometry_id, action [,movementsByFaceId])');\n\t  }\n\t\n\t  var components = componentsOnStory(context.rootState, geometry_id);\n\t  action();\n\t  replaceComponents(context, components, movementsByFaceId);\n\t}\n\n/***/ }),\n/* 184 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(300);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _mutations = __webpack_require__(302);\n\t\n\tvar _mutations2 = _interopRequireDefault(_mutations);\n\t\n\tvar _getters = __webpack_require__(301);\n\t\n\tvar _getters2 = _interopRequireDefault(_getters);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  namespaced: true,\n\t  state: {\n\t    config: {\n\t      units: 'ip',\n\t      unitsEditable: true,\n\t      language: 'EN-US'\n\t    },\n\t    north_axis: 0,\n\t    ground: {\n\t      floor_offset: 0,\n\t      azimuth_angle: 0,\n\t      tilt_slope: 0\n\t    },\n\t    grid: {\n\t      visible: true,\n\t      spacing: 5\n\t    },\n\t    view: {\n\t      min_x: -250,\n\t      min_y: -150,\n\t      max_x: 250,\n\t      max_y: 150\n\t    },\n\t    map: {\n\t      initialized: false,\n\t      enabled: true,\n\t      visible: true,\n\t      latitude: 39.7653,\n\t      longitude: -104.9863,\n\t      zoom: 4.5,\n\t      rotation: 0,\n\t      elevation: 0\n\t    },\n\t    previous_story: {\n\t      visible: true\n\t    },\n\t    show_import_export: true\n\t  },\n\t  actions: _actions2.default,\n\t  mutations: _mutations2.default,\n\t  getters: _getters2.default\n\t};\n\n/***/ }),\n/* 185 */,\n/* 186 */,\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */,\n/* 191 */,\n/* 192 */,\n/* 193 */,\n/* 194 */,\n/* 195 */,\n/* 196 */,\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */,\n/* 201 */,\n/* 202 */,\n/* 203 */,\n/* 204 */,\n/* 205 */,\n/* 206 */,\n/* 207 */,\n/* 208 */,\n/* 209 */,\n/* 210 */,\n/* 211 */,\n/* 212 */,\n/* 213 */,\n/* 214 */,\n/* 215 */,\n/* 216 */,\n/* 217 */,\n/* 218 */,\n/* 219 */,\n/* 220 */,\n/* 221 */,\n/* 222 */,\n/* 223 */,\n/* 224 */,\n/* 225 */,\n/* 226 */,\n/* 227 */,\n/* 228 */,\n/* 229 */,\n/* 230 */,\n/* 231 */,\n/* 232 */,\n/* 233 */,\n/* 234 */,\n/* 235 */,\n/* 236 */,\n/* 237 */,\n/* 238 */,\n/* 239 */,\n/* 240 */,\n/* 241 */,\n/* 242 */,\n/* 243 */,\n/* 244 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"version\":\"0.7.0\",\"description\":\"Comment describing your JSON Schema\",\"type\":\"object\",\"properties\":{\"version\":{\"description\":\"File format version\",\"type\":\"string\"},\"application\":{\"$ref\":\"#/definitions/Application\"},\"project\":{\"$ref\":\"#/definitions/Project\"},\"stories\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Story\"}},\"building_units\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/BuildingUnit\"}},\"thermal_zones\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/ThermalZone\"}},\"space_types\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/SpaceType\"}},\"construction_sets\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/ConstructionSet\"}},\"window_definitions\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/WindowDefinition\"}},\"door_definitions\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/DoorDefinition\"}},\"daylighting_control_definitions\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/DaylightingControlDefinition\"}},\"pitched_roofs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/PitchedRoof\"}}},\"required\":[\"version\",\"application\",\"project\",\"stories\",\"building_units\",\"thermal_zones\",\"space_types\",\"construction_sets\",\"window_definitions\",\"door_definitions\",\"daylighting_control_definitions\",\"pitched_roofs\"],\"definitions\":{\"Application\":{\"description\":\"Reserved for application data, not for external use\",\"type\":\"object\"},\"Project\":{\"description\":\"Information that applies to the entire project\",\"type\":\"object\",\"properties\":{\"config\":{\"type\":\"object\",\"properties\":{\"units\":{\"type\":[\"string\",\"null\"],\"enum\":[\"ip\",\"si\"],\"default\":\"ip\"},\"language\":{\"type\":[\"string\",\"null\"],\"default\":\"EN-US\"}},\"required\":[\"units\",\"language\"]},\"north_axis\":{\"description\":\"Angle between building north and true north in degrees (clockwise is positive)\",\"type\":[\"number\",\"null\"],\"default\":0,\"si_units\":\"deg\",\"ip_units\":\"deg\"},\"ground\":{\"type\":\"object\",\"properties\":{\"floor_offset\":{\"description\":\"Specifies the vertical offset between the building floor and the ground plane. Use a value < 0 for buildings with below-grade spaces, or a value > 0 for, e.g., buildings on piers.\",\"type\":[\"number\",\"null\"],\"default\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"azimuth_angle\":{\"description\":\"Direction of the ground plane, in clockwise degrees from the positive y-axis when viewed from above.\",\"type\":[\"number\",\"null\"],\"default\":0,\"si_units\":\"deg\",\"ip_units\":\"deg\"},\"tilt_slope\":{\"description\":\"Slope of the ground plane from horizontal. For example, a value of 1 implies a 45-deg angle.\",\"type\":[\"number\",\"null\"],\"default\":0}},\"required\":[\"floor_offset\",\"azimuth_angle\",\"tilt_slope\"]},\"grid\":{\"type\":\"object\",\"properties\":{\"visible\":{\"type\":[\"boolean\",\"null\"]},\"spacing\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"}},\"required\":[\"visible\",\"spacing\"]},\"view\":{\"type\":\"object\",\"properties\":{\"min_x\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"min_y\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"max_x\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"max_y\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"}},\"required\":[\"min_x\",\"min_y\",\"max_x\",\"max_y\"]},\"map\":{\"type\":\"object\",\"properties\":{\"visible\":{\"type\":[\"boolean\",\"null\"]},\"latitude\":{\"type\":[\"number\",\"null\"]},\"longitude\":{\"type\":[\"number\",\"null\"]},\"zoom\":{\"type\":[\"number\",\"null\"]},\"elevation\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"enabled\":{\"type\":[\"boolean\",\"null\"]},\"initialized\":{\"type\":[\"boolean\",\"null\"]},\"rotation\":{\"type\":[\"number\",\"null\"],\"si_units\":\"deg\",\"ip_units\":\"deg\"}},\"required\":[\"visible\",\"latitude\",\"longitude\",\"zoom\",\"elevation\",\"enabled\",\"initialized\",\"rotation\"]},\"previous_story\":{\"type\":\"object\",\"properties\":{\"visible\":{\"type\":[\"boolean\",\"null\"]}},\"required\":[\"visible\"]},\"show_import_export\":{\"type\":[\"boolean\",\"null\"]}},\"required\":[\"config\",\"north_axis\",\"ground\",\"grid\",\"view\",\"map\",\"previous_story\",\"show_import_export\"]},\"Geometry\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"vertices\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Vertex\"}},\"edges\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Edge\"}},\"faces\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Face\"}}},\"required\":[\"id\",\"vertices\",\"edges\",\"faces\"]},\"Vertex\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"x\":{\"type\":\"number\",\"si_units\":\"m\",\"ip_units\":\"ft\"},\"y\":{\"type\":\"number\",\"si_units\":\"m\",\"ip_units\":\"ft\"},\"edge_ids\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"id\",\"x\",\"y\",\"edge_ids\"]},\"Edge\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"vertex_ids\":{\"type\":\"array\",\"minItems\":2,\"maxItems\":2,\"uniqueItems\":true,\"items\":{\"type\":\"string\"}},\"face_ids\":{\"type\":\"array\",\"minItems\":1,\"maxItems\":2,\"items\":{\"type\":\"string\"}}},\"required\":[\"id\",\"vertex_ids\",\"face_ids\"]},\"Face\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"edge_ids\":{\"type\":\"array\",\"minItems\":3,\"items\":{\"type\":\"string\"}},\"edge_order\":{\"type\":\"array\",\"minItems\":3,\"items\":{\"type\":\"number\",\"enum\":[0,1]}}},\"required\":[\"id\",\"edge_ids\",\"edge_order\"]},\"Story\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"image_visible\":{\"type\":[\"boolean\",\"null\"],\"default\":true},\"below_floor_plenum_height\":{\"type\":[\"number\",\"null\"],\"minimum\":0,\"default\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"floor_to_ceiling_height\":{\"type\":[\"number\",\"null\"],\"minimum\":0,\"default\":8,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"above_ceiling_plenum_height\":{\"type\":[\"number\",\"null\"],\"minimum\":0,\"default\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"multiplier\":{\"type\":[\"integer\",\"null\"],\"minimum\":1,\"multipleOf\":1,\"default\":1},\"color\":{\"$ref\":\"#/definitions/HexColor\"},\"geometry\":{\"$ref\":\"#/definitions/Geometry\"},\"images\":{\"type\":\"array\"},\"spaces\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Space\"}},\"shading\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Shading\"}},\"windows\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"window_definition_id\":{\"type\":\"string\"},\"edge_id\":{\"type\":\"string\"},\"alpha\":{\"description\":\"Distance along edge to center point of window, starting from first vertex of edge at a = 0 and ending at second vertex of edge at a =1.  v = v1 + a*(v2-v1).  Does not apply if window_definition_mode is \\\"Window to Wall Ratio\\\". Will be an array of such values if window_definition_mode is \\\"Repeating Windows\\\".\",\"type\":[\"array\",\"number\",\"null\"],\"minimum\":0,\"maximum\":1,\"items\":{\"type\":\"number\",\"minimum\":0,\"maximum\":1}}},\"required\":[\"window_definition_id\",\"edge_id\",\"alpha\"]}},\"doors\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"door_definition_id\":{\"type\":\"string\"},\"edge_id\":{\"type\":\"string\"},\"alpha\":{\"description\":\"Distance along edge to center point of door, starting from first vertex of edge at a = 0 and ending at second vertex of edge at a =1.  v = v1 + a*(v2-v1). \",\"type\":\"number\",\"minimum\":0,\"maximum\":1}},\"required\":[\"door_definition_id\",\"edge_id\",\"alpha\"]}}},\"required\":[\"id\",\"handle\",\"name\",\"image_visible\",\"below_floor_plenum_height\",\"floor_to_ceiling_height\",\"above_ceiling_plenum_height\",\"multiplier\",\"color\",\"geometry\",\"images\",\"spaces\",\"shading\",\"windows\",\"doors\"]},\"Space\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"face_id\":{\"type\":[\"string\",\"null\"]},\"building_unit_id\":{\"type\":[\"string\",\"null\"]},\"thermal_zone_id\":{\"type\":[\"string\",\"null\"]},\"space_type_id\":{\"type\":[\"string\",\"null\"]},\"construction_set_id\":{\"type\":[\"string\",\"null\"]},\"pitched_roof_id\":{\"type\":[\"string\",\"null\"]},\"daylighting_controls\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"daylighting_control_definition_id\":{\"type\":\"string\"},\"vertex_id\":{\"type\":\"string\"}},\"required\":[\"daylighting_control_definition_id\",\"vertex_id\"]}},\"below_floor_plenum_height\":{\"description\":\"If provided, overrides the story below_floor_plenum_height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"floor_to_ceiling_height\":{\"description\":\"If provided, overrides the story floor_to_ceiling_height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"above_ceiling_plenum_height\":{\"description\":\"If provided, overrides the story above_ceiling_plenum_height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"floor_offset\":{\"description\":\"If provided, specifies the vertical offset between the space floor and the story floor.\",\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"open_to_below\":{\"description\":\"If true, defines a space that is open to below (has no floor).\",\"type\":[\"boolean\",\"null\"]},\"building_type_id\":{\"description\":\"Standard space type\",\"type\":[\"string\",\"null\"]},\"template\":{\"description\":\"Template for the space to follow\",\"type\":[\"string\",\"null\"]}},\"required\":[\"id\",\"handle\",\"name\",\"face_id\",\"building_unit_id\",\"thermal_zone_id\",\"space_type_id\",\"construction_set_id\",\"pitched_roof_id\",\"daylighting_controls\",\"below_floor_plenum_height\",\"floor_to_ceiling_height\",\"above_ceiling_plenum_height\",\"floor_offset\",\"open_to_below\",\"building_type_id\",\"template\"]},\"Shading\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"face_id\":{\"type\":[\"string\",\"null\"]}},\"required\":[\"id\",\"handle\",\"name\",\"face_id\"]},\"ThermalZone\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"color\":{\"$ref\":\"#/definitions/HexColor\"}},\"required\":[\"id\",\"handle\",\"name\",\"color\"]},\"SpaceType\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"color\":{\"$ref\":\"#/definitions/HexColor\"}},\"required\":[\"id\",\"handle\",\"name\",\"color\"]},\"BuildingUnit\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"color\":{\"$ref\":\"#/definitions/HexColor\"}},\"required\":[\"id\",\"handle\",\"name\",\"color\"]},\"ConstructionSet\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]}},\"required\":[\"id\",\"handle\",\"name\"]},\"WindowDefinition\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":[\"string\",\"null\"]},\"window_definition_mode\":{\"type\":\"string\",\"enum\":[\"Single Window\",\"Repeating Windows\",\"Window to Wall Ratio\"],\"default\":\"Single Window\"},\"wwr\":{\"description\":\"Target window to wall ratio, only used if window_definition_mode is \\\"Window to Wall Ratio\\\"\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"maximum\":1,\"exclusiveMaximum\":true,\"default\":0.2},\"sill_height\":{\"description\":\"Vertical distance from the floor to the window sill. In drawing units.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":3,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"window_spacing\":{\"description\":\"Spacing between windows.  Only used if window_definition_mode is  \\\"Repeating Windows\\\".\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":4,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"height\":{\"description\":\"Vertical height of each window. In drawing units. Used if window_definition_mode is \\\"Single Window\\\" or \\\"Repeating Windows\\\".\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":4,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"width\":{\"description\":\"Horizontal width of each window. In drawing units. Used if window_definition_mode is \\\"Single Window\\\" or \\\"Repeating Windows\\\".\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":2,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"window_type\":{\"type\":\"string\",\"enum\":[\"Fixed\",\"Operable\"],\"default\":\"Fixed\"},\"overhang_projection_factor\":{\"description\":\"Projection factor for overhangs, set to null for no overhang.  Overhang depth = overhang_projection_factor*height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":null},\"fin_projection_factor\":{\"description\":\"Projection factor for fins, set to null for no overhang. Projection factor for overhangs, set to null for no overhang.  Fin depth = fin_projection_factor*height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":null},\"texture\":{\"description\":\"Internal attribute representing how this window group is displayed. Applies only if window_definition_mode is \\\"Window to Wall Ratio\\\".\",\"type\":[\"string\",\"null\"],\"default\":null}},\"required\":[\"id\",\"name\",\"window_definition_mode\",\"wwr\",\"sill_height\",\"window_spacing\",\"height\",\"width\",\"window_type\",\"overhang_projection_factor\",\"fin_projection_factor\"]},\"DoorDefinition\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":[\"string\",\"null\"]},\"height\":{\"description\":\"Vertical height of each door. In drawing units.\",\"type\":\"number\",\"minimum\":0,\"exclusiveMinimum\":true,\"default\":6.67,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"width\":{\"description\":\"Horizontal width of each door. In drawing units.\",\"type\":\"number\",\"minimum\":0,\"exclusiveMinimum\":true,\"default\":3,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"door_type\":{\"type\":\"string\",\"enum\":[\"Door\",\"Glass Door\",\"Overhead Door\"],\"default\":\"Door\"}},\"required\":[\"id\",\"name\",\"height\",\"width\",\"door_type\"]},\"DaylightingControlDefinition\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":[\"string\",\"null\"]},\"illuminance_setpoint\":{\"description\":\"Setpoint for daylighting control.\",\"type\":\"number\",\"default\":300,\"si_units\":\"lux\",\"ip_units\":\"fc\"},\"height\":{\"description\":\"Vertical distance of sensor above floor.  In drawing units.\",\"type\":\"number\",\"default\":3,\"si_units\":\"m\",\"ip_units\":\"ft\"}},\"required\":[\"id\",\"name\",\"illuminance_setpoint\",\"height\"]},\"PitchedRoof\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":[\"string\",\"null\"]},\"pitched_roof_type\":{\"type\":\"string\",\"enum\":[\"Gable\",\"Hip\",\"Shed\"],\"default\":\"Gable\"},\"pitch\":{\"description\":\"Pitch of roof. A value of 6, for example, implies a 6 in 12 pitch (or 26.57 degrees).\",\"type\":\"number\",\"minimum\":0,\"default\":6},\"shed_direction\":{\"description\":\"Direction of shed roof, from low edge to high edge, in clockwise degrees from the positive y-axis when viewed from above.\",\"type\":[\"number\",\"null\"],\"default\":0,\"si_units\":\"deg\",\"ip_units\":\"deg\"},\"color\":{\"$ref\":\"#/definitions/HexColor\"}},\"required\":[\"id\",\"name\",\"pitched_roof_type\",\"pitch\",\"shed_direction\",\"color\"]},\"HexColor\":{\"type\":[\"string\",\"null\"],\"pattern\":\"^#[a-fA-F0-9]{6}$\"}}}\n\n/***/ }),\n/* 245 */,\n/* 246 */,\n/* 247 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(604)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(263),\n\t  /* template */\n\t  __webpack_require__(664),\n\t  /* scopeId */\n\t  \"data-v-14ece691\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 248 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(606)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(270),\n\t  /* template */\n\t  __webpack_require__(666),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 249 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(605)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(272),\n\t  /* template */\n\t  __webpack_require__(665),\n\t  /* scopeId */\n\t  \"data-v-20be75f3\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 250 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('switch',[_c('g',[_c('path',{attrs:{\"d\":\"M82.992 97.5h-49.23a3.853 3.853 0 0 1-3.852-3.852V23.101a3.853 3.853 0 0 1 3.852-3.851h49.23a3.853 3.853 0 0 1 3.852 3.851v70.548a3.853 3.853 0 0 1-3.852 3.851zm-45.379-7.703H79.14V26.952H37.613v62.845z\"}}),_c('path',{attrs:{\"d\":\"M25.834 80.751h-8.826a3.854 3.854 0 0 1-3.852-3.852V6.352A3.853 3.853 0 0 1 17.008 2.5h50.523a3.853 3.853 0 0 1 3.852 3.852v8.826H63.68v-4.975H20.859v62.845h4.975v7.703z\"}})])])])}}};\n\n/***/ }),\n/* 251 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"data-name\":\"Layer 1\",\"viewBox\":\"0 0 100 100\"}},[_c('title',[_v(\"Artboard 10\")]),_c('path',{attrs:{\"d\":\"M50 18a32 32 0 1 0 32 32 32 32 0 0 0-32-32zm4 49h-8V47h8zm0-26h-8v-8h8z\"}})])}}};\n\n/***/ }),\n/* 252 */,\n/* 253 */,\n/* 254 */,\n/* 255 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _portalVue = __webpack_require__(177);\n\t\n\tvar _Navigation = __webpack_require__(657);\n\t\n\tvar _Navigation2 = _interopRequireDefault(_Navigation);\n\t\n\tvar _Grid = __webpack_require__(648);\n\t\n\tvar _Grid2 = _interopRequireDefault(_Grid);\n\t\n\tvar _Canvas = __webpack_require__(641);\n\t\n\tvar _Canvas2 = _interopRequireDefault(_Canvas);\n\t\n\tvar _Toolbar = __webpack_require__(662);\n\t\n\tvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\t\n\tvar _ImageUpload = __webpack_require__(649);\n\t\n\tvar _ImageUpload2 = _interopRequireDefault(_ImageUpload);\n\t\n\tvar _ColorPickerModal = __webpack_require__(248);\n\t\n\tvar _ColorPickerModal2 = _interopRequireDefault(_ColorPickerModal);\n\t\n\tvar _Inspector = __webpack_require__(651);\n\t\n\tvar _Inspector2 = _interopRequireDefault(_Inspector);\n\t\n\tvar _Textures = __webpack_require__(661);\n\t\n\tvar _Textures2 = _interopRequireDefault(_Textures);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'app',\n\t  data: function data() {\n\t    return {\n\t      error: null,\n\t      success: null,\n\t      navigationExpanded: false\n\t    };\n\t  },\n\t  beforeCreate: function beforeCreate() {\n\t    this.$store.dispatch('models/initStory');\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    window.eventBus.$on('error', function (err) {\n\t      _this.error = err;\n\t      setTimeout(function () {\n\t        _this.error = null;\n\t      }, 5000);\n\t    });\n\t    window.eventBus.$on('success', function (msg) {\n\t      _this.success = msg;\n\t      setTimeout(function () {\n\t        _this.success = null;\n\t      }, 5000);\n\t    });\n\t    window.eventBus.$on('reload-grid', function () {\n\t      document.getElementById('svg-grid').dispatchEvent(new Event('reloadGrid'));\n\t    });\n\t\n\t    document.addEventListener('keydown', function (e) {\n\t      if (!_this.$store.timetravel) {\n\t        return;\n\t      }\n\t      if (e.keyCode === 90 && (e.ctrlKey || e.metaKey)) {\n\t        e.shiftKey ? _this.$store.timetravel.redo() : _this.$store.timetravel.undo();\n\t        e.preventDefault();\n\t      } else if (e.keyCode == 89 && (e.ctrlKey || e.metaKey)) {\n\t        _this.$store.timetravel.redo();\n\t        e.preventDefault();\n\t      }\n\t    });\n\t  },\n\t\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({ tool: function tool(state) {\n\t      return state.application.currentSelections.tool;\n\t    } })),\n\t  components: {\n\t    'grid-view': _Grid2.default,\n\t    'canvas-view': _Canvas2.default,\n\t    'inspector-view': _Inspector2.default,\n\t    navigation: _Navigation2.default,\n\t    toolbar: _Toolbar2.default,\n\t    ImageUpload: _ImageUpload2.default,\n\t    Textures: _Textures2.default,\n\t    PortalTarget: _portalVue.PortalTarget,\n\t    ColorPickerModal: _ColorPickerModal2.default\n\t  }\n\t};\n\n/***/ }),\n/* 256 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _Map = __webpack_require__(642);\n\t\n\tvar _Map2 = _interopRequireDefault(_Map);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    name: 'app',\n\t    data: function data() {\n\t        return {};\n\t    },\n\t\n\t    computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t        mapEnabled: function mapEnabled(state) {\n\t            return state.project.map.enabled;\n\t        },\n\t        mapVisible: function mapVisible(state) {\n\t            return state.project.map.visible;\n\t        },\n\t        northAxis: function northAxis(state) {\n\t            return state.project.north_axis;\n\t        }\n\t    })),\n\t    components: {\n\t        'map-view': _Map2.default\n\t    }\n\t};\n\n/***/ }),\n/* 257 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _Resize = __webpack_require__(181);\n\t\n\tvar _MapModal = __webpack_require__(654);\n\t\n\tvar _MapModal2 = _interopRequireDefault(_MapModal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar googleMaps = __webpack_require__(627)('AIzaSyDIja3lnhq63SxukBm9_mA-jn5R0Bj9RN8', ['places']);\n\tvar ol = __webpack_require__(628);\n\tvar d3 = __webpack_require__(78);\n\t\n\texports.default = {\n\t  name: 'map-view',\n\t  data: function data() {\n\t    return {\n\t      view: null,\n\t      map: null,\n\t      startResolution: null,\n\t      autocomplete: null,\n\t      mapModalVisible: window.api ? window.api.config.showMapDialogOnStart : true,\n\t      showGrid: false\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.showGrid = this.gridVisible;\n\t\n\t    this.initAutoComplete();\n\t    this.loadMap();\n\t    _Resize.ResizeEvents.$on('resize', this.updateMapView);\n\t    window.eventBus.$on('boundsResolved', this.clearStartResolution);\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    _Resize.ResizeEvents.$off('resize', this.updateMapView);\n\t    window.eventBus.$off('boundsResolved', this.clearStartResolution);\n\t  },\n\t\n\t\n\t  methods: {\n\t    clearStartResolution: function clearStartResolution() {\n\t      this.startResolution = null;\n\t      this.updateMapView();\n\t    },\n\t    initAutoComplete: function initAutoComplete() {\n\t      var _this = this;\n\t\n\t      googleMaps().then(function (maps) {\n\t        var autocomplete = new maps.places.Autocomplete(_this.$refs.addressSearch);\n\t\n\t        autocomplete.addListener('place_changed', function () {\n\t          var place = autocomplete.getPlace();\n\t          if (place.geometry) {\n\t            _this.latitude = place.geometry.location.lat();\n\t            _this.longitude = place.geometry.location.lng();\n\t            _this.updateMapView();\n\t          }\n\t        });\n\t      });\n\t    },\n\t    loadMap: function loadMap() {\n\t      var _this2 = this;\n\t\n\t      window.ol = ol;\n\t      this.$refs.map.innerHTML = '';\n\t      this.view = new ol.View();\n\t      this.map = new ol.Map({\n\t        layers: [new ol.layer.Tile({ source: new ol.source.OSM() })],\n\t        target: 'map',\n\t        view: this.view\n\t      });\n\t      this.view.on('propertychange', function (e) {\n\t        if (e.key === 'rotation') {\n\t          _this2.rotation = _this2.view.getRotation();\n\t        }\n\t      });\n\t\n\t      this.updateMapView();\n\t\n\t      _.defer(function () {\n\t        return _this2.updateMapView();\n\t      });\n\t    },\n\t    updateMapView: function updateMapView() {\n\t      console.log('updateMapView');\n\t      this.map.updateSize();\n\t\n\t      var mapCenter = ol.proj.fromLonLat([this.longitude, this.latitude]);\n\t\n\t      var resolution = this.unAdjustedResolution;\n\t      var deltaY = this.unAdjustedDelta.y;\n\t      var deltaX = this.unAdjustedDelta.x;\n\t\n\t      if (this.view.getCenter()) {\n\t        this.startResolution = this.startResolution || ol.proj.getPointResolution(this.view.getProjection(), this.view.getResolution(), this.view.getCenter());\n\t        var resolutionAdjustment = 1 / ol.proj.getPointResolution(this.view.getProjection(), 1, this.view.getCenter());\n\t\n\t        resolution *= resolutionAdjustment;\n\t        deltaY *= resolutionAdjustment;\n\t        deltaX *= resolutionAdjustment;\n\t      }\n\t\n\t      mapCenter[0] += deltaY;\n\t      mapCenter[1] += deltaX;\n\t\n\t      this.view.setResolution(resolution);\n\t      this.view.setCenter(mapCenter);\n\t      this.view.setRotation(this.rotation);\n\t    },\n\t    finishSetup: function finishSetup() {\n\t      var center = ol.proj.transform(this.view.getCenter(), 'EPSG:3857', 'EPSG:4326');\n\t      this.longitude = center[0];\n\t      this.latitude = center[1];\n\t\n\t      var resolution = ol.proj.getPointResolution(this.view.getProjection(), this.view.getResolution(), this.view.getCenter());\n\t      var scale = this.startResolution / resolution;\n\t      console.log('scaling to ' + this.startResolution + ' / ' + resolution + ' == ' + scale);\n\t      window.eventBus.$emit('scaleTo', scale);\n\t\n\t      this.rotation = this.view.getRotation();\n\t\n\t      this.$store.dispatch('project/setMapInitialized', { initialized: true });\n\t\n\t      this.tool = 'Rectangle';\n\t\n\t      d3.select('#reticle').remove();\n\t\n\t      this.gridVisible = this.showGrid;\n\t    },\n\t    showReticle: function showReticle() {\n\t      if (this.tool !== 'Map') {\n\t        return;\n\t      }\n\t\n\t      this.gridVisible = false;\n\t\n\t      var size = 100;\n\t      var x = this.$refs.map.clientWidth / 2;\n\t      var y = this.$refs.map.clientHeight / 2;\n\t\n\t      d3.select('#reticle').selectAll('#reticle path').data([[{ x: x, y: y - size }, { x: x, y: y + size }], [{ x: x - size, y: y }, { x: x + size, y: y }]]).enter().append('path').attr('stroke-width', '1').attr('stroke', 'gray').attr('d', d3.line().x(function (d) {\n\t        return d.x;\n\t      }).y(function (d) {\n\t        return d.y;\n\t      }));\n\t    }\n\t  },\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    projectView: function projectView(state) {\n\t      return state.project.view;\n\t    },\n\t    min_x: function min_x(state) {\n\t      return state.project.view.min_x;\n\t    },\n\t    max_x: function max_x(state) {\n\t      return state.project.view.max_x;\n\t    },\n\t    min_y: function min_y(state) {\n\t      return state.project.view.min_y;\n\t    },\n\t    max_y: function max_y(state) {\n\t      return state.project.view.max_y;\n\t    },\n\t    units: function units(state) {\n\t      return state.project.config.units;\n\t    },\n\t    mapInitialized: function mapInitialized(state) {\n\t      return state.project.map.initialized;\n\t    }\n\t  }), {\n\t    mPerFt: function mPerFt() {\n\t      return ol.proj.METERS_PER_UNIT['us-ft'];\n\t    },\n\t    unAdjustedResolutionMeters: function unAdjustedResolutionMeters() {\n\t      return (this.max_x - this.min_x) / this.$refs.map.clientWidth;\n\t    },\n\t    unAdjustedResolution: function unAdjustedResolution() {\n\t      return this.units === 'ip' ? this.mPerFt * this.unAdjustedResolutionMeters : this.unAdjustedResolutionMeters;\n\t    },\n\t    gridCenterMeters: function gridCenterMeters() {\n\t      return {\n\t        x: (this.min_x + this.max_x) / 2,\n\t        y: (this.min_y + this.max_y) / 2\n\t      };\n\t    },\n\t    gridCenter: function gridCenter() {\n\t      var _this3 = this;\n\t\n\t      return this.units === 'ip' ? _.mapValues(this.gridCenterMeters, function (v) {\n\t        return v * _this3.mPerFt;\n\t      }) : this.gridCenterMeters;\n\t    },\n\t    unAdjustedDelta: function unAdjustedDelta() {\n\t      var deltaY = this.gridCenter.x * Math.cos(this.rotation) - this.gridCenter.y * Math.sin(this.rotation);\n\t      var deltaX = this.gridCenter.y * Math.cos(this.rotation) + this.gridCenter.x * Math.sin(this.rotation);\n\t      return { x: deltaX, y: deltaY };\n\t    },\n\t\n\t\n\t    gridVisible: {\n\t      get: function get() {\n\t        return this.$store.state.project.grid.visible;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setGridVisible', { visible: val });\n\t      }\n\t    },\n\t    tool: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.tool;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('application/setCurrentTool', { tool: val });\n\t      }\n\t    },\n\t    latitude: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.latitude;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setMapLatitude', { latitude: val });\n\t      }\n\t    },\n\t    longitude: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.longitude;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setMapLongitude', { longitude: val });\n\t      }\n\t    },\n\t    rotation: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.rotation;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setMapRotation', { rotation: val });\n\t      }\n\t    }\n\t  }),\n\t  watch: {\n\t    units: function units() {\n\t      this.updateMapView();\n\t    },\n\t\n\t    projectView: {\n\t      handler: function handler() {\n\t        this.updateMapView();\n\t      },\n\t\n\t      deep: true\n\t    }\n\t  },\n\t  components: {\n\t    MapModal: _MapModal2.default\n\t  }\n\t};\n\n/***/ }),\n/* 258 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _libconfig = __webpack_require__(95);\n\t\n\tvar _libconfig2 = _interopRequireDefault(_libconfig);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _EditBar = __webpack_require__(644);\n\t\n\tvar _EditBar2 = _interopRequireDefault(_EditBar);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)({\n\t    componentInstance: 'application/currentComponentInstance',\n\t    currentStory: 'application/currentStory',\n\t    currentComponent: 'application/currentComponent'\n\t  }), {\n\t    instanceType: function instanceType() {\n\t      return this.componentInstance && this.componentInstance.type;\n\t    },\n\t    columns: function columns() {\n\t      if (!this.componentInstance) {\n\t        return [];\n\t      }\n\t      return _libconfig2.default[this.instanceType].columns;\n\t    },\n\t    visibleColumns: function visibleColumns() {\n\t      return _.reject(this.columns, 'private');\n\t    },\n\t    showInstanceEditor: function showInstanceEditor() {\n\t      return this.instanceType && this.currentComponent.type.replace(/_definitions$/, 's') === this.instanceType;\n\t    }\n\t  }),\n\t  methods: {\n\t    destroyComponent: function destroyComponent() {\n\t      if (this.instanceType === 'windows') {\n\t        this.$store.dispatch('models/destroyWindow', { story_id: this.currentStory.id, object: this.componentInstance });\n\t      } else if (this.instanceType === 'daylighting_controls') {\n\t        this.$store.dispatch('models/destroyDaylightingControl', { story_id: this.currentStory.id, object: this.componentInstance });\n\t      } else if (this.instanceType === 'doors') {\n\t        this.$store.dispatch('models/destroyDoor', { story_id: this.currentStory.id, object: this.componentInstance });\n\t      } else {\n\t        throw new Error('Unrecognized component type ' + this.instanceType);\n\t      }\n\t    },\n\t    modifyComponentInstance: function modifyComponentInstance(id, key, value) {\n\t      if (this.instanceType === 'windows') {\n\t        this.$store.dispatch('models/modifyWindow', { id: id, key: key, value: value, story_id: this.currentStory.id });\n\t      } else if (this.instanceType === 'daylighting_controls') {\n\t        this.$store.dispatch('models/modifyDaylightingControl', { id: id, key: key, value: value, story_id: this.currentStory.id });\n\t      } else if (this.instanceType === 'doors') {\n\t        this.$store.dispatch('models/modifyDoor', { id: id, key: key, value: value, story_id: this.currentStory.id });\n\t      } else {\n\t        throw new Error('unrecognized component mode \"' + this.mode + '\"');\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    EditBar: _EditBar2.default\n\t  }\n\t};\n\n/***/ }),\n/* 259 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _GenericInput = __webpack_require__(247);\n\t\n\tvar _GenericInput2 = _interopRequireDefault(_GenericInput);\n\t\n\tvar _delete = __webpack_require__(178);\n\t\n\tvar _delete2 = _interopRequireDefault(_delete);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: ['row', 'columns', 'updateRow', 'destroy'],\n\t  components: {\n\t    GenericInput: _GenericInput2.default,\n\t    Delete: _delete2.default\n\t  }\n\t};\n\n/***/ }),\n/* 260 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _EditableTable = __webpack_require__(646);\n\t\n\tvar _EditableTable2 = _interopRequireDefault(_EditableTable);\n\t\n\tvar _LibrarySelect = __webpack_require__(653);\n\t\n\tvar _LibrarySelect2 = _interopRequireDefault(_LibrarySelect);\n\t\n\tvar _PrettySelect = __webpack_require__(121);\n\t\n\tvar _PrettySelect2 = _interopRequireDefault(_PrettySelect);\n\t\n\tvar _double_arrows = __webpack_require__(699);\n\t\n\tvar _double_arrows2 = _interopRequireDefault(_double_arrows);\n\t\n\tvar _add_new = __webpack_require__(691);\n\t\n\tvar _add_new2 = _interopRequireDefault(_add_new);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'EditableSelectList',\n\t  props: ['columns', 'rows', 'addRow', 'editRow', 'destroyRow', 'selectRow', 'selectedRowId', 'objectTypes', 'selectedObjectType', 'searchAvailable', 'compact', 'duplicateRow'],\n\t  data: function data() {\n\t    return {\n\t      search: ''\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    visibleColumns: function visibleColumns() {\n\t      return _.reject(this.columns, 'private');\n\t    },\n\t    searchedRows: function searchedRows() {\n\t      var _this = this;\n\t\n\t      return this.rows.filter(function (row) {\n\t        return _.chain(row).omit(['color']).values().compact().some(function (val) {\n\t          return val.toLowerCase && val.toLowerCase().includes(_this.search.toLowerCase());\n\t        }).value();\n\t      });\n\t    }\n\t  },\n\t  methods: {\n\t    toggleCompact: function toggleCompact() {\n\t      this.$emit('toggleCompact', !this.compact);\n\t    }\n\t  },\n\t  watch: {\n\t    rows: function rows(newRows, oldRows) {\n\t      if (newRows !== oldRows) {\n\t        return;\n\t      }\n\t      if (newRows.length > oldRows.length) {\n\t        this.selectRow(_.maxBy(this.rows, function (r) {\n\t          return +r.id;\n\t        }));\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    EditableTable: _EditableTable2.default,\n\t    LibrarySelect: _LibrarySelect2.default,\n\t    PrettySelect: _PrettySelect2.default,\n\t    DoubleArrows: _double_arrows2.default,\n\t    AddNew: _add_new2.default\n\t  }\n\t};\n\n/***/ }),\n/* 261 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _vueVirtualScroller = __webpack_require__(727);\n\t\n\t__webpack_require__(626);\n\t\n\tvar _delete = __webpack_require__(178);\n\t\n\tvar _delete2 = _interopRequireDefault(_delete);\n\t\n\tvar _copy_icon = __webpack_require__(250);\n\t\n\tvar _copy_icon2 = _interopRequireDefault(_copy_icon);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: \"EditableTable\",\n\t  props: [\"columns\", \"rows\", \"deleteRow\", \"updateRow\", \"selectRow\", \"selectedItemId\", \"duplicateRow\"],\n\t  data: function data() {\n\t    return {\n\t      sortKey: function sortKey(r) {\n\t        return +r.id;\n\t      },\n\t      sortDescending: false,\n\t      wrapperScrollLeft: 0\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    visibleColumns: function visibleColumns() {\n\t      return _lodash2.default.reject(this.columns, \"private\");\n\t    },\n\t    sortedRows: function sortedRows() {\n\t      var sRows = _lodash2.default.sortBy(this.rows, this.sortKey);\n\t      if (this.sortDescending) {\n\t        sRows.reverse();\n\t      }\n\t      return sRows;\n\t    }\n\t  },\n\t  methods: {\n\t    sortBy: function sortBy(colName) {\n\t      if (this.sortKey === colName) {\n\t        if (this.sortDescending) {\n\t          this.sortDescending = false;\n\t        } else {\n\t          this.sortKey = undefined;\n\t        }\n\t      } else {\n\t        this.sortKey = colName;\n\t        this.sortDescending = true;\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    Delete: _delete2.default,\n\t    Copy: _copy_icon2.default,\n\t    RecycleScroller: _vueVirtualScroller.RecycleScroller\n\t  }\n\t};\n\n/***/ }),\n/* 262 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  props: ['title'],\n\t  data: function data() {\n\t    return {\n\t      expanded: false\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    caret: function caret() {\n\t      return this.expanded ? '\\u25BC' : '\\u25BA';\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 263 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray2 = __webpack_require__(53);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _TextureSelect = __webpack_require__(660);\n\t\n\tvar _TextureSelect2 = _interopRequireDefault(_TextureSelect);\n\t\n\tvar _ColorPickerModal = __webpack_require__(248);\n\t\n\tvar _ColorPickerModal2 = _interopRequireDefault(_ColorPickerModal);\n\t\n\tvar _color = __webpack_require__(312);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'GenericInput',\n\t  props: ['col', 'row', 'onChange'],\n\t  data: function data() {\n\t    return {\n\t      showColorModal: false\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    blurOnEnter: function blurOnEnter(evt) {\n\t      if (evt.keyCode === 13) {\n\t        this.$el.blur();\n\t      }\n\t      if (evt.keyCode == 27) {\n\t        this.$el.value = this.row[this.col.name];\n\t        this.$el.blur();\n\t      }\n\t    },\n\t    openColorModal: function openColorModal() {\n\t      colorPickerModalService.openModal(this.row[this.col.name], this.onChange);\n\t    }\n\t  },\n\t  computed: {\n\t    selectData: function selectData() {\n\t      return _lodash2.default.toPairs(this.col.select_data(this.row, this.$store.state)).map(function (_ref) {\n\t        var _ref2 = (0, _slicedToArray3.default)(_ref, 2),\n\t            k = _ref2[0],\n\t            v = _ref2[1];\n\t\n\t        return { val: v, display: k };\n\t      });\n\t    },\n\t    rootState: function rootState() {\n\t      return this.$store.state;\n\t    },\n\t    disabled: function disabled() {\n\t      if (!this.col.enabled) {\n\t        return false;\n\t      }\n\t      return !this.col.enabled(this.row);\n\t    },\n\t    colorStyles: function colorStyles() {\n\t      var value = this.row[this.col.name];\n\t\n\t      if (!value || !value.slice) {\n\t        return {\n\t          color: '#fff',\n\t          background: '#000'\n\t        };\n\t      }\n\t\n\t      var r = parseInt(value.slice(1, 3), 16),\n\t          g = parseInt(value.slice(3, 5), 16),\n\t          b = parseInt(value.slice(5, 7), 16);\n\t      return {\n\t        color: (0, _color.brightness)(r, g, b) < 123 ? '#fff' : '#000',\n\t        background: value\n\t      };\n\t    },\n\t    value: function value() {\n\t      try {\n\t        return this.col.get(this.row, this.rootState);\n\t      } catch (_) {\n\t        return this.row[this.col.name];\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    TextureSelect: _TextureSelect2.default,\n\t    ColorPickerModal: _ColorPickerModal2.default\n\t  }\n\t};\n\n/***/ }),\n/* 264 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _utilities = __webpack_require__(126);\n\t\n\tvar _d3AwareThrottle = __webpack_require__(313);\n\t\n\tvar _d3AwareThrottle2 = _interopRequireDefault(_d3AwareThrottle);\n\t\n\tvar _methods = __webpack_require__(283);\n\t\n\tvar _methods2 = _interopRequireDefault(_methods);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(46);\n\t\n\tvar _helpers4 = _interopRequireDefault(_helpers3);\n\t\n\tvar _helpers5 = __webpack_require__(80);\n\t\n\tvar _helpers6 = _interopRequireDefault(_helpers5);\n\t\n\tvar _Resize = __webpack_require__(181);\n\t\n\tvar _drawing = __webpack_require__(282);\n\t\n\tvar _drawing2 = _interopRequireDefault(_drawing);\n\t\n\tvar _snapping = __webpack_require__(122);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar d3 = __webpack_require__(78);\n\t\n\texports.default = {\n\t  name: 'grid',\n\t  data: function data() {\n\t    var _this = this;\n\t\n\t    var xScale = function xScale(v) {\n\t      return _this.rwuToGrid(v, 'x');\n\t    },\n\t        yScale = function yScale(v) {\n\t      return _this.rwuToGrid(v, 'y');\n\t    };\n\t\n\t    return (0, _extends3.default)({\n\t      points: [],\n\t      axis: {\n\t        x: null,\n\t        y: null\n\t      },\n\t      axis_generator: {\n\t        x: null,\n\t        y: null\n\t      },\n\t      reduceTicks: false,\n\t      componentFacingSelection: null,\n\t      transform: { k: 1, x: 0, y: 0 },\n\t      transformAtLastRender: d3.zoomIdentity,\n\t      lastMousePosition: null,\n\t      handleMouseMove: null }, (0, _drawing2.default)({\n\t      xScale: xScale,\n\t      yScale: yScale,\n\t      selectImage: function selectImage(img) {\n\t        _this.currentImage = img;\n\t      },\n\t      updateImage: function updateImage(data) {\n\t        return window.application.$store.dispatch('models/updateImageWithData', data);\n\t      }\n\t    }), {\n\t      crosshatchModifiers: {\n\t        '-highlight': 'green',\n\t        '-selected': 'green',\n\t        '-facing-selection': 'blue',\n\t        '': '#222'\n\t      }\n\t    });\n\t  },\n\t  mounted: function mounted() {\n\t    this.handleMouseMove = (0, _d3AwareThrottle2.default)(this.highlightSnapTarget, 100);\n\t\n\t    this.renderGrid();\n\t\n\t    this.renderGrid = (0, _utilities.debounce)(this.renderGrid, 5);\n\t\n\t    this.$refs.grid.addEventListener('reloadGrid', this.reloadGridAndScales);\n\t\n\t    window.addEventListener('keyup', this.escapeAction);\n\t    window.addEventListener('keydown', this.handleKeyDown);\n\t    window.addEventListener('resize', this.reloadGridAndScales);\n\t\n\t    _Resize.ResizeEvents.$on('resize', this.reloadGridAndScales);\n\t\n\t    window.eventBus.$on('zoomToFit', this.zoomToFit);\n\t    window.eventBus.$on('scaleTo', this.scaleTo);\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    this.$refs.grid.removeEventListener('reloadGrid', this.reloadGridAndScales);\n\t\n\t    window.removeEventListener('keyup', this.escapeAction);\n\t    window.removeEventListener('keydown', this.handleKeyDown);\n\t    window.removeEventListener('resize', this.reloadGridAndScales);\n\t\n\t    _Resize.ResizeEvents.$off('resize', this.reloadGridAndScales);\n\t\n\t    window.eventBus.$off('zoomToFit', this.zoomToFit);\n\t    window.eventBus.$off('scaleTo', this.scaleTo);\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    currentMode: function currentMode(state) {\n\t      return state.application.currentSelections.mode;\n\t    },\n\t    modeTab: function modeTab(state) {\n\t      return state.application.currentSelections.modeTab;\n\t    },\n\t    currentTool: function currentTool(state) {\n\t      return state.application.currentSelections.tool;\n\t    },\n\t    snapMode: function snapMode(state) {\n\t      return state.application.currentSelections.snapMode;\n\t    },\n\t    previousStoryVisible: function previousStoryVisible(state) {\n\t      return state.project.previous_story.visible;\n\t    },\n\t    gridVisible: function gridVisible(state) {\n\t      return state.project.grid.visible;\n\t    },\n\t    units: function units(state) {\n\t      return state.project.config.units;\n\t    },\n\t    spacing: function spacing(state) {\n\t      return state.project.grid.spacing;\n\t    },\n\t\n\t    scaleX: function scaleX(state) {\n\t      return state.application.scale.x;\n\t    },\n\t    scaleY: function scaleY(state) {\n\t      return state.application.scale.y;\n\t    },\n\t    windowDefs: function windowDefs(state) {\n\t      return state.models.library.window_definitions;\n\t    },\n\t    doorDefs: function doorDefs(state) {\n\t      return state.models.library.door_definitions;\n\t    },\n\t    windowWidths: function windowWidths(state) {\n\t      return _.sumBy(state.models.library.window_definitions, 'width');\n\t    },\n\t    allVertices: function allVertices(state) {\n\t      return _.flatMap(state.geometry, 'vertices');\n\t    }\n\t  }), (0, _vuex.mapGetters)({\n\t    currentStory: 'application/currentStory',\n\t    currentStoryGeometry: 'application/currentStoryGeometry',\n\t    denormalizedGeometry: 'application/currentStoryDenormalizedGeom',\n\t    currentSpace: 'application/currentSpace',\n\t    currentShading: 'application/currentShading',\n\t    currentComponent: 'application/currentComponent',\n\t    currentComponentInstance: 'application/currentComponentInstance',\n\t    currentSpaceProperty: 'application/currentSpaceProperty'\n\t  }), {\n\t    spacePropertyKey: function spacePropertyKey() {\n\t      switch (this.currentSpaceProperty.type) {\n\t        case 'building_units':\n\t          return 'building_unit_id';\n\t        case 'building_types':\n\t          return 'building_type_id';\n\t        case 'thermal_zones':\n\t          return 'thermal_zone_id';\n\t        case 'space_types':\n\t          return 'space_type_id';\n\t        case 'pitched_roofs':\n\t          return 'pitched_roof_id';\n\t        case 'construction_sets':\n\t          return 'construction_set_id';\n\t        default:\n\t          throw new Error('unrecognized space property type ' + this.currentSpaceProperty.type);\n\t      }\n\t    },\n\t    windowAndDoorDefs: function windowAndDoorDefs() {\n\t      return [].concat((0, _toConsumableArray3.default)(this.windowDefs), (0, _toConsumableArray3.default)(this.doorDefs.map(function (d) {\n\t        return (0, _extends3.default)({}, d, {\n\t          window_definition_mode: 'Single Window'\n\t        });\n\t      })));\n\t    },\n\t\n\t    currentImage: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentImage'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id });\n\t      }\n\t    },\n\t    currentComponentType: function currentComponentType() {\n\t      return this.currentComponent.type;\n\t    },\n\t    currentComponentDefinition: function currentComponentDefinition() {\n\t      return this.currentComponent.definition;\n\t    },\n\t\n\t    currentSubSelection: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentSubSelection'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id });\n\t      }\n\t    },\n\t    currentComponentInstanceId: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.modeTab === 'components' && this.$store.state.application.currentSelections.component_instance_id;\n\t      },\n\t      set: function set(id) {\n\t        this.$store.dispatch('application/setCurrentComponentInstanceId', { id: id });\n\t      }\n\t    },\n\t\n\t    min_x: {\n\t      get: function get() {\n\t        return this.$store.state.project.view.min_x;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setViewMinX', { min_x: val });\n\t      }\n\t    },\n\t    min_y: {\n\t      get: function get() {\n\t        return this.$store.state.project.view.min_y;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setViewMinY', { min_y: val });\n\t      }\n\t    },\n\t    max_x: {\n\t      get: function get() {\n\t        return this.$store.state.project.view.max_x;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setViewMaxX', { max_x: val });\n\t      }\n\t    },\n\t    max_y: {\n\t      get: function get() {\n\t        return this.$store.state.project.view.max_y;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setViewMaxY', { max_y: val });\n\t      }\n\t    },\n\t\n\t    dimensions: {\n\t      get: function get() {\n\t        return {\n\t          min_x: this.$store.state.project.view.min_x,\n\t          max_x: this.$store.state.project.view.max_x,\n\t          min_y: this.$store.state.project.view.min_y,\n\t          max_y: this.$store.state.project.view.max_y\n\t        };\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setDimensions', val);\n\t      }\n\t    },\n\t    previousStory: function previousStory() {\n\t      var _this2 = this;\n\t\n\t      var currentStoryNumber = this.$store.state.models.stories.findIndex(function (s) {\n\t        return s === _this2.currentStory;\n\t      });\n\t      if (currentStoryNumber === 0) {\n\t        return null;\n\t      }\n\t      return this.$store.state.models.stories[currentStoryNumber - 1];\n\t    },\n\t    previousStoryGeometry: function previousStoryGeometry() {\n\t      var _this3 = this;\n\t\n\t      if (!this.previousStory) {\n\t        return null;\n\t      }\n\t      return this.$store.state.geometry.find(function (g) {\n\t        return g.id === _this3.previousStory.geometry_id;\n\t      });\n\t    },\n\t    previousStoryPolygons: function previousStoryPolygons() {\n\t      if (this.previousStoryVisible && this.previousStoryGeometry) {\n\t        return this.polygonsFromGeometry(this.previousStoryGeometry, { previous_story: true });\n\t      }\n\t      return [];\n\t    },\n\t    images: function images() {\n\t      var _this4 = this;\n\t\n\t      return this.currentStory.images.map(function (img) {\n\t        return (0, _extends3.default)({}, img, {\n\t          current: _this4.currentTool === 'Image' && _this4.currentImage && _this4.currentImage.id === img.id,\n\t          clickable: _this4.currentTool === 'Image' && (!_this4.currentImage || _this4.currentImage.id !== img.id)\n\t        });\n\t      });\n\t    },\n\t    polygons: function polygons() {\n\t      var currentStoryPolygons = this.polygonsFromGeometry(this.currentStoryGeometry);\n\t      return this.previousStoryPolygons ? this.previousStoryPolygons.concat(currentStoryPolygons) : currentStoryPolygons;\n\t    },\n\t    walls: function walls() {\n\t      var edgesLookup = _.keyBy(this.currentStoryGeometry.edges, 'id');\n\t      var vertsLookup = _.keyBy(this.currentStoryGeometry.vertices, 'id');\n\t\n\t      return _.chain(this.currentStoryGeometry.faces).flatMap(function (fc) {\n\t        return _.map(fc.edgeRefs, 'edge_id');\n\t      }).sortBy(_.identity).groupBy(_.identity).mapValues('length').map(function (numOccurences, edgeId) {\n\t        var edge = edgesLookup[edgeId];\n\t        return {\n\t          id: edgeId,\n\t          start: vertsLookup[edge.v1],\n\t          end: vertsLookup[edge.v2],\n\t          interior: numOccurences > 1\n\t        };\n\t      }).value();\n\t    },\n\t    daylightingControlLocs: function daylightingControlLocs() {\n\t      var _this5 = this;\n\t\n\t      return _.flatten(this.currentStory.spaces.map(function (space) {\n\t        return space.daylighting_controls.map(function (dc) {\n\t          return (0, _extends3.default)({}, dc, _helpers2.default.vertexForId(dc.vertex_id, _this5.currentStoryGeometry), {\n\t            id: dc.id,\n\t            type: 'daylighting_controls',\n\t            face_id: space.face_id\n\t          });\n\t        });\n\t      }));\n\t    },\n\t    spaceFaces: function spaceFaces() {\n\t      var _this6 = this;\n\t\n\t      return this.denormalizedGeometry.faces.filter(function (f) {\n\t        return _.find(_this6.currentStory.spaces, { face_id: f.id });\n\t      });\n\t    },\n\t    spaceEdges: function spaceEdges() {\n\t      return _.flatMap(this.spaceFaces, 'edges');\n\t    },\n\t    visibleVerts: function visibleVerts() {\n\t      var _this7 = this;\n\t\n\t      return this.allVertices.filter(function (d) {\n\t        return _this7.min_x <= d.x && d.x <= _this7.max_x && _this7.min_y <= d.y && d.y <= _this7.max_y;\n\t      });\n\t    },\n\t    redraw: function redraw() {\n\t      var currentMode = this.currentMode,\n\t          polygons = this.polygons,\n\t          images = this.images,\n\t          windowDefs = this.windowDefs,\n\t          doorDefs = this.doorDefs,\n\t          currentSpace = this.currentSpace,\n\t          currentShading = this.currentShading;\n\t\n\t      return {\n\t        currentMode: currentMode,\n\t        polygons: polygons,\n\t        images: images,\n\t        windowDefs: windowDefs,\n\t        doorDefs: doorDefs,\n\t        currentSpace: currentSpace,\n\t        currentShading: currentShading\n\t      };\n\t    }\n\t  }),\n\t  watch: {\n\t    gridVisible: function gridVisible() {\n\t      this.showOrHideAxes();\n\t    },\n\t    spacing: function spacing() {\n\t      this.updateGrid();\n\t    },\n\t    units: function units() {\n\t      this.reloadGridAndScales();\n\t    },\n\t\n\t    redraw: {\n\t      handler: function handler() {\n\t        this.draw();\n\t      },\n\t\n\t      deep: true\n\t    },\n\t    currentTool: function currentTool() {\n\t      this.points = [];\n\t      this.draw();\n\t      this.clearHighlights();\n\t      if (this.currentTool === 'Image' && this.currentStory.images.length) {\n\t        if (!this.currentImage || !_.includes(_.map(this.currentStory.images, 'id'), this.currentImage.id)) {\n\t          this.currentImage = this.currentStory.images[0];\n\t        }\n\t      } else if (!_.includes(_.map(this.currentStory.spaces, 'id'), this.currentSubSelection.id)) {\n\t        this.currentSubSelection = this.currentStory.spaces[0];\n\t      }\n\t    },\n\t    currentSpace: function currentSpace() {\n\t      this.points = [];\n\t    },\n\t    currentShading: function currentShading() {\n\t      this.points = [];\n\t    },\n\t    transform: function transform(newTransform, lastTransform) {\n\t      if (newTransform.k < 0.5) {\n\t        d3.select('#svg-grid').selectAll('.polygon-text').style('display', 'none');\n\t      } else {\n\t        d3.select('#svg-grid').selectAll('.polygon-text').style('display', 'initial');\n\t      }\n\t    }\n\t  },\n\t  methods: (0, _extends3.default)({}, _methods2.default, {\n\t    windowCenterLocs: function windowCenterLocs(cursor) {\n\t      var _this8 = this;\n\t\n\t      return this.currentStory.windows.map(function (w) {\n\t        return { w: w, e: _.find(_this8.denormalizedGeometry.edges, { id: w.edge_id }) };\n\t      }).map(function (_ref) {\n\t        var w = _ref.w,\n\t            e = _ref.e;\n\t\n\t        var wind = _this8.denormalizeWindowOrDoor(e, w);\n\t\n\t        var _pointDistanceToSegme = (0, _helpers.pointDistanceToSegment)(cursor, wind),\n\t            proj = _pointDistanceToSegme.proj;\n\t\n\t        return (0, _extends3.default)({}, wind, {\n\t          id: w.id,\n\t          type: 'windows'\n\t        }, proj);\n\t      });\n\t    },\n\t    doorCenterLocs: function doorCenterLocs(cursor) {\n\t      var _this9 = this;\n\t\n\t      return this.currentStory.doors.map(function (w) {\n\t        return { w: w, e: _.find(_this9.denormalizedGeometry.edges, { id: w.edge_id }) };\n\t      }).map(function (_ref2) {\n\t        var w = _ref2.w,\n\t            e = _ref2.e;\n\t\n\t        var wind = _this9.denormalizeWindowOrDoor(e, w);\n\t\n\t        var _pointDistanceToSegme2 = (0, _helpers.pointDistanceToSegment)(cursor, wind),\n\t            proj = _pointDistanceToSegme2.proj;\n\t\n\t        return (0, _extends3.default)({}, wind, {\n\t          id: w.id,\n\t          type: 'doors'\n\t        }, proj);\n\t      });\n\t    },\n\t    currentComponentTypeLocs: function currentComponentTypeLocs(cursor) {\n\t      if (this.currentComponentType === 'window_definitions') {\n\t        return this.windowCenterLocs(cursor);\n\t      } else if (this.currentComponentType === 'daylighting_control_definitions') {\n\t        return this.daylightingControlLocs;\n\t      } else if (this.currentComponentType === 'door_definitions') {\n\t        return this.doorCenterLocs(cursor);\n\t      } else {\n\t        throw new Error('unrecognized componentType: ' + this.currentComponentType);\n\t      }\n\t    },\n\t    denormalizeWindowOrDoor: function denormalizeWindowOrDoor(edge, _ref3) {\n\t      var edge_id = _ref3.edge_id,\n\t          alpha = _ref3.alpha,\n\t          window_definition_id = _ref3.window_definition_id,\n\t          door_definition_id = _ref3.door_definition_id;\n\t\n\t      var defn = _.find(this.windowAndDoorDefs, { id: window_definition_id || door_definition_id }),\n\t          center = (0, _snapping.windowLocation)(edge, { alpha: alpha });\n\t      return (0, _extends3.default)({}, (0, _snapping.expandWindowAlongEdge)(edge, center, defn), {\n\t        window_definition_mode: defn.window_definition_mode,\n\t        windowOrDoor: defn.window_definition_mode ? 'window' : 'door',\n\t        width: defn.width,\n\t        spacing: defn.window_spacing,\n\t        texture: defn.texture\n\t      });\n\t    },\n\t    windowsOnFace: function windowsOnFace(face) {\n\t      var _this10 = this;\n\t\n\t      return _.flatMap(face.edges, function (e) {\n\t        return _.filter(_this10.currentStory.windows, { edge_id: e.id }).map(function (w) {\n\t          return (0, _extends3.default)({}, _this10.denormalizeWindowOrDoor(e, w), {\n\t            selected: w.id === _this10.currentComponentInstanceId,\n\t            facingSelection: w.id === _this10.componentFacingSelection\n\t          });\n\t        });\n\t      });\n\t    },\n\t    doorsOnFace: function doorsOnFace(face) {\n\t      var _this11 = this;\n\t\n\t      return _.flatMap(face.edges, function (e) {\n\t        return _.filter(_this11.currentStory.doors, { edge_id: e.id }).map(function (d) {\n\t          return (0, _extends3.default)({}, _this11.denormalizeWindowOrDoor(e, d), {\n\t            windowOrDoor: 'door',\n\t            selected: d.id === _this11.currentComponentInstanceId,\n\t            facingSelection: d.id === _this11.componentFacingSelection\n\t          });\n\t        });\n\t      });\n\t    },\n\t    polygonsFromGeometry: function polygonsFromGeometry(geometry) {\n\t      var _this12 = this;\n\t\n\t      var extraPolygonAttrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t      var geom = _helpers2.default.denormalize(geometry);\n\t      var polygons = geom.faces.map(function (face) {\n\t        var model = _helpers4.default.modelForFace(_this12.$store.state.models, face.id);\n\t\n\t        var points = face.vertices.slice(0, -1);\n\t        var polygon = (0, _extends3.default)({\n\t          face_id: face.id,\n\t          name: model.name,\n\t          modelType: model.type,\n\t          color: model.color,\n\t          points: points,\n\t          labelPosition: _this12.polygonLabelPosition(points),\n\t          windows: _this12.windowsOnFace(face),\n\t          doors: _this12.doorsOnFace(face),\n\t          current: _this12.currentTool !== 'Apply Property' && _this12.currentSpace && face.id === _this12.currentSpace.face_id || _this12.currentTool !== 'Apply Property' && _this12.currentShading && face.id === _this12.currentShading.face_id || _this12.currentTool === 'Apply Property' && _this12.currentSpaceProperty && model[_this12.spacePropertyKey] === _this12.currentSpaceProperty.id,\n\t          daylighting_controls: (model.daylighting_controls || []).map(function (dc) {\n\t            return (0, _extends3.default)({}, _helpers2.default.vertexForId(dc.vertex_id, geometry), {\n\t              selected: dc.id === _this12.currentComponentInstanceId,\n\t              facingSelection: dc.id === _this12.componentFacingSelection\n\t            });\n\t          })\n\t        }, extraPolygonAttrs);\n\t        if (!points.length) {\n\t          return null;\n\t        }\n\t\n\t        if (model.type === 'space') {\n\t          if (_this12.currentMode === 'thermal_zones') {\n\t            var thermalZone = _helpers4.default.libraryObjectWithId(_this12.$store.state.models, model.thermal_zone_id);\n\t            polygon.color = thermalZone ? thermalZone.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this12.currentMode === 'space_types') {\n\t            var spaceType = _helpers4.default.libraryObjectWithId(_this12.$store.state.models, model.space_type_id);\n\t            polygon.color = spaceType ? spaceType.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this12.currentMode === 'building_units') {\n\t            var buildingUnit = _helpers4.default.libraryObjectWithId(_this12.$store.state.models, model.building_unit_id);\n\t            polygon.color = buildingUnit ? buildingUnit.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this12.currentMode === 'building_types') {\n\t            var buildingType = _helpers4.default.libraryObjectWithId(_this12.$store.state.models, model.building_type_id);\n\t            polygon.color = buildingType ? buildingType.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this12.currentMode === 'pitched_roofs') {\n\t            var pitchedRoof = _helpers4.default.libraryObjectWithId(_this12.$store.state.models, model.pitched_roof_id);\n\t            polygon.color = pitchedRoof ? pitchedRoof.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this12.currentMode === 'construction_sets') {\n\t            var constructionSet = _helpers4.default.libraryObjectWithId(_this12.$store.state.models, model.construction_set_id);\n\t            polygon.color = constructionSet ? constructionSet.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this12.currentMode !== 'spaces') {\n\t            throw new Error('unknown assignable property: ' + _this12.currentMode);\n\t          }\n\t        }\n\t        return polygon;\n\t      });\n\t\n\t      return _.sortBy(_.compact(polygons), 'current');\n\t    }\n\t  })\n\t};\n\n/***/ }),\n/* 265 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _helpers = __webpack_require__(46);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'ImageUpload',\n\t  mounted: function mounted() {\n\t    window.eventBus.$on('uploadImage', this.promptUpload.bind(this));\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    pxPerRWU: function pxPerRWU(state) {\n\t      var _state$application$sc = state.application.scale.x,\n\t          pixels = _state$application$sc.pixels,\n\t          rwuRange = _state$application$sc.rwuRange;\n\t\n\t      return pixels / (rwuRange[1] - rwuRange[0]);\n\t    },\n\t\n\t    max_y: function max_y(state) {\n\t      return state.project.view.max_y;\n\t    },\n\t    min_y: function min_y(state) {\n\t      return state.project.view.min_y;\n\t    },\n\t    min_x: function min_x(state) {\n\t      return state.project.view.min_x;\n\t    },\n\t    max_x: function max_x(state) {\n\t      return state.project.view.max_x;\n\t    }\n\t  }), (0, _vuex.mapGetters)({\n\t    currentStory: 'application/currentStory'\n\t  })),\n\t  methods: {\n\t    promptUpload: function promptUpload() {\n\t      this.$refs.imageInput.click();\n\t    },\n\t    uploadImage: function uploadImage(event) {\n\t      var files = event.target.files;\n\t      var that = this;\n\t\n\t      var _loop = function _loop(i) {\n\t        var file = files[i];\n\t        var reader = new FileReader();\n\t\n\t        reader.addEventListener('load', function () {\n\t          var image = new Image();\n\t          image.onload = function () {\n\t            var rwuHeight = image.height / that.pxPerRWU / 4;\n\t            var rwuWidth = image.width / that.pxPerRWU / 4;\n\t            that.$store.dispatch('models/createImageForStory', {\n\t              story_id: that.currentStory.id,\n\t              src: image.src,\n\t\n\t              name: _helpers2.default.generateName(that.$store.state.models, 'images', that.currentStory),\n\t\n\t              height: rwuHeight,\n\t              width: rwuWidth,\n\t              x: (that.min_x + that.max_x) / 2,\n\t              y: (that.min_y + that.max_y) / 2,\n\t              naturalHeight: image.height,\n\t              naturalWidth: image.width\n\t            });\n\t            that.$refs.imageInput.value = '';\n\t          };\n\t          image.src = reader.result;\n\t        }, false);\n\t        if (file) {\n\t          reader.readAsDataURL(file);\n\t        }\n\t      };\n\t\n\t      for (var i = 0; i < files.length; i++) {\n\t        _loop(i);\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 266 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _info_icon = __webpack_require__(251);\n\t\n\tvar _info_icon2 = _interopRequireDefault(_info_icon);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'Info',\n\t  components: {\n\t    InfoIcon: _info_icon2.default\n\t  }\n\t};\n\n/***/ }),\n/* 267 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'inspector',\n\t  data: function data() {\n\t    return {\n\t      geometryInspector: true,\n\t      storyInspector: false\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    startpoint: function startpoint(edgeRef) {\n\t      var edge = this.edgeForId(edgeRef.edge_id);\n\t      if (edgeRef.reverse) {\n\t        var _v = this.vertexForId(edge.v2);\n\t        return 'v2 ' + _v.id + ' (' + _v.x + ', ' + _v.y + ')';\n\t      }\n\t      var v = this.vertexForId(edge.v1);\n\t      return 'v1 ' + v.id + ' (' + v.x + ', ' + v.y + ')';\n\t    },\n\t    endpoint: function endpoint(edgeRef) {\n\t      var edge = this.edgeForId(edgeRef.edge_id);\n\t      if (!edgeRef.reverse) {\n\t        var _v2 = this.vertexForId(edge.v2);\n\t        return _v2.id + ' (v2) (' + _v2.x + ', ' + _v2.y + ')';\n\t      }\n\t      var v = this.vertexForId(edge.v1);\n\t      return v.id + ' (v1) (' + v.x + ', ' + v.y + ')';\n\t    },\n\t    edgeForId: function edgeForId(id) {\n\t      return _helpers2.default.edgeForId(id, this.currentStoryGeometry);\n\t    },\n\t    vertexForId: function vertexForId(id) {\n\t      return _helpers2.default.vertexForId(id, this.currentStoryGeometry);\n\t    }\n\t  },\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)({\n\t    currentStory: 'application/currentStory',\n\t    currentSubSelectionFace: 'application/currentSubSelectionFace',\n\t    currentStoryGeometry: 'application/currentStoryGeometry',\n\t    currentSpace: 'application/currentSpace',\n\t    currentShading: 'application/currentShading'\n\t  }))\n\t};\n\n/***/ }),\n/* 268 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _regenerator = __webpack_require__(328);\n\t\n\tvar _regenerator2 = _interopRequireDefault(_regenerator);\n\t\n\tvar _asyncToGenerator2 = __webpack_require__(327);\n\t\n\tvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\t\n\tvar _stringify = __webpack_require__(42);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _libconfig = __webpack_require__(95);\n\t\n\tvar _libconfig2 = _interopRequireDefault(_libconfig);\n\t\n\tvar _EditableSelectList = __webpack_require__(645);\n\t\n\tvar _EditableSelectList2 = _interopRequireDefault(_EditableSelectList);\n\t\n\tvar _helpers = __webpack_require__(46);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(15);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction keyForMode(mode) {\n\t  return mode === 'stories' ? 'currentStory' : _.includes(_appconfig.componentTypes, mode) ? 'currentComponentDef' : _.includes(_appconfig.assignableProperties, mode) ? 'currentSpaceProperty' : _.includes(['windows', 'daylighting_controls'], mode) ? 'currentComponentInstance' : 'currentSubSelection';\n\t}\n\t\n\texports.default = {\n\t  name: 'Library',\n\t  props: ['objectTypes', 'mode', 'searchAvailable', 'compact', 'addNewOnHotkey'],\n\t  mounted: function mounted() {\n\t    document.body.addEventListener('keyup', this.hotkeyAddNew);\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    document.body.removeEventListener('keyup', this.hotkeyAddNew);\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)({\n\t    currentStoryGeom: 'application/currentStoryGeometry'\n\t  }), {\n\t    objectTypesDisplay: function objectTypesDisplay() {\n\t      return this.objectTypes.map(function (ot) {\n\t        return {\n\t          val: ot,\n\t          display: _libconfig2.default[ot].displayName\n\t        };\n\t      });\n\t    },\n\t    columns: function columns() {\n\t      if (!_libconfig2.default[this.mode]) return [];\n\t      return _libconfig2.default[this.mode].columns;\n\t    },\n\t\n\t    currentStory: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentStory'];\n\t      },\n\t      set: function set(story) {\n\t        this.$store.dispatch('application/setCurrentStoryId', { id: story.id });\n\t      }\n\t    },\n\t\n\t    currentSubSelection: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentSubSelection'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id });\n\t      }\n\t    },\n\t    currentSpaceProperty: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentSpaceProperty'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSpacePropertyId', { id: item.id });\n\t      }\n\t    },\n\t    currentComponentDef: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentComponentDefinition'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: item.id });\n\t      }\n\t    },\n\t    currentComponentInstance: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentComponentInstance'];\n\t      },\n\t      set: function set(ci) {\n\t        this.$store.dispatch('application/setCurrentComponentInstanceId', { id: ci.id });\n\t      }\n\t    },\n\t\n\t    selectedObject: {\n\t      get: function get() {\n\t        return this[this.keyForCurrentMode];\n\t      },\n\t      set: function set(item) {\n\t        this[this.keyForCurrentMode] = item;\n\t      }\n\t    },\n\t    keyForCurrentMode: function keyForCurrentMode() {\n\t      return keyForMode(this.mode);\n\t    }\n\t  }, (0, _vuex.mapState)({\n\t    stories: function stories(state) {\n\t      return state.models.stories;\n\t    },\n\t    modeTab: function modeTab(state) {\n\t      return state.application.currentSelections.modeTab;\n\t    }\n\t  }), {\n\t    spaces: function spaces() {\n\t      return this.currentStory.spaces;\n\t    },\n\t    shading: function shading() {\n\t      return this.currentStory.shading;\n\t    },\n\t    images: function images() {\n\t      return this.currentStory.images;\n\t    },\n\t    windows: function windows() {\n\t      return this.currentStory.windows;\n\t    },\n\t    daylighting_controls: function daylighting_controls() {\n\t      return _.flatMap(this.currentStory.spaces, function (s) {\n\t        return s.daylighting_controls;\n\t      });\n\t    },\n\t    rows: function rows() {\n\t      return _.includes(['stories', 'spaces', 'shading', 'images', 'windows', 'daylighting_controls'], this.mode) ? this[this.mode] : this.$store.state.models.library[this.mode];\n\t    },\n\t    componentInstanceMode: function componentInstanceMode() {\n\t      return _.includes(['windows', 'daylighting_controls'], this.mode);\n\t    },\n\t    addRowPermitted: function addRowPermitted() {\n\t      return this.mode !== 'stories' || this.modeTab === 'floorplan';\n\t    },\n\t\n\t    renderByMode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.mode;\n\t      },\n\t      set: function set(mode) {\n\t        this.$store.dispatch('application/setCurrentMode', { mode: mode });\n\t      }\n\t    }\n\t  }),\n\t  watch: {\n\t    rows: function rows() {\n\t      if (!(this.selectedObject && _.includes(_.map(this.rows, 'id'), this.selectedObject.id)) && this.rows.length > 0) {\n\t        this.selectedObject = this.rows[0];\n\t      }\n\t    },\n\t    mode: function mode(currMode, oldMode) {\n\t      if (keyForMode(currMode) === 'currentSpaceProperty') {\n\t        this.renderByMode = this.mode;\n\t      } else if (keyForMode(oldMode) === 'currentSpaceProperty') {\n\t        this.renderByMode = 'spaces';\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    hotkeyAddNew: function hotkeyAddNew(evt) {\n\t      if (this.addNewOnHotkey && this.addRowPermitted && evt.ctrlKey && evt.key === 'a') {\n\t        this.createObject();\n\t      }\n\t    },\n\t    changeMode: function changeMode(newMode) {\n\t      if (!_.includes(this.objectTypes, newMode)) {\n\t        throw new Error('Unable to find ' + newMode + ' in options ' + (0, _stringify2.default)(this.objectTypes));\n\t      }\n\t      this.$emit('changeMode', newMode);\n\t    },\n\t    modifyObject: function modifyObject(rowId, colName, value) {\n\t      if (this.componentInstanceMode) {\n\t        return this.modifyComponentInstance(rowId, colName, value);\n\t      }\n\t      var row = _.find(this.rows, { id: rowId });\n\t      var result = _helpers2.default.setValueForKey(row, this.$store, this.mode, colName, value);\n\t      if (!result.success) {\n\t        window.eventBus.$emit('error', result.error);\n\t      }\n\t    },\n\t    modifyComponentInstance: function modifyComponentInstance(id, key, value) {\n\t      if (this.mode === 'windows') {\n\t        this.$store.dispatch('models/modifyWindow', { id: id, key: key, value: value, story_id: this.currentStory.id });\n\t      } else if (this.mode === 'daylighting_controls') {\n\t        this.$store.dispatch('models/modifyDaylightingControl', { id: id, key: key, value: value, story_id: this.currentStory.id });\n\t      } else {\n\t        throw new Error('unrecognized component mode \"' + this.mode + '\"');\n\t      }\n\t    },\n\t    createObject: function createObject() {\n\t      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref$duplicate = _ref.duplicate,\n\t          duplicate = _ref$duplicate === undefined ? false : _ref$duplicate;\n\t\n\t      if (duplicate) {\n\t        var height = this.currentStory.floor_to_ceiling_height;\n\t        this.$store.dispatch('models/initStory');\n\t        this.$store.dispatch('models/updateStoryWithData', { story: this.currentStory, floor_to_ceiling_height: height });\n\t        this.$store.dispatch('application/setCurrentTool', { tool: 'Rectangle' });\n\t      } else {\n\t        switch (this.mode) {\n\t          case 'stories':\n\t            this.$store.dispatch('models/initStory');\n\t            return;\n\t          case 'spaces':\n\t            this.$store.dispatch('models/initSpace', { story: this.currentStory });\n\t            break;\n\t          case 'shading':\n\t            this.$store.dispatch('models/initShading', { story: this.currentStory });\n\t            break;\n\t          case 'images':\n\t            window.eventBus.$emit('uploadImage');\n\t            break;\n\t          case 'windows':\n\t          case 'daylighting_controls':\n\t            window.eventBus.$emit('error', 'Create components by clicking where you would like it to be');\n\t            break;\n\t          default:\n\t            this.$store.dispatch('models/createObjectWithType', { type: this.mode });\n\t            break;\n\t        }\n\t      }\n\t      this.selectLatest();\n\t    },\n\t    duplicateRow: function duplicateRow(row) {\n\t      var _this = this;\n\t\n\t      return (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n\t        var newName, copyNum;\n\t        return _regenerator2.default.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                if (!_this.stories.find(function (story) {\n\t                  return story.id === _this.selectedObject.id;\n\t                })) {\n\t                  _context.next = 4;\n\t                  break;\n\t                }\n\t\n\t                _this.cloneStory(_this.selectedObject);\n\t                _context.next = 11;\n\t                break;\n\t\n\t              case 4:\n\t                _this.createObject();\n\t                _context.next = 7;\n\t                return _this.$nextTick();\n\t\n\t              case 7:\n\t                newName = row.name;\n\t\n\t                while (_.find(_this.rows, { name: newName })) {\n\t                  copyNum = newName.match(/\\((\\d+)\\)/);\n\t\n\t                  newName = copyNum ? newName.slice(0, copyNum.index) + '(' + (+copyNum[1] + 1) + ')' : newName + ' (2)';\n\t                }\n\t                _this.modifyObject(_this.selectedObject.id, 'name', newName);\n\t                _this.columns.forEach(function (_ref2) {\n\t                  var key = _ref2.name,\n\t                      readonly = _ref2.readonly,\n\t                      privateKey = _ref2.private;\n\t\n\t                  if (key === 'id' || key === 'name' || key === 'color') return;\n\t                  if (readonly || privateKey) return;\n\t                  if (_this.selectedObject[key] === row[key]) return;\n\t                  _this.modifyObject(_this.selectedObject.id, key, row[key]);\n\t                });\n\t\n\t              case 11:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, _this);\n\t      }))();\n\t    },\n\t    selectLatest: function selectLatest() {\n\t      var newestRow = _.maxBy(this.rows, function (r) {\n\t        return +r.id;\n\t      });\n\t      if (!newestRow) {\n\t        return;\n\t      }\n\t      this.selectedObject = newestRow;\n\t    },\n\t    cloneStory: function cloneStory(story) {\n\t      this.$store.dispatch('application/setCurrentStoryId', { id: story.id });\n\t\n\t      var _replaceIdsForCloning = (0, _helpers3.replaceIdsForCloning)(this.currentStoryGeom),\n\t          clonedGeometry = _replaceIdsForCloning.clonedGeometry,\n\t          idMap = _replaceIdsForCloning.idMap;\n\t\n\t      this.createObject({ duplicate: true });\n\t\n\t      var _modelHelpers$replace = _helpers2.default.replaceIdsUpdateInfoForCloning(story, idMap, this.state, this.currentStory),\n\t          clonedStory = _modelHelpers$replace.clonedStory;\n\t\n\t      this.destroyDuplicateSpaces();\n\t      this.$store.dispatch('models/cloneStory', clonedStory);\n\t      this.$store.dispatch('geometry/cloneStoryGeometry', clonedGeometry);\n\t      for (var i = this.currentStory.shading.length - 1; i >= 0; i--) {\n\t        this.$store.dispatch('models/destroyShading', {\n\t          shading: this.currentStory.shading[i],\n\t          story: this.currentStory\n\t        });\n\t      }\n\t    },\n\t    destroyDuplicateSpaces: function destroyDuplicateSpaces() {\n\t      this.$store.dispatch('models/destroySpace', {\n\t        space: this.currentStory.spaces[0],\n\t        story: this.currentStory\n\t      });\n\t    },\n\t    destroyObject: function destroyObject(object) {\n\t      var _this2 = this;\n\t\n\t      switch (this.mode) {\n\t        case 'stories':\n\t          this.$store.dispatch('models/destroyStory', { story: object });\n\t          return;\n\t        case 'spaces':\n\t          this.$store.dispatch('models/destroySpace', {\n\t            space: object,\n\t            story: this.$store.state.models.stories.find(function (story) {\n\t              return story[_this2.mode].find(function (o) {\n\t                return o.id === object.id;\n\t              });\n\t            })\n\t          });\n\t          break;\n\t        case 'shading':\n\t          this.$store.dispatch('models/destroyShading', {\n\t            shading: object,\n\t            story: this.$store.state.models.stories.find(function (story) {\n\t              return story[_this2.mode].find(function (o) {\n\t                return o.id === object.id;\n\t              });\n\t            })\n\t          });\n\t          break;\n\t        case 'images':\n\t          this.$store.dispatch('models/destroyImage', {\n\t            image: object,\n\t            story: this.$store.state.models.stories.find(function (story) {\n\t              return story[_this2.mode].find(function (o) {\n\t                return o.id === object.id;\n\t              });\n\t            })\n\t          });\n\t          break;\n\t        case 'window_definitions':\n\t          this.$store.dispatch('models/destroyWindowDef', { object: object });\n\t          break;\n\t        case 'daylighting_control_definitions':\n\t          this.$store.dispatch('models/destroyDaylightingControlDef', { object: object });\n\t          break;\n\t        case 'door_definitions':\n\t          this.$store.dispatch('models/destroyDoorDef', { object: object });\n\t          break;\n\t        case 'windows':\n\t          this.$store.dispatch('models/destroyWindow', { story_id: this.currentStory.id, object: object });\n\t          break;\n\t        case 'daylighting_controls':\n\t          this.$store.dispatch('models/destroyDaylightingControl', { story_id: this.currentStory.id, object: object });\n\t          break;\n\t        default:\n\t          this.$store.dispatch('models/destroyObject', { object: object });\n\t          break;\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    EditableSelectList: _EditableSelectList2.default\n\t  }\n\t};\n\n/***/ }),\n/* 269 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _delete = __webpack_require__(178);\n\t\n\tvar _delete2 = _interopRequireDefault(_delete);\n\t\n\tvar _copy_icon = __webpack_require__(250);\n\t\n\tvar _copy_icon2 = _interopRequireDefault(_copy_icon);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'LibrarySelect',\n\t  props: ['rows', 'selectedItemId', 'selectItem', 'destroyItem', 'duplicateRow'],\n\t  components: {\n\t    Delete: _delete2.default,\n\t    Copy: _copy_icon2.default\n\t  }\n\t};\n\n/***/ }),\n/* 270 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vueSwatches = __webpack_require__(726);\n\t\n\tvar _vueSwatches2 = _interopRequireDefault(_vueSwatches);\n\t\n\tvar _portalVue = __webpack_require__(177);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'ColorPickerModal',\n\t  props: ['value'],\n\t  computed: {\n\t    color: {\n\t      get: function get() {\n\t        return this.value;\n\t      },\n\t      set: function set(newVal) {\n\t        this.$emit('change', newVal);\n\t      }\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    document.addEventListener('keydown', this.closeOnEsc);\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    document.removeEventListener('keydown', this.closeOnEsc);\n\t  },\n\t\n\t  methods: {\n\t    closeOnEsc: function closeOnEsc(e) {\n\t      if (e.keyCode === 27) {\n\t        this.$emit('close');\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    Portal: _portalVue.Portal,\n\t    Swatches: _vueSwatches2.default\n\t  }\n\t};\n\n/***/ }),\n/* 271 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _svgs = __webpack_require__(182);\n\t\n\tvar _svgs2 = _interopRequireDefault(_svgs);\n\t\n\tvar _NonChromeWarning = __webpack_require__(658);\n\t\n\tvar _NonChromeWarning2 = _interopRequireDefault(_NonChromeWarning);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'MapModal',\n\t  data: function data() {\n\t    return {\n\t      address: ''\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    online: function online() {\n\t      return window.api && window.api.config ? window.api.config.online : true;\n\t    },\n\t\n\t    mapEnabled: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.enabled;\n\t      },\n\t      set: function set(enabled) {\n\t        this.$store.dispatch('project/setMapEnabled', { enabled: enabled });\n\t      }\n\t    },\n\t    tool: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.tool;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('application/setCurrentTool', { tool: val });\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    importFloorplanAsFile: function importFloorplanAsFile(event) {\n\t      var _this = this;\n\t\n\t      var file = event.target.files[0];\n\t      var reader = new FileReader();\n\t      reader.addEventListener('load', function () {\n\t        _this.importFloorplan(reader.result);\n\t      }, false);\n\t\n\t      if (file) {\n\t        reader.readAsText(file);\n\t      }\n\t    },\n\t    importFloorplan: function importFloorplan(data) {\n\t      this.$store.dispatch('importFloorplan', {\n\t        clientWidth: document.getElementById('svg-grid').clientWidth,\n\t        clientHeight: document.getElementById('svg-grid').clientHeight,\n\t        data: JSON.parse(data)\n\t      });\n\t      this.$emit('close');\n\t    }\n\t  },\n\t  components: (0, _extends3.default)({}, _svgs2.default, {\n\t    NonChromeWarning: _NonChromeWarning2.default\n\t  })\n\t};\n\n/***/ }),\n/* 272 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'ModalBase',\n\t  props: ['title'],\n\t  methods: {\n\t    close: function close() {\n\t      this.$emit('close');\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 273 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(42);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _ModalBase = __webpack_require__(249);\n\t\n\tvar _ModalBase2 = _interopRequireDefault(_ModalBase);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'SaveAsModal',\n\t  props: ['saveWhat', 'dataToDownload'],\n\t  mounted: function mounted() {\n\t    this.$refs.downloadName.focus();\n\t  },\n\t\n\t  methods: {\n\t    downloadFile: function downloadFile() {\n\t      var a = document.createElement('a');\n\t      var blob = new Blob([(0, _stringify2.default)(this.dataToDownload)], {\n\t        type: 'text/json;charset=utf-8'\n\t      });\n\t      a.setAttribute('href', URL.createObjectURL(blob));\n\t      a.setAttribute('download', this.$refs.downloadName.value + '.json');\n\t      a.click();\n\t\n\t      console.log('exporting:\\n' + (0, _stringify2.default)(this.dataToDownload));\n\t      this.$emit('close');\n\t    }\n\t  },\n\t  components: {\n\t    ModalBase: _ModalBase2.default\n\t  }\n\t};\n\n/***/ }),\n/* 274 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _ModalBase = __webpack_require__(249);\n\t\n\tvar _ModalBase2 = _interopRequireDefault(_ModalBase);\n\t\n\tvar _Info = __webpack_require__(650);\n\t\n\tvar _Info2 = _interopRequireDefault(_Info);\n\t\n\tvar _ExpandableDrawer = __webpack_require__(647);\n\t\n\tvar _ExpandableDrawer2 = _interopRequireDefault(_ExpandableDrawer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'Settings',\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    ground: function ground(state) {\n\t      return state.project.ground;\n\t    },\n\t    mapEnabled: function mapEnabled(state) {\n\t      return state.project.map.enabled;\n\t    }\n\t  }), {\n\t    floor_offset: {\n\t      get: function get() {\n\t        return this.ground.floor_offset;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/modifyGround', { key: 'floor_offset', val: val });\n\t      }\n\t    },\n\t    azimuth_angle: {\n\t      get: function get() {\n\t        return this.ground.azimuth_angle;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/modifyGround', { key: 'azimuth_angle', val: val });\n\t      }\n\t    },\n\t    tilt_slope: {\n\t      get: function get() {\n\t        return this.ground.tilt_slope;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/modifyGround', { key: 'tilt_slope', val: val });\n\t      }\n\t    },\n\t    northAxis: {\n\t      get: function get() {\n\t        return this.$store.state.project.north_axis + '\\xB0';\n\t      },\n\t      set: function set(northAxis) {\n\t        this.$store.dispatch('project/setNorthAxis', { north_axis: northAxis });\n\t      }\n\t    }\n\t  }),\n\t  components: {\n\t    ModalBase: _ModalBase2.default,\n\t    Info: _Info2.default,\n\t    ExpandableDrawer: _ExpandableDrawer2.default\n\t  }\n\t};\n\n/***/ }),\n/* 275 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _ResizeEvents = __webpack_require__(180);\n\t\n\tvar _ResizeEvents2 = _interopRequireDefault(_ResizeEvents);\n\t\n\tvar _Library = __webpack_require__(652);\n\t\n\tvar _Library2 = _interopRequireDefault(_Library);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'navigation',\n\t  data: function data() {\n\t    return {\n\t      libraryExpanded: false\n\t    };\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)({\n\t    currentComponent: 'application/currentComponent'\n\t  }), (0, _vuex.mapState)({\n\t    modeTab: function modeTab(state) {\n\t      return state.application.currentSelections.modeTab;\n\t    }\n\t  }), {\n\t    currentStory: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentStory'];\n\t      },\n\t      set: function set(story) {\n\t        this.$store.dispatch('application/setCurrentStoryId', { id: story.id });\n\t      }\n\t    },\n\t    currentSubSelection: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentSubSelection'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSubSelectionId', { id: item ? item.id : null });\n\t      }\n\t    },\n\t\n\t    spaces: function spaces() {\n\t      return this.currentStory.spaces;\n\t    },\n\t    shading: function shading() {\n\t      return this.currentStory.shading;\n\t    },\n\t    images: function images() {\n\t      return this.currentStory.images;\n\t    },\n\t    objectTypesForTab: function objectTypesForTab() {\n\t      switch (this.modeTab) {\n\t        case 'floorplan':\n\t          return ['spaces', 'shading', 'images'];\n\t        case 'shading':\n\t          return ['shading'];\n\t        case 'components':\n\t          return ['window_definitions', 'daylighting_control_definitions', 'door_definitions'];\n\t        case 'assign':\n\t          return ['building_units', 'building_types', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\n\t      }\n\t    },\n\t\n\t    mode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.mode;\n\t      },\n\t      set: function set(mode) {\n\t        this.$store.dispatch('application/setCurrentMode', { mode: mode });\n\t      }\n\t    },\n\t    subselectionType: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.subselectionType;\n\t      },\n\t      set: function set(sst) {\n\t        this.$store.dispatch('application/setCurrentSubselectionType', { subselectionType: sst });\n\t      }\n\t    }\n\t  }),\n\t  methods: {\n\t    resetSize: function resetSize() {\n\t      if (this.libraryExpanded) {\n\t        return;\n\t      }\n\t    },\n\t    setWidthForOpenLibrary: function setWidthForOpenLibrary() {\n\t      this.$emit('expanded', !!this.libraryExpanded);\n\t      _ResizeEvents2.default.$emit('resize');\n\t    }\n\t  },\n\t  watch: {\n\t    libraryExpanded: function libraryExpanded() {\n\t      this.setWidthForOpenLibrary();\n\t    },\n\t    objectTypesForTab: function objectTypesForTab(val) {\n\t      if (!_lodash2.default.includes(val, this.subselectionType)) {\n\t        if (this.modeTab === 'assign') {\n\t          this.subselectionType = 'thermal_zones';\n\t        } else {\n\t          this.subselectionType = val[0];\n\t        }\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    Library: _Library2.default\n\t  }\n\t};\n\n/***/ }),\n/* 276 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  computed: {\n\t    isChrome: function isChrome() {\n\t      var isChromium = window.chrome || window.qt,\n\t          winNav = window.navigator,\n\t          vendorName = winNav.vendor,\n\t          isOpera = winNav.userAgent.indexOf(\"OPR\") > -1,\n\t          isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1,\n\t          isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\t\n\t      if (isIOSChrome) {\n\t        return false;\n\t      } else if (isChromium !== null && typeof isChromium !== \"undefined\" && vendorName === \"Google Inc.\" && isOpera === false && isIEedge === false) {\n\t        return true;\n\t      } else {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 277 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'PrettySelect',\n\t  props: ['options', 'value', 'label', 'disabled', 'editable', 'space_id', 'type', 'type_id'],\n\t  computed: {\n\t    normalizedOpts: function normalizedOpts() {\n\t      var _this = this;\n\t\n\t      var attachEditable = function attachEditable(arr) {\n\t        if (_this.editable) {\n\t          return [].concat((0, _toConsumableArray3.default)(arr), [{\n\t            val: 'Create New',\n\t            display: 'Create New'\n\t          }]);\n\t        } else {\n\t          return arr;\n\t        }\n\t      };\n\t\n\t      if (_lodash2.default.isArray(this.options)) {\n\t        if (!this.options.length) {\n\t          return attachEditable([]);\n\t        }\n\t        if (_lodash2.default.has(this.options[0], 'val') && _lodash2.default.has(this.options[0], 'display')) {\n\t          return attachEditable(this.options);\n\t        }\n\t        if (_lodash2.default.isString(this.options[0])) {\n\t          return attachEditable(this.options.map(function (o) {\n\t            return { val: o, display: o };\n\t          }));\n\t        }\n\t      }\n\t      console.warn('unrecognized options structure', this.options);\n\t      return this.options;\n\t    }\n\t  },\n\t  methods: {\n\t    handleChange: function handleChange(event) {\n\t      if (event.target.value === 'Create New') {\n\t        event.stopPropagation();\n\t        event.preventDefault();\n\t\n\t        this.$refs.select.value = this.value;\n\t\n\t        this.$store.dispatch('models/createObjectWithTypeAndSelect', {\n\t          type: this.type,\n\t          type_id: this.type_id,\n\t          space_id: this.space_id\n\t        });\n\t      } else {\n\t        this.$emit('change', event.target.value);\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 278 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _helpers = __webpack_require__(80);\n\t\n\tvar _PrettySelect = __webpack_require__(121);\n\t\n\tvar _PrettySelect2 = _interopRequireDefault(_PrettySelect);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  computed: {\n\t    renderableProperties: function renderableProperties() {\n\t      return ['spaces', 'building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\n\t    },\n\t    renderableOptions: function renderableOptions() {\n\t      return this.renderableProperties.map(function (p) {\n\t        return {\n\t          display: (0, _helpers.displayNameForMode)(p),\n\t          val: p\n\t        };\n\t      });\n\t    },\n\t\n\t    currentMode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.mode;\n\t      },\n\t      set: function set(mode) {\n\t        this.$store.dispatch('application/setCurrentMode', { mode: mode });\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    PrettySelect: _PrettySelect2.default\n\t  }\n\t};\n\n/***/ }),\n/* 279 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(79);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _portalVue = __webpack_require__(177);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'TextureSelect',\n\t  props: ['value', 'label', 'disabled'],\n\t  data: function data() {\n\t    return {\n\t      open: false\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    textures: function textures() {\n\t      return _appconfig.textures;\n\t    }\n\t  },\n\t  methods: {\n\t    choose: function choose(texture) {\n\t      this.$emit('change', texture);\n\t      this.open = false;\n\t    },\n\t    ulStyle: function ulStyle() {\n\t      var bb = this.$el && this.$el.getBoundingClientRect();\n\t      if (!bb) return {};\n\t      return {\n\t        left: bb.left + 'px',\n\t        top: bb.top + bb.height - 17 + 'px',\n\t        width: bb.width + 'px'\n\t      };\n\t    }\n\t  },\n\t  components: {\n\t    Portal: _portalVue.Portal\n\t  }\n\t};\n\n/***/ }),\n/* 280 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _from = __webpack_require__(185);\n\t\n\tvar _from2 = _interopRequireDefault(_from);\n\t\n\tvar _keys = __webpack_require__(52);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'Textures',\n\t  data: function data() {\n\t    return {\n\t      modifiers: {\n\t        '-highlight': 'green',\n\t        '-selected': 'green',\n\t        '-facing-selection': 'blue',\n\t        '': '#222'\n\t      }\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.loadCssStyles();\n\t    this.checkTexturesList();\n\t  },\n\t\n\t  methods: {\n\t    loadCssStyles: function loadCssStyles() {\n\t      var css = document.createElement('style');\n\t      css.type = 'text/css';\n\t      if (css.styleSheet) {\n\t        css.styleSheet.cssText = this.styles;\n\t      } else {\n\t        css.appendChild(document.createTextNode(this.styles));\n\t      }\n\t      document.head.appendChild(css);\n\t    },\n\t    checkTexturesList: function checkTexturesList() {\n\t      var missingTextures = _lodash2.default.difference(_appconfig.textures, _lodash2.default.map(this.patterns, 'id')),\n\t          extraTextures = _lodash2.default.difference(_lodash2.default.map(this.patterns, 'id'), _appconfig.textures);\n\t      if (missingTextures.length) {\n\t        console.error('[warning]: Textures were added to Textures.vue, but not to appconfig.js.\\n  This will cause those textures not to be used. The following are missing from appconfig:\\n  ' + missingTextures);\n\t      }\n\t      if (extraTextures.length) {\n\t        console.error('[warning]: Textures were added to appconfig.js, but not to Textures.vue.\\n  Those textures will not be visible. The following are missing from Textures.vue:\\n  ' + extraTextures);\n\t      }\n\t    }\n\t  },\n\t  computed: {\n\t    modSuffixes: function modSuffixes() {\n\t      return _lodash2.default.filter((0, _keys2.default)(this.modifiers), _lodash2.default.identity);\n\t    },\n\t    patterns: function patterns() {\n\t      var _this = this;\n\t\n\t      return _lodash2.default.reject((0, _from2.default)(this.$el.querySelectorAll('pattern')), function (p) {\n\t        return _this.modSuffixes.some(function (ms) {\n\t          return _lodash2.default.endsWith(p.getAttribute('id'), ms);\n\t        });\n\t      });\n\t    },\n\t    cssStyles: function cssStyles() {\n\t      return this.patterns.map(function (pattern) {\n\t        var id = pattern.getAttribute('id'),\n\t            width = pattern.getAttribute('width'),\n\t            height = pattern.getAttribute('height'),\n\t            contents = pattern.innerHTML,\n\t            wrapped = '<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'' + width + '\\' height=\\'' + height + '\\'>' + contents + '</svg>';\n\t        return '\\n            .texture-' + id + ' {\\n              background-image: url(\"data:image/svg+xml;base64,' + btoa(wrapped) + '\");\\n              background-repeat: repeat;\\n            }';\n\t      });\n\t    },\n\t    windowStyles: function windowStyles() {\n\t      return _lodash2.default.map(this.patterns, function (p) {\n\t        return p.getAttribute('id');\n\t      }).map(function (id) {\n\t        return '\\n            #grid svg .polygons .window .hatch[data-texture=\"' + id + '\"] {\\n              fill: url(#' + id + ');\\n            }\\n            #grid svg .polygons .window .facing-selection .hatch[data-texture=\"' + id + '\"] {\\n              fill: url(#' + id + '-facing-selection);\\n            }\\n            #grid svg .polygons .window .selected .hatch[data-texture=\"' + id + '\"] {\\n              fill: url(#' + id + '-selected);\\n            }\\n            #grid svg .highlight .window .hatch[data-texture=\"' + id + '\"] {\\n              fill: url(#' + id + '-highlight);\\n            }\\n          ';\n\t      });\n\t    },\n\t    styles: function styles() {\n\t      return [].concat((0, _toConsumableArray3.default)(this.cssStyles), (0, _toConsumableArray3.default)(this.windowStyles)).join('\\n');\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 281 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _SaveAsModal = __webpack_require__(655);\n\t\n\tvar _SaveAsModal2 = _interopRequireDefault(_SaveAsModal);\n\t\n\tvar _Settings = __webpack_require__(656);\n\t\n\tvar _Settings2 = _interopRequireDefault(_Settings);\n\t\n\tvar _PrettySelect = __webpack_require__(121);\n\t\n\tvar _PrettySelect2 = _interopRequireDefault(_PrettySelect);\n\t\n\tvar _helpers = __webpack_require__(80);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _svgs = __webpack_require__(182);\n\t\n\tvar _svgs2 = _interopRequireDefault(_svgs);\n\t\n\tvar _RenderByDropdown = __webpack_require__(659);\n\t\n\tvar _RenderByDropdown2 = _interopRequireDefault(_RenderByDropdown);\n\t\n\tvar _ComponentInstanceEditBar = __webpack_require__(643);\n\t\n\tvar _ComponentInstanceEditBar2 = _interopRequireDefault(_ComponentInstanceEditBar);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tvar _appconfig2 = _interopRequireDefault(_appconfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'toolbar',\n\t  data: function data() {\n\t    return {\n\t      componentTypes: {\n\t        daylighting_control_definitions: 'Daylighting Control Definitions',\n\t        window_definitions: 'Window Definitions'\n\t      },\n\t      showSaveModal: false,\n\t      thingWereSaving: '',\n\t      visibleComponentType: null,\n\t      showGroundPropsModal: false\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    setImageTool: function setImageTool() {\n\t      this.tool = 'Image';\n\t      if (this.currentStory.images.length === 0) {\n\t        window.eventBus.$emit('uploadImage');\n\t      }\n\t    },\n\t    zoomToFit: function zoomToFit() {\n\t      window.eventBus.$emit('zoomToFit');\n\t    },\n\t    exportData: function exportData() {\n\t      this.thingWereSaving = 'Floorplan';\n\t      this.showSaveModal = true;\n\t      return this.$store.getters['exportData'];\n\t    },\n\t    importDataAsFile: function importDataAsFile(event, type) {\n\t      var _this = this;\n\t\n\t      var file = event.target.files[0];\n\t      var reader = new FileReader();\n\t\n\t      reader.addEventListener('load', function () {\n\t        var data = void 0;\n\t        try {\n\t          data = JSON.parse(reader.result);\n\t        } catch (e) {\n\t          window.eventBus.$emit('error', 'Invalid JSON');\n\t          return;\n\t        }\n\t        if (type === 'library') {\n\t          _this.$store.dispatch('importLibrary', { data: data });\n\t        } else if (type === 'floorplan') {\n\t          _this.$store.dispatch('importFloorplan', {\n\t            clientWidth: document.getElementById('svg-grid').clientWidth,\n\t            clientHeight: document.getElementById('svg-grid').clientHeight,\n\t            data: data\n\t          });\n\t        }\n\t      }, false);\n\t\n\t      if (file) {\n\t        reader.readAsText(file);\n\t      }\n\t    },\n\t    undo: function undo() {\n\t      this.$store.timetravel.undo();\n\t    },\n\t    redo: function redo() {\n\t      this.$store.timetravel.redo();\n\t    },\n\t    updateUnits: function updateUnits(val) {\n\t      if (this.allowSettingUnits) {\n\t        this.rwUnits = val;\n\t      } else {\n\t        window.eventBus.$emit('error', 'Units must be set before any geometry is drawn.');\n\t      }\n\t    },\n\t    displayNameForMode: function displayNameForMode(mode) {\n\t      return _helpers2.default.displayNameForMode(mode);\n\t    }\n\t  },\n\t  computed: (0, _extends3.default)({\n\t    latestCreatedCompId: function latestCreatedCompId() {\n\t      return _.chain(this.allComponents).map('defs').flatten().map('id').map(Number).max().value() + '';\n\t    },\n\t    allComponents: function allComponents() {\n\t      var _this2 = this;\n\t\n\t      return _appconfig.componentTypes.map(function (ct) {\n\t        return {\n\t          defs: _this2.$store.state.models.library[ct],\n\t          name: _appconfig2.default.modes[ct],\n\t          type: ct\n\t        };\n\t      });\n\t    },\n\t    currentComponentType: function currentComponentType() {\n\t      return this.currentComponent.type;\n\t    },\n\t    currentComponentDefinition: function currentComponentDefinition() {\n\t      return this.currentComponent.definition;\n\t    }\n\t  }, (0, _vuex.mapGetters)({\n\t    currentSpaceProperty: 'application/currentSpaceProperty',\n\t    currentStory: 'application/currentStory'\n\t  }), (0, _vuex.mapState)({\n\t    mapEnabled: function mapEnabled(state) {\n\t      return state.project.map.enabled;\n\t    },\n\t    timetravelInitialized: function timetravelInitialized(state) {\n\t      return state.timetravelInitialized;\n\t    },\n\t    showImportExport: function showImportExport(state) {\n\t      return state.project.show_import_export;\n\t    },\n\t    allowSettingUnits: function allowSettingUnits(state) {\n\t      return false;\n\t    } }), {\n\t    currentSubselectionType: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.subselectionType;\n\t      },\n\t      set: function set(sst) {\n\t        this.$store.dispatch('application/setCurrentSubselectionType', { subselectionType: sst });\n\t      }\n\t    },\n\t    availableTools: function availableTools() {\n\t      var tools = [];\n\t      switch (this.modeTab) {\n\t        case 'floorplan':\n\t          tools = ['Rectangle', 'Polygon', 'Eraser', 'Select', 'Image'];\n\t          break;\n\t        case 'shading':\n\t          tools = ['Rectangle', 'Polygon', 'Eraser', 'Select'];\n\t          break;\n\t        case 'components':\n\t          tools = ['Place Component'];\n\t          break;\n\t        case 'assign':\n\t          tools = ['Apply Property'];\n\t          break;\n\t        default:\n\t          break;\n\t      }\n\t      if (this.previousStoryVisible && (this.modeTab === 'floorplan' || this.currentMode === 'shading')) {\n\t        tools.push('Fill');\n\t      }\n\t      return tools;\n\t    },\n\t\n\t    currentMode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.mode;\n\t      },\n\t      set: function set(mode) {\n\t        this.$store.dispatch('application/setCurrentMode', { mode: mode });\n\t      }\n\t    },\n\t    modeTab: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.modeTab;\n\t      },\n\t      set: function set(mt) {\n\t        this.$store.dispatch('application/setCurrentModeTab', { modeTab: mt });\n\t      }\n\t    },\n\t    gridVisible: {\n\t      get: function get() {\n\t        return this.$store.state.project.grid.visible;\n\t      },\n\t      set: function set(visible) {\n\t        this.$store.dispatch('project/setGridVisible', { visible: visible });\n\t      }\n\t    },\n\t    mapVisible: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.visible;\n\t      },\n\t      set: function set(visible) {\n\t        this.$store.dispatch('project/setMapVisible', { visible: visible });\n\t      }\n\t    },\n\t    previousStoryVisible: {\n\t      get: function get() {\n\t        return this.$store.state.project.previous_story.visible;\n\t      },\n\t      set: function set(visible) {\n\t        this.$store.dispatch('project/setPreviousStoryVisible', { visible: visible });\n\t      }\n\t    },\n\t    tool: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.tool;\n\t      },\n\t      set: function set(tool) {\n\t        this.$store.dispatch('application/setCurrentTool', { tool: tool });\n\t      }\n\t    },\n\t\n\t    spacing: {\n\t      get: function get() {\n\t        return this.$store.state.project.grid.spacing;\n\t      },\n\t      set: function set(spacing) {\n\t        this.$store.dispatch('project/setSpacing', { spacing: spacing });\n\t      }\n\t    },\n\t\n\t    currentComponent: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentComponent'];\n\t      },\n\t      set: function set(item) {\n\t        if (!item || !item.definition || !item.definition.id) {\n\t          return;\n\t        }\n\t        this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: item.definition.id });\n\t      }\n\t    },\n\t    rwUnits: {\n\t      get: function get() {\n\t        return this.$store.state.project.config.units === 'ip' ? 'ft' : 'm';\n\t      },\n\t      set: function set(units) {\n\t        this.$store.dispatch('project/setUnits', { units: units === 'ft' ? 'ip' : 'si' });\n\t      }\n\t    },\n\t    snapMode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.snapMode;\n\t      },\n\t      set: function set(snapMode) {\n\t        this.$store.dispatch('application/setCurrentSnapMode', { snapMode: snapMode });\n\t      }\n\t    },\n\t    dataToDownload: function dataToDownload() {\n\t      return this.$store.getters['exportData'];\n\t    }\n\t  }),\n\t  watch: {\n\t    modeTab: function modeTab() {\n\t      if (this.modeTab === 'assign' && this.currentSpaceProperty) {\n\t        this.currentMode = this.currentSpaceProperty.type;\n\t      } else {\n\t        this.currentMode = 'spaces';\n\t      }\n\t    },\n\t    tool: function tool(val) {\n\t      if (this.availableTools.indexOf(val) === -1 && val !== 'Map') {\n\t        this.tool = this.availableTools[0];\n\t      }\n\t      if (this.tool === 'Image' && this.currentSubselectionType !== 'images') {\n\t        this.currentSubselectionType = 'images';\n\t      } else if (this.tool !== 'Image' && this.currentSubselectionType === 'images') {\n\t        this.currentSubselectionType = 'spaces';\n\t      }\n\t    },\n\t    availableTools: function availableTools() {\n\t      if (!_.includes(this.availableTools, this.tool)) {\n\t        this.tool = this.availableTools[0];\n\t      }\n\t    },\n\t    currentSubselectionType: function currentSubselectionType(val) {\n\t      if (val === 'images' && this.tool !== 'Image') {\n\t        this.tool = 'Image';\n\t      } else if (val !== 'images' && this.tool === 'Image') {\n\t        this.tool = this.availableTools[0];\n\t      }\n\t    },\n\t    latestCreatedCompId: function latestCreatedCompId() {\n\t      this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: this.latestCreatedCompId });\n\t    }\n\t  },\n\t  components: (0, _extends3.default)({\n\t    PrettySelect: _PrettySelect2.default,\n\t    SaveAsModal: _SaveAsModal2.default,\n\t    Settings: _Settings2.default,\n\t    RenderByDropdown: _RenderByDropdown2.default,\n\t    ComponentInstanceEditBar: _ComponentInstanceEditBar2.default\n\t  }, _svgs2.default)\n\t};\n\n/***/ }),\n/* 282 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray2 = __webpack_require__(53);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.drawWindow = drawWindow;\n\texports.drawWindowGuideline = drawWindowGuideline;\n\texports.drawDaylightingControl = drawDaylightingControl;\n\texports.drawDaylightingControlGuideline = drawDaylightingControlGuideline;\n\texports.drawImage = drawImage;\n\texports.drawWall = drawWall;\n\texports.default = drawMethods;\n\t\n\tvar _d = __webpack_require__(78);\n\t\n\tvar d3 = _interopRequireWildcard(_d);\n\t\n\t__webpack_require__(599);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction boxAroundWindow(_ref) {\n\t  var xScale = _ref.xScale,\n\t      yScale = _ref.yScale,\n\t      edge = _ref.edge,\n\t      offset = _ref.offset;\n\t\n\t  var _unitPerpVector = (0, _helpers.unitPerpVector)(edge.start, edge.end),\n\t      dx = _unitPerpVector.dx,\n\t      dy = _unitPerpVector.dy;\n\t\n\t  return [[xScale(edge.start.x) + offset * dx, yScale(edge.start.y) + offset * dy], [xScale(edge.start.x) - offset * dx, yScale(edge.start.y) - offset * dy], [xScale(edge.end.x) - offset * dx, yScale(edge.end.y) - offset * dy], [xScale(edge.end.x) + offset * dx, yScale(edge.end.y) + offset * dy], [xScale(edge.start.x) + offset * dx, yScale(edge.start.y) + offset * dy]];\n\t}\n\t\n\tfunction drawWindowToWallRatio(xScale, yScale, el, datum) {\n\t  d3.select(el).selectAll('.single-window, .repeating-windows').remove();\n\t  var selection = d3.select(el).selectAll('.window-wall-ratio').data([datum]);\n\t  var wwrE = selection.enter().append('g').attr('class', 'window-wall-ratio');\n\t  wwrE.append('path').attr('class', 'hatch');\n\t\n\t  var line = d3.line();\n\t\n\t  var wwr = selection.merge(wwrE);\n\t  wwr.classed('selected', function (d) {\n\t    return d.selected;\n\t  });\n\t  wwr.classed('facing-selection', function (d) {\n\t    return d.facingSelection;\n\t  });\n\t  wwr.select('.hatch').attr('d', line(boxAroundWindow({ edge: datum, xScale: xScale, yScale: yScale, offset: 8 }))).attr('data-texture', datum.texture || 'diagonal-stripes-4');\n\t}\n\t\n\tfunction drawDoor(xScale, yScale, el, datum) {\n\t  var selection = d3.select(el).selectAll('.door').data([datum]);\n\t  var doorE = selection.enter().append('g').attr('class', 'door');\n\t  doorE.append('path').attr('class', 'hatch');\n\t\n\t  var line = d3.line();\n\t  var door = selection.merge(doorE);\n\t  door.exit().remove();\n\t  door.classed('selected', function (d) {\n\t    return d.selected;\n\t  });\n\t  door.classed('facing-selection', function (d) {\n\t    return d.facingSelection;\n\t  });\n\t  door.select('.hatch').attr('d', line(boxAroundWindow({ edge: datum, xScale: xScale, yScale: yScale, offset: 8 }))).attr('data-texture', datum.texture);\n\t}\n\t\n\tfunction drawSingleWindow(xScale, yScale, el, datum) {\n\t  d3.select(el).selectAll('.window-wall-ratio, .repeating-windows').remove();\n\t\n\t  var selection = d3.select(el).selectAll('.single-window').data([datum]);\n\t  var windowE = selection.enter().append('g').attr('class', 'single-window');\n\t  windowE.append('line').attr('class', 'pane');\n\t  windowE.append('circle');\n\t  windowE.append('line').attr('class', 'start-linecap');\n\t  windowE.append('line').attr('class', 'end-linecap');\n\t\n\t  var windw = selection.merge(windowE);\n\t  windw.classed('selected', function (d) {\n\t    return d.selected;\n\t  });\n\t  windw.classed('facing-selection', function (d) {\n\t    return d.facingSelection;\n\t  });\n\t  windw.select('line.pane').attr('x1', function (d) {\n\t    return xScale(d.start.x);\n\t  }).attr('y1', function (d) {\n\t    return yScale(d.start.y);\n\t  }).attr('x2', function (d) {\n\t    return xScale(d.end.x);\n\t  }).attr('y2', function (d) {\n\t    return yScale(d.end.y);\n\t  });\n\t  windw.each(function (d) {\n\t    var _unitPerpVector2 = (0, _helpers.unitPerpVector)(d.start, d.end),\n\t        dx = _unitPerpVector2.dx,\n\t        dy = _unitPerpVector2.dy,\n\t        linecapOffset = 6;\n\t\n\t    var $this = d3.select(this);\n\t    $this.select('.start-linecap').attr('x1', xScale(d.start.x) + linecapOffset * dx).attr('y1', yScale(d.start.y) + linecapOffset * dy).attr('x2', xScale(d.start.x) - linecapOffset * dx).attr('y2', yScale(d.start.y) - linecapOffset * dy);\n\t    $this.select('.end-linecap').attr('x1', xScale(d.end.x) + linecapOffset * dx).attr('y1', yScale(d.end.y) + linecapOffset * dy).attr('x2', xScale(d.end.x) - linecapOffset * dx).attr('y2', yScale(d.end.y) - linecapOffset * dy);\n\t    if (d.selected || d.facingSelection) {\n\t      $this.raise();\n\t    }\n\t  });\n\t  windw.select('circle').attr('cx', function (d) {\n\t    return xScale(d.center.x);\n\t  }).attr('cy', function (d) {\n\t    return yScale(d.center.y);\n\t  }).attr('r', '2');\n\t}\n\t\n\tfunction drawRepeatingWindows(xScale, yScale, el, datum) {\n\t  var start = datum.start,\n\t      end = datum.end,\n\t      width = datum.width,\n\t      spacing = datum.spacing;\n\t\n\t  d3.select(el).selectAll('.window-wall-ratio, .single-window').remove();\n\t\n\t  var selection = d3.select(el).selectAll('.repeating-windows').data([datum]);\n\t  var rwE = selection.enter().append('g').attr('class', 'repeating-windows');\n\t  rwE.append('path').attr('class', 'box');\n\t  rwE.append('g').attr('class', 'sub-windows');\n\t\n\t  var line = d3.line();\n\t\n\t  var rw = selection.merge(rwE);\n\t  rw.classed('selected', function (d) {\n\t    return d.selected;\n\t  });\n\t  rw.classed('facing-selection', function (d) {\n\t    return d.facingSelection;\n\t  });\n\t  rw.select('.box').attr('d', line(boxAroundWindow({ edge: datum, xScale: xScale, yScale: yScale, offset: 6 })));\n\t\n\t  var direction = (0, _helpers.unitVector)(start, end),\n\t      centers = (0, _helpers.repeatingWindowCenters)({ start: start, end: end, spacing: spacing, width: width });\n\t  var widthX = direction.dx * width,\n\t      widthY = direction.dy * width;\n\t  var windows = centers.map(function (thisCenter) {\n\t    return (0, _extends3.default)({}, datum, {\n\t      center: thisCenter,\n\t      start: { x: thisCenter.x - widthX / 2, y: thisCenter.y - widthY / 2 },\n\t      end: { x: thisCenter.x + widthX / 2, y: thisCenter.y + widthY / 2 }\n\t    });\n\t  });\n\t  var windw = rw.select('.sub-windows').selectAll('.sub-window').data(windows);\n\t  windw.exit().remove();\n\t  windw.merge(windw.enter().append('g').attr('class', 'sub-window')).each(function (d) {\n\t    drawSingleWindow(xScale, yScale, this, d);\n\t  });\n\t}\n\t\n\tfunction drawWindow() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity;\n\t  function chart(selection) {\n\t    selection.exit().remove();\n\t    selection.merge(selection.enter().append('g').attr('class', 'window')).each(function (d) {\n\t      if (d.windowOrDoor === 'door') {\n\t        drawDoor(xScale, yScale, this, d);\n\t      } else if (d.window_definition_mode === 'Single Window') {\n\t        drawSingleWindow(xScale, yScale, this, d);\n\t      } else if (d.window_definition_mode === 'Window to Wall Ratio') {\n\t        drawWindowToWallRatio(xScale, yScale, this, d);\n\t      } else if (d.window_definition_mode === 'Repeating Windows') {\n\t        drawRepeatingWindows(xScale, yScale, this, d);\n\t      } else {\n\t        throw new Error('unexpected window_definition_mode: ' + d.window_definition_mode);\n\t      }\n\t    });\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t\n\t  return chart;\n\t}\n\t\n\tfunction distanceMeasure() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity,\n\t      lineOffset = 20,\n\t      labelPosition = 1;\n\t  function chart(selection) {\n\t    selection.exit().remove();\n\t    var measureE = selection.enter().append('g').attr('class', 'distance-measure').attr('transform', function (d) {\n\t      var _unitPerpVector3 = (0, _helpers.unitPerpVector)(d.start, d.end),\n\t          dx = _unitPerpVector3.dx,\n\t          dy = _unitPerpVector3.dy,\n\t          offX = lineOffset * dx,\n\t          offY = lineOffset * dy;\n\t\n\t      return 'translate(' + offX + ', ' + offY + ')';\n\t    });\n\t    measureE.append('line');\n\t    measureE.append('text');\n\t    measureE.append('path').attr('class', 'start');\n\t    measureE.append('path').attr('class', 'end');\n\t\n\t    var measure = selection.merge(measureE);\n\t\n\t    measure.select('text').attr('x', function (d) {\n\t      return (1 - labelPosition) * xScale(d.start.x) + labelPosition * xScale(d.end.x);\n\t    }).attr('y', function (d) {\n\t      return (1 - labelPosition) * yScale(d.start.y) + labelPosition * yScale(d.end.y);\n\t    }).attr('dominant-baseline', 'text-before-edge').attrs(function (d) {\n\t      var _unitPerpVector4 = (0, _helpers.unitPerpVector)(d.start, d.end),\n\t          dx = _unitPerpVector4.dx,\n\t          dy = _unitPerpVector4.dy,\n\t          offset = 4;\n\t\n\t      return {\n\t        dx: dx * offset,\n\t        dy: dy * offset\n\t      };\n\t    }).text(function (d) {\n\t      var distance = (0, _helpers.distanceBetweenPoints)(d.start, d.end),\n\t          roundDistance = Math.round(distance * 100) / 100;\n\t      return '' + roundDistance;\n\t    });\n\t    measure.select('line').attrs(function (d) {\n\t      var _unitVector = (0, _helpers.unitVector)(d.start, d.end),\n\t          dx = _unitVector.dx,\n\t          dy = _unitVector.dy,\n\t          offset = 11.5,\n\t          offX = dx * offset,\n\t          offY = dy * offset;\n\t\n\t      return {\n\t        x1: xScale(d.start.x) + offX,\n\t        y1: yScale(d.start.y) - offY,\n\t        x2: xScale(d.end.x) - offX,\n\t        y2: yScale(d.end.y) + offY\n\t      };\n\t    });\n\t    var arrowHead = 'M -6,-2 V 2 L0,0 Z',\n\t        rotate = function rotate(d) {\n\t      var angle = (0, _helpers.edgeDirection)(d) * 180 / Math.PI,\n\t          adjust = d.start.x === d.end.x ? d.start.y > d.end.y ? 0 : 180 : d.start.x > d.end.x ? 0 : 180;\n\t\n\t      return adjust - angle;\n\t    };\n\t\n\t    measure.select('path.start').attr('transform', function (d) {\n\t      return 'translate(' + xScale(d.start.x) + ', ' + yScale(d.start.y) + ') scale(2) rotate(' + rotate(d) + ')';\n\t    }).attr('d', arrowHead);\n\t\n\t    measure.select('path.end').attr('transform', function (d) {\n\t      return 'translate(' + xScale(d.end.x) + ', ' + yScale(d.end.y) + ') scale(2) rotate(' + (180 + rotate(d)) + ')';\n\t    }).attr('d', arrowHead);\n\t  }\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  chart.lineOffset = function (_) {\n\t    if (!arguments.length) return lineOffset;\n\t    lineOffset = _;\n\t    return chart;\n\t  };\n\t  chart.labelPosition = function (_) {\n\t    if (!arguments.length) return labelPosition;\n\t    if (_ < 0 || _ > 1) {\n\t      console.warn('Expected labelPosition to be in [0, 1] (got ' + _ + ')');\n\t    }\n\t    labelPosition = _;\n\t    return chart;\n\t  };\n\t\n\t  return chart;\n\t}\n\t\n\tfunction drawWindowGuideline() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity;\n\t  var drawMeasure = distanceMeasure();\n\t  function chart(selection) {\n\t    drawMeasure.xScale(xScale).yScale(yScale);\n\t    selection.exit().remove();\n\t    selection.merge(selection.enter().append('g').classed('window-guideline component-guideline', true)).selectAll('.distance-measure').data(selection.merge(selection.enter()).data().map(function (d) {\n\t      return { start: d.edge_start, end: d.center };\n\t    })).filter(function (d) {\n\t      return d.window_definition_mode === 'Single Window';\n\t    }).call(drawMeasure);\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  return chart;\n\t}\n\t\n\tfunction drawDaylightingControl() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity;\n\t\n\t  function chart(selection) {\n\t    selection.exit().remove();\n\t    var dcE = selection.enter().append('g').attr('class', 'daylighting-control');\n\t    dcE.append('circle').attr('class', 'bg');\n\t    dcE.append('path').attr('class', 'quadrants');\n\t    var dc = selection.merge(dcE);\n\t    dc.classed('selected', function (d) {\n\t      return d.selected;\n\t    });\n\t    dc.classed('facing-selection', function (d) {\n\t      return d.facingSelection;\n\t    });\n\t    dc.select('circle.bg').attr('cx', function (d) {\n\t      return xScale(d.x);\n\t    }).attr('cy', function (d) {\n\t      return yScale(d.y);\n\t    }).attr('r', 10);\n\t    dc.select('path.quadrants').attr('d', function (d) {\n\t      var x = xScale(d.x),\n\t          y = yScale(d.y),\n\t          r = 10;\n\t      return 'M' + x + ' ' + y + ' L' + (x + r) + ' ' + y + ' A ' + r + ' ' + r + ' 0 0 1 ' + x + ' ' + (y + r) + ' L ' + x + ' ' + (y - r) + ' A ' + r + ' ' + r + ' 0 0 0 ' + (x - r) + ' ' + y + ' Z';\n\t    });\n\t    dc.each(function (d) {\n\t      if (d.selected || d.facingSelection) {\n\t        d3.select(this).raise();\n\t      }\n\t    });\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  return chart;\n\t}\n\t\n\tfunction drawDaylightingControlGuideline() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity;\n\t  var drawMeasure = distanceMeasure().lineOffset(0).labelPosition(0.5);\n\t  function chart(selection) {\n\t    drawMeasure.xScale(xScale).yScale(yScale);\n\t    selection.exit().remove();\n\t    var guideE = selection.enter().append('g').classed('daylighting-control-guideline component-guideline', true);\n\t\n\t    var data = _lodash2.default.flatMap(selection.merge(selection.enter()).data(), function (d) {\n\t      var dir = (0, _helpers.unitVector)(d.nearestEdge.v1, d.nearestEdge.v2),\n\t          v = { start: d.loc, end: d.nearestEdge.proj },\n\t          dotProduct = (v.end.x - v.start.x) * dir.dx + (v.end.y - v.start.y) * dir.dy,\n\t          parallel = {\n\t        start: v.start,\n\t        end: {\n\t          x: v.start.x + dotProduct * dir.dx,\n\t          y: v.start.y + dotProduct * dir.dy\n\t        }\n\t      },\n\t          perp = {\n\t        start: parallel.end,\n\t        end: v.end\n\t      };\n\t      return [v, perp, parallel].filter(function (_ref2) {\n\t        var start = _ref2.start,\n\t            end = _ref2.end;\n\t        return (0, _helpers.distanceBetweenPoints)(start, end) > 0.01;\n\t      });\n\t    });\n\t    var guide = selection.merge(guideE);\n\t    guide.selectAll('.distance-measure').data(data).call(drawMeasure);\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  return chart;\n\t}\n\tvar invRoot2 = 1 / Math.sqrt(2);\n\tvar RESIZE_CURSORS = [{ vec: { x: 1, y: 0 }, cursor: 'ew-resize' }, { vec: { x: -1, y: 0 }, cursor: 'ew-resize' }, { vec: { x: 0, y: 1 }, cursor: 'ns-resize' }, { vec: { x: 0, y: -1 }, cursor: 'ns-resize' }, { vec: { x: invRoot2, y: invRoot2 }, cursor: 'nwse-resize' }, { vec: { x: -1 * invRoot2, y: -1 * invRoot2 }, cursor: 'nwse-resize' }, { vec: { x: invRoot2, y: -1 * invRoot2 }, cursor: 'nesw-resize' }, { vec: { x: -1 * invRoot2, y: invRoot2 }, cursor: 'nesw-resize' }];\n\tfunction bestResizeCursor(xOff, yOff, rotation) {\n\t  var norm = Math.sqrt(xOff * xOff + yOff * yOff),\n\t      x = xOff / norm,\n\t      y = yOff / norm,\n\t      a = Math.PI * rotation / 180,\n\t      pt = {\n\t    x: x * Math.cos(a) - y * Math.sin(a),\n\t    y: x * Math.sin(a) + y * Math.cos(a)\n\t  };\n\t\n\t  return _lodash2.default.minBy(RESIZE_CURSORS, function (c) {\n\t    return (0, _helpers.distanceBetweenPoints)(c.vec, pt);\n\t  }).cursor;\n\t}\n\tvar rotateCursor = 'url(data:image/svg+xml;base64,' + btoa('<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0\" y=\"0\" width=\"25.6\" height=\"25.6\" viewBox=\"0 0 25.6 25.6\">' + '  <path transform=\"scale(0.5)\" d=\"M25.6,44.8c7.9406,0,14.4-6.4594,14.4-14.4s-6.4594-14.4-14.4-14.4v9.6L9.6,12.8L25.6,0v9.6c11.4688,0,20.8,9.3313,20.8,20.8s-9.3313,20.8-20.8,20.8S4.8,41.8688,4.8,30.4h6.4C11.2,38.3406,17.6594,44.8,25.6,44.8z\"/>' + '</svg>') + ') 12.8 12.8, pointer';\n\t\n\tfunction drawImage() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity,\n\t      updateImage = _lodash2.default.identity,\n\t      selectImage = _lodash2.default.identity;\n\t  function chart(selection) {\n\t    var pxPerRWU = (xScale(100) - xScale(0)) / 100;\n\t\n\t    var startX = void 0,\n\t        startY = void 0,\n\t        currX = void 0,\n\t        currY = void 0;\n\t    var offset = function offset(d) {\n\t      var x = currX - startX,\n\t          y = currY - startY,\n\t          invR = -1 * d.r * Math.PI / 180;\n\t      return {\n\t        dx: x * Math.cos(invR) - y * Math.sin(invR),\n\t        dy: x * Math.sin(invR) + y * Math.cos(invR)\n\t      };\n\t    },\n\t        moveable = d3.drag().on('start', function () {\n\t      d3.event.sourceEvent.stopPropagation();\n\t      var _d3$mouse = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse2 = (0, _slicedToArray3.default)(_d3$mouse, 2);\n\t\n\t      startX = _d3$mouse2[0];\n\t      startY = _d3$mouse2[1];\n\t\n\t      currX = currY = undefined;\n\t    }).on('drag', function (d) {\n\t      var _d3$mouse3 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse4 = (0, _slicedToArray3.default)(_d3$mouse3, 2);\n\t\n\t      currX = _d3$mouse4[0];\n\t      currY = _d3$mouse4[1];\n\t\n\t      var _offset = offset(d),\n\t          dx = _offset.dx,\n\t          dy = _offset.dy;\n\t\n\t      d3.select(this).attr('transform', 'translate(' + dx + ', ' + dy + ')');\n\t    }).on('end', function (d) {\n\t      if (typeof currX === 'undefined') {\n\t        return;\n\t      }\n\t\n\t      var _offset2 = offset(d),\n\t          dx = _offset2.dx,\n\t          dy = _offset2.dy;\n\t\n\t      updateImage({\n\t        image: d,\n\t        x: d.x + (currX - startX) / pxPerRWU,\n\t        y: d.y - (currY - startY) / pxPerRWU\n\t      });\n\t    });\n\t\n\t    var scaleTransform = function scaleTransform(d) {\n\t      var pxCenter = { x: xScale(d.x), y: yScale(d.y) },\n\t          pxOrigin = {\n\t        x: pxCenter.x + (pxCenter.x - startX),\n\t        y: pxCenter.y + (pxCenter.y - startY)\n\t      },\n\t          startVec = {\n\t        x: startX - pxOrigin.x,\n\t        y: startY - pxOrigin.y\n\t      },\n\t          distCurrToOrigin = (0, _helpers.distanceBetweenPoints)({ x: currX, y: currY }, pxOrigin),\n\t          distStartToOrigin = (0, _helpers.distanceBetweenPoints)({ x: startX, y: startY }, pxOrigin),\n\t          currVec = {\n\t        x: distCurrToOrigin * startVec.x / distStartToOrigin,\n\t        y: distCurrToOrigin * startVec.y / distStartToOrigin\n\t      },\n\t          scale = distCurrToOrigin / distStartToOrigin,\n\t          translate = {\n\t        x: (currVec.x - startVec.x) / 2,\n\t        y: (currVec.y - startVec.y) / 2\n\t      },\n\t          transform = d3.zoomIdentity.translate(translate.x, translate.y).scale(scale);\n\t      return transform;\n\t    },\n\t        resizeable = d3.drag().on('start', function () {\n\t      d3.event.sourceEvent.stopPropagation();\n\t\n\t      var _d3$mouse5 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse6 = (0, _slicedToArray3.default)(_d3$mouse5, 2);\n\t\n\t      startX = _d3$mouse6[0];\n\t      startY = _d3$mouse6[1];\n\t\n\t      currX = currY = undefined;\n\t    }).on('drag', function (d) {\n\t      var _d3$mouse7 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse8 = (0, _slicedToArray3.default)(_d3$mouse7, 2);\n\t\n\t      currX = _d3$mouse8[0];\n\t      currY = _d3$mouse8[1];\n\t\n\t      d3.select(this.parentNode.parentNode).attr('transform', scaleTransform(d));\n\t    }).on('end', function (d) {\n\t      if (typeof currX === 'undefined') {\n\t        return;\n\t      }\n\t      var trans = scaleTransform(d);\n\t      updateImage({\n\t        image: d,\n\t        width: d.width * trans.k,\n\t        height: d.height * trans.k,\n\t        x: d.x + trans.x / pxPerRWU,\n\t        y: d.y - trans.y / pxPerRWU\n\t      });\n\t    });\n\t\n\t    var rotationAngle = function rotationAngle(d) {\n\t      var pxOrigin = { x: xScale(d.x), y: yScale(d.y) },\n\t          startAngle = (0, _helpers.edgeDirection)({ start: pxOrigin, end: { x: startX, y: startY } }),\n\t          currAngle = (0, _helpers.edgeDirection)({ start: pxOrigin, end: { x: currX, y: currY } });\n\t      return 180 * (currAngle - startAngle) / Math.PI + 180 * (xScale(d.x) > currX !== xScale(d.x) > startX);\n\t    },\n\t        rotateable = d3.drag().on('start', function () {\n\t      d3.event.sourceEvent.stopPropagation();\n\t\n\t      var _d3$mouse9 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse10 = (0, _slicedToArray3.default)(_d3$mouse9, 2);\n\t\n\t      startX = _d3$mouse10[0];\n\t      startY = _d3$mouse10[1];\n\t\n\t      currX = currY = undefined;\n\t    }).on('drag', function (d) {\n\t      var _d3$mouse11 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse12 = (0, _slicedToArray3.default)(_d3$mouse11, 2);\n\t\n\t      currX = _d3$mouse12[0];\n\t      currY = _d3$mouse12[1];\n\t\n\t      d3.select(this.parentNode.parentNode).attr('transform', 'rotate(' + rotationAngle(d) + ')');\n\t    }).on('end', function (d) {\n\t      if (typeof currX === 'undefined') {\n\t        return;\n\t      }\n\t      var rotation = rotationAngle(d);\n\t      updateImage({\n\t        image: d,\n\t        r: rotation + d.r\n\t      });\n\t    });\n\t\n\t    selection.exit().remove();\n\t    var imageGroupE = selection.enter().append('g').attr('class', 'image-group');\n\t    var moveableWrapperE = imageGroupE.append('g').attr('class', 'moveable-wrapper');\n\t    moveableWrapperE.append('image');\n\t    var controlsE = moveableWrapperE.append('g').attr('class', 'controls');\n\t    controlsE.append('line').attr('class', 'rotation-to-center');\n\t    controlsE.append('circle').attr('class', 'rotation-handle');\n\t    ['tl', 'tr', 'bl', 'br'].forEach(function (corner) {\n\t      return controlsE.append('circle').attr('class', 'corner ' + corner);\n\t    });\n\t\n\t    var imageGroup = selection.merge(imageGroupE);\n\t\n\t    imageGroup.attr('transform', function (d) {\n\t      return 'translate(' + xScale(d.x) + ', ' + yScale(d.y) + ') rotate(' + d.r + ')';\n\t    });\n\t\n\t    imageGroup.select('image').attr('x', function (d) {\n\t      return -1 * pxPerRWU * d.width / 2;\n\t    }).attr('y', function (d) {\n\t      return -1 * pxPerRWU * d.height / 2;\n\t    }).attr('width', function (d) {\n\t      return pxPerRWU * d.width;\n\t    }).attr('height', function (d) {\n\t      return pxPerRWU * d.height;\n\t    }).attr('opacity', function (d) {\n\t      return d.opacity;\n\t    }).attr('xlink:href', function (d) {\n\t      return d.src;\n\t    });\n\t\n\t    imageGroup.select('.moveable-wrapper').attr('transform', 'translate(0,0)').style('cursor', function (d) {\n\t      return d.current ? 'move' : d.clickable ? 'pointer' : null;\n\t    }).style('pointer-events', function (d) {\n\t      return d.current ? 'auto' : 'none';\n\t    });\n\t\n\t    imageGroup.select('.controls').attr('display', function (d) {\n\t      return d.current ? '' : 'none';\n\t    });\n\t\n\t    imageGroup.each(function (d) {\n\t      var ig = d3.select(this);\n\t      if (!d.clickable) {\n\t        ig.on('click', null);\n\t      } else {\n\t        ig.on('click', function (d) {\n\t          d3.event.stopPropagation();\n\t          selectImage(d);\n\t        });\n\t      }\n\t      if (!d.current) {\n\t        ig.select('.moveable-wrapper, .rotation-handle, .corner').on('.drag', null);\n\t      } else {\n\t        ig.select('.moveable-wrapper').call(moveable);\n\t\n\t        ig.select('.controls .center').attr('cx', 0).attr('cy', 0).attr('r', 3);\n\t\n\t        ig.select('.controls .rotation-handle').attr('cx', 0).attr('cy', pxPerRWU * d.height * 0.7).attr('r', 5).style('cursor', rotateCursor).call(rotateable);\n\t        ig.select('.controls .rotation-to-center').attr('x1', 0).attr('y1', pxPerRWU * d.height / 2).attr('x2', 0).attr('y2', pxPerRWU * d.height * 0.7 - 5);\n\t        _lodash2.default.forIn({ tl: [-1, -1], tr: [1, -1], bl: [-1, 1], br: [1, 1] }, function (_ref3, label) {\n\t          var _ref4 = (0, _slicedToArray3.default)(_ref3, 2),\n\t              xOff = _ref4[0],\n\t              yOff = _ref4[1];\n\t\n\t          ig.select('.controls .' + label).attr('cx', xOff * pxPerRWU * d.width / 2).attr('cy', yOff * pxPerRWU * d.height / 2).attr('r', 5).style('cursor', bestResizeCursor(xOff, yOff, d.r)).call(resizeable);\n\t        });\n\t      }\n\t    });\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  chart.updateImage = function (_) {\n\t    if (!arguments.length) return updateImage;\n\t    updateImage = _;\n\t    return chart;\n\t  };\n\t  chart.selectImage = function (_) {\n\t    if (!arguments.length) return selectImage;\n\t    selectImage = _;\n\t    return chart;\n\t  };\n\t  return chart;\n\t}\n\t\n\tfunction drawWall() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity;\n\t  var line = d3.line().x(function (d) {\n\t    return xScale(d.x);\n\t  }).y(function (d) {\n\t    return yScale(d.y);\n\t  });\n\t  function chart(selection) {\n\t    selection.exit().remove();\n\t    var wallE = selection.enter().append('path').attr('class', 'wall');\n\t\n\t    var wall = selection.merge(wallE);\n\t\n\t    wall.attr('d', function (d) {\n\t      return line([d.start, d.end]);\n\t    }).attr('class', function (d) {\n\t      return 'wall ' + (d.interior ? 'interior' : 'exterior');\n\t    }).attr('data-edge-id', function (d) {\n\t      return d.id;\n\t    });\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  return chart;\n\t}\n\t\n\tfunction drawMethods(_ref5) {\n\t  var xScale = _ref5.xScale,\n\t      yScale = _ref5.yScale,\n\t      updateImage = _ref5.updateImage,\n\t      selectImage = _ref5.selectImage;\n\t\n\t\n\t  return {\n\t    drawWindow: drawWindow().xScale(xScale).yScale(yScale),\n\t    drawWindowGuideline: drawWindowGuideline().xScale(xScale).yScale(yScale),\n\t    drawDaylightingControl: drawDaylightingControl().xScale(xScale).yScale(yScale),\n\t    drawDaylightingControlGuideline: drawDaylightingControlGuideline().xScale(xScale).yScale(yScale),\n\t    drawImage: drawImage().xScale(xScale).yScale(yScale).updateImage(updateImage).selectImage(selectImage),\n\t    drawWall: drawWall().xScale(xScale).yScale(yScale)\n\t  };\n\t}\n\n/***/ }),\n/* 283 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(42);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _slicedToArray2 = __webpack_require__(53);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _defineProperty2 = __webpack_require__(70);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _d = __webpack_require__(78);\n\t\n\tvar d3 = _interopRequireWildcard(_d);\n\t\n\tvar _polylabel = __webpack_require__(630);\n\t\n\tvar _polylabel2 = _interopRequireDefault(_polylabel);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _snapping = __webpack_require__(122);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(46);\n\t\n\tvar _helpers4 = _interopRequireDefault(_helpers3);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ticksInRange(start, stop, spacing) {\n\t  return _lodash2.default.range(Math.ceil(start / spacing) * spacing, stop, spacing);\n\t}\n\t\n\tfunction transformDiff(t1, t2) {\n\t  return new d3.zoomIdentity.constructor(t2.k / t1.k, (t2.x / t2.k - t1.x / t1.k) * t2.k, (t2.y / t2.k - t1.y / t1.k) * t2.k);\n\t}\n\t\n\texports.default = {\n\t  gridClicked: function gridClicked() {\n\t    if (this.currentTool === 'Eraser' || (this.currentTool === 'Rectangle' || this.currentTool === 'Polygon') && (this.currentSpace || this.currentShading)) {\n\t      this.addPoint();\n\t    }\n\t    if (this.currentTool === 'Place Component') {\n\t      this.placeOrSelectComponent();\n\t    }\n\t    if (this.currentTool === 'Image') {\n\t      this.deselectImages();\n\t    }\n\t    if (this.currentTool === 'Apply Property') {\n\t      this.assignProperty();\n\t    }\n\t  },\n\t  assignProperty: function assignProperty() {\n\t    var _this = this;\n\t\n\t    if (!this.currentSpaceProperty) {\n\t      return;\n\t    }\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        rwuPoint = this.gridPointToRWU(gridPoint),\n\t        space = this.currentStory.spaces.find(function (sp) {\n\t      var face = _lodash2.default.find(_this.denormalizedGeometry.faces, { id: sp.face_id });\n\t      if (!face) {\n\t        return false;\n\t      }\n\t      return _helpers2.default.pointInFace(rwuPoint, face.vertices);\n\t    });\n\t    if (!space) {\n\t      return;\n\t    }\n\t    this.$store.dispatch('models/updateSpaceWithData', (0, _defineProperty3.default)({\n\t      space: space\n\t    }, this.spacePropertyKey, this.currentSpaceProperty.id));\n\t  },\n\t  deselectImages: function deselectImages() {\n\t    this.$store.dispatch('application/setCurrentSubSelectionId', this.currentStory.spaces[0]);\n\t  },\n\t  componentToSelect: function componentToSelect() {\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        rwuPoint = this.gridPointToRWU(gridPoint),\n\t        component = _lodash2.default.minBy(this.currentComponentTypeLocs(rwuPoint), function (ci) {\n\t      return (0, _helpers.distanceBetweenPoints)(ci, rwuPoint);\n\t    }),\n\t        distToComp = component && (0, _helpers.distanceBetweenPoints)(component, rwuPoint);\n\t    if (!component || distToComp > this.spacing / 2) {\n\t      return null;\n\t    }\n\t    return component;\n\t  },\n\t  handleKeyDown: function handleKeyDown(e) {\n\t    if ((e.keyCode === 8 || e.keyCode === 46) && !_lodash2.default.includes(['input', 'textarea'], document.activeElement.tagName.toLowerCase())) {\n\t      this.deleteElement();\n\t    }\n\t  },\n\t  deleteElement: function deleteElement() {\n\t    if (this.modeTab === 'components') {\n\t      this.removeSelectedComponent();\n\t    }\n\t  },\n\t  removeSelectedComponent: function removeSelectedComponent() {\n\t    var component = this.currentComponentInstance;\n\t    if (!component) {\n\t      return;\n\t    }\n\t    var payload = { story_id: this.currentStory.id, object: { id: component.id } };\n\t    if (component.type === 'windows') {\n\t      this.$store.dispatch('models/destroyWindow', payload);\n\t    } else if (component.type === 'daylighting_controls') {\n\t      this.$store.dispatch('models/destroyDaylightingControl', payload);\n\t    } else if (component.type === 'doors') {\n\t      this.$store.dispatch('models/destroyDoor', payload);\n\t    } else {\n\t      console.error('unrecognized component to remove: ' + component);\n\t    }\n\t  },\n\t  placeOrSelectComponent: function placeOrSelectComponent() {\n\t    var toSelect = d3.event.shiftKey ? false : this.componentToSelect();\n\t    if (toSelect) {\n\t      this.currentComponentInstanceId = toSelect.id;\n\t      return;\n\t    }\n\t\n\t    if (this.currentComponentType === 'daylighting_control_definitions') {\n\t      this.placeDaylightingControl();\n\t    } else if (this.currentComponentType === 'window_definitions' || this.currentComponentType === 'door_definitions') {\n\t      this.placeWindowOrDoor();\n\t    } else {\n\t      throw new Error('unrecognized componentType: ' + this.currentComponentType);\n\t    }\n\t  },\n\t  highlightComponentToSelect: function highlightComponentToSelect() {\n\t    if (d3.event.shiftKey) {\n\t      return null;\n\t    }\n\t    var component = this.componentToSelect();\n\t    this.componentFacingSelection = component && component.id;\n\t    if (!component) {} else if (component.type === 'windows' || component.type === 'doors') {\n\t      this.highlightWindowGuideline(component);\n\t    } else if (component.type === 'daylighting_controls') {\n\t      this.highlightDaylightingControlGuideline(component);\n\t    } else {\n\t      throw new Error('unrecognized componentType: ' + this.currentComponentType);\n\t    }\n\t    return component;\n\t  },\n\t  placeWindowOrDoor: function placeWindowOrDoor() {\n\t    var _payload;\n\t\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        rwuPoint = this.gridPointToRWU(gridPoint),\n\t        loc = (0, _snapping.snapWindowToEdge)(this.snapMode, this.spaceEdges, rwuPoint, this.currentComponentDefinition, this.spacing * 2, this.spacing),\n\t        windowOrDoor = this.currentComponentType === 'window_definitions' ? 'Window' : 'Door';\n\t\n\t    if (!loc) {\n\t      return;\n\t    }\n\t\n\t    var payload = (_payload = {\n\t      story_id: this.currentStory.id,\n\t      edge_id: loc.edge_id\n\t    }, (0, _defineProperty3.default)(_payload, windowOrDoor.toLowerCase() + '_definition_id', this.currentComponentDefinition.id), (0, _defineProperty3.default)(_payload, 'alpha', loc.alpha), _payload);\n\t    this.$store.dispatch('models/create' + windowOrDoor, payload);\n\t  },\n\t  raiseOrLowerImages: function raiseOrLowerImages() {\n\t    if (this.currentTool === 'Image') {\n\t      d3.select('#grid svg .images').raise();\n\t    } else {\n\t      d3.select('#grid svg .images').lower();\n\t    }\n\t  },\n\t  placeDaylightingControl: function placeDaylightingControl() {\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        rwuPoint = {\n\t      x: this.gridToRWU(gridPoint.x, 'x'),\n\t      y: this.gridToRWU(gridPoint.y, 'y')\n\t    },\n\t        loc = (0, _snapping.snapToVertexWithinFace)(this.snapMode, this.spaceFaces, rwuPoint, this.spacing);\n\t\n\t    if (!loc) {\n\t      return;\n\t    }\n\t\n\t    var payload = (0, _extends3.default)({\n\t      story_id: this.currentStory.id,\n\t      face_id: loc.face_id,\n\t      daylighting_control_definition_id: this.currentComponentDefinition.id\n\t    }, loc);\n\t    this.$store.dispatch('models/createDaylightingControl', payload);\n\t  },\n\t  addPoint: function addPoint() {\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        snapTarget = this.findSnapTarget(gridPoint);\n\t\n\t    if (snapTarget.type === 'vertex' && snapTarget.origin && this.currentTool === 'Polygon') {\n\t      this.savePolygonFace();\n\t      return;\n\t    }\n\t\n\t    var newPoint = snapTarget.type === 'edge' ? snapTarget.projection : snapTarget;\n\t    this.points.push(newPoint);\n\t    this.drawPoints();\n\t\n\t    if (this.currentTool === 'Eraser' && this.points.length === 2) {\n\t      this.eraseRectangularSelection();\n\t    }\n\t    if (this.currentTool === 'Rectangle' && this.points.length === 2) {\n\t      this.saveRectangularFace();\n\t    }\n\t  },\n\t  highlightSnapTarget: function highlightSnapTarget(e) {\n\t    if (!(this.currentTool === 'Eraser' || this.currentTool === 'Place Component' && this.currentComponentDefinition || (this.currentTool === 'Rectangle' || this.currentTool === 'Polygon') && (this.currentSpace || this.currentShading))) {\n\t      return;\n\t    }\n\t\n\t    this.clearHighlights();\n\t\n\t    var gridPoint = void 0;\n\t    if (d3.event instanceof MouseEvent) {\n\t      var gridCoords = d3.mouse(this.$refs.grid);\n\t      gridPoint = { x: gridCoords[0], y: gridCoords[1] };\n\t    } else {\n\t      gridPoint = this.lastMousePosition;\n\t    }\n\t    if (!gridPoint) {\n\t      return;\n\t    }\n\t\n\t    if (this.currentTool === 'Place Component') {\n\t      this.highlightComponentToPlaceOrSelect(gridPoint);\n\t      return;\n\t    }\n\t\n\t    var snapTarget = this.findSnapTarget(gridPoint);\n\t\n\t    var guidePoint = snapTarget.type === 'edge' ? snapTarget.projection : snapTarget;\n\t\n\t    var ellipsePoint = snapTarget.synthetic ? snapTarget.originalPt : guidePoint;\n\t    this.drawGuideLines(e, guidePoint);\n\t\n\t    if (snapTarget.type === 'vertex') {\n\t      d3.select('#grid svg').append('ellipse').attr('cx', this.rwuToGrid(ellipsePoint.x, 'x')).attr('cy', this.rwuToGrid(ellipsePoint.y, 'y')).attr('rx', 5).attr('ry', 5).classed('highlight', true).attr('data-transform-plz', '').attr('vector-effect', 'non-scaling-stroke');\n\t    } else {\n\t      d3.select('#grid svg').append('ellipse').attr('cx', this.rwuToGrid(ellipsePoint.x, 'x')).attr('cy', this.rwuToGrid(ellipsePoint.y, 'y')).attr('rx', 3).attr('ry', 3).classed('gridpoint', true).attr('data-transform-plz', '').attr('vector-effect', 'non-scaling-stroke');\n\t    }\n\t\n\t    if (snapTarget.type === 'edge' && this.currentTool !== 'Eraser') {\n\t      d3.select('#grid svg').append('line').attr('x1', this.rwuToGrid(snapTarget.v1GridCoords.x, 'x')).attr('y1', this.rwuToGrid(snapTarget.v1GridCoords.y, 'y')).attr('x2', this.rwuToGrid(snapTarget.v2GridCoords.x, 'x')).attr('y2', this.rwuToGrid(snapTarget.v2GridCoords.y, 'y')).attr('stroke-width', 1).classed('highlight', true).attr('data-transform-plz', '').attr('vector-effect', 'non-scaling-stroke');\n\t    }\n\t\n\t    this.lastMousePosition = gridPoint;\n\t  },\n\t  clearHighlights: function clearHighlights() {\n\t    d3.selectAll('#grid .highlight, #grid .gridpoint, #grid .guideline').remove();\n\t    this.componentFacingSelection = null;\n\t  },\n\t  clearComponentHighlights: function clearComponentHighlights() {\n\t    d3.selectAll('#grid .highlight, #grid .component-guideline').remove();\n\t    this.componentFacingSelection = null;\n\t  },\n\t  highlightComponentToPlaceOrSelect: function highlightComponentToPlaceOrSelect(gridPoint) {\n\t    if (this.highlightComponentToSelect()) {\n\t      return;\n\t    }\n\t\n\t    this.highlightComponentToPlace(gridPoint);\n\t  },\n\t  highlightComponentToPlace: function highlightComponentToPlace(gridPoint) {\n\t    if (this.currentComponentType === 'window_definitions') {\n\t      this.highlightWindow(gridPoint);\n\t    } else if (this.currentComponentType === 'daylighting_control_definitions') {\n\t      this.highlightDaylightingControl(gridPoint);\n\t    } else if (this.currentComponentType === 'door_definitions') {\n\t      this.highlightDoor(gridPoint);\n\t    } else {\n\t      throw new Error('unrecognized componentType: ' + this.currentComponentType);\n\t    }\n\t  },\n\t  highlightWindow: function highlightWindow(gridPoint) {\n\t    var rwuPoint = this.gridPointToRWU(gridPoint),\n\t        loc = (0, _snapping.snapWindowToEdge)(this.snapMode, this.spaceEdges, rwuPoint, this.currentComponentDefinition, this.spacing * 2, this.spacing);\n\t\n\t    if (!loc) {\n\t      return;\n\t    }\n\t\n\t    if (this.currentComponentDefinition.window_definition_mode !== 'Single Window' && _lodash2.default.filter(this.windowCenterLocs(rwuPoint), { edge_id: loc.edge_id }).filter(function (w) {\n\t      return w.window_definition_mode !== 'Single Window';\n\t    }).length) {\n\t      return;\n\t    }\n\t    d3.select('#grid svg').append('g').classed('highlight', true).selectAll('.window').data([(0, _extends3.default)({}, loc, {\n\t      window_definition_mode: this.currentComponentDefinition.window_definition_mode,\n\t      width: this.currentComponentDefinition.width,\n\t      spacing: this.currentComponentDefinition.window_spacing,\n\t      texture: this.currentComponentDefinition.texture\n\t    })]).call(this.drawWindow);\n\t    this.highlightWindowGuideline(loc);\n\t  },\n\t  highlightDoor: function highlightDoor(gridPoint) {\n\t    var rwuPoint = this.gridPointToRWU(gridPoint),\n\t        loc = (0, _snapping.snapWindowToEdge)(this.snapMode, this.spaceEdges, rwuPoint, this.currentComponentDefinition, this.spacing * 2, this.spacing);\n\t\n\t    if (!loc) {\n\t      return;\n\t    }\n\t\n\t    d3.select('#grid svg').append('g').classed('highlight', true).selectAll('.window').data([(0, _extends3.default)({}, loc, {\n\t      window_definition_mode: null,\n\t      windowOrDoor: 'door',\n\t      width: this.currentComponentDefinition.width,\n\t      texture: this.currentComponentDefinition.texture\n\t    })]).call(this.drawWindow);\n\t    this.highlightWindowGuideline(loc);\n\t  },\n\t  highlightWindowGuideline: function highlightWindowGuideline(loc) {\n\t    d3.select('#grid svg').append('g').classed('guideline', true).selectAll('.window-guideline').data([loc]).call(this.drawWindowGuideline);\n\t  },\n\t  highlightDaylightingControl: function highlightDaylightingControl(gridPoint) {\n\t    var rwuPoint = this.gridPointToRWU(gridPoint),\n\t        loc = (0, _snapping.snapToVertexWithinFace)(this.snapMode, this.spaceFaces, rwuPoint, this.spacing);\n\t    if (!loc) {\n\t      return;\n\t    }\n\t    d3.select('#grid svg').append('g').classed('highlight', true).selectAll('.daylighting-control').data([loc]).call(this.drawDaylightingControl);\n\t\n\t    this.highlightDaylightingControlGuideline(loc);\n\t  },\n\t  highlightDaylightingControlGuideline: function highlightDaylightingControlGuideline(loc) {\n\t    var face = _lodash2.default.find(this.denormalizedGeometry.faces, { id: loc.face_id }),\n\t        windows = this.windowsOnFace(face),\n\t        nearestEdge = (0, _snapping.findClosestWindow)(windows, loc) || (0, _snapping.findClosestEdge)(face.edges, loc);\n\t    d3.select('#grid svg').append('g').classed('guideline', true).selectAll('.daylighting-control-guideline').data([{ loc: loc, nearestEdge: nearestEdge }]).call(this.drawDaylightingControlGuideline);\n\t  },\n\t  drawGuideLines: function drawGuideLines(e, guidePoint) {\n\t    var _this2 = this;\n\t\n\t    if (!this.points.length) {\n\t      return;\n\t    }\n\t\n\t    this.eraseGuidelines();\n\t\n\t    var guidelinePoints = void 0,\n\t        guidelinePaths = void 0;\n\t\n\t    if (this.currentTool === 'Polygon') {\n\t      guidelinePoints = [guidePoint, this.points[this.points.length - 1]];\n\t      guidelinePaths = [guidelinePoints];\n\t    } else if (this.currentTool === 'Rectangle' || this.currentTool === 'Eraser') {\n\t      guidelinePoints = [this.points[0], { x: guidePoint.x, y: this.points[0].y }, guidePoint, { x: this.points[0].x, y: guidePoint.y }, this.points[0]];\n\t\n\t      guidelinePaths = [[guidelinePoints[0], guidelinePoints[1]], [guidelinePoints[1], guidelinePoints[2]]];\n\t    }\n\t\n\t    var guidelineArea = this.currentTool === 'Polygon' ? [].concat((0, _toConsumableArray3.default)(this.points), [guidePoint, this.points[0]]) : guidelinePoints,\n\t        guidelinePolys = [guidelineArea, this.points],\n\t        svg = d3.select('#grid svg');\n\t\n\t    svg.selectAll('.guideline-line').append('path').datum(guidelinePoints).attr('fill', 'none').classed('guideline guideline-line', true).attr('vector-effect', 'non-scaling-stroke').attr('data-transform-plz', '').attr('d', d3.line().x(function (d) {\n\t      return _this2.rwuToGrid(d.x, 'x');\n\t    }).y(function (d) {\n\t      return _this2.rwuToGrid(d.y, 'y');\n\t    })).lower();\n\t\n\t    svg.selectAll('.guideline-area').data(guidelinePolys).enter().append('polygon').attr('points', function (d) {\n\t      return d.map(function (p) {\n\t        return [_this2.rwuToGrid(p.x, 'x'), _this2.rwuToGrid(p.y, 'y')].join(',');\n\t      }).join(' ');\n\t    }).classed('guideline guideline-area guideLine', true).attr('vector-effect', 'non-scaling-stroke').attr('data-transform-plz', '').attr('fill', function () {\n\t      if (_this2.currentTool === 'Eraser') {\n\t        return 'none';\n\t      }\n\t      if (_this2.currentSpace) {\n\t        return _this2.currentSpace.color;\n\t      }\n\t      if (_this2.currentShading) {\n\t        return _this2.currentShading.color;\n\t      }\n\t      return null;\n\t    });\n\t\n\t    if (this.currentTool === 'Eraser') {\n\t      return;\n\t    }\n\t\n\t    svg.selectAll('.guideline-text').data(guidelinePaths).enter().append('text').attr('x', function (d) {\n\t      return _this2.rwuToGrid(d[0].x, 'x') + (_this2.rwuToGrid(d[1].x, 'x') - _this2.rwuToGrid(d[0].x, 'x')) / 2;\n\t    }).attr('y', function (d) {\n\t      return _this2.rwuToGrid(d[0].y, 'y') + (_this2.rwuToGrid(d[1].y, 'y') - _this2.rwuToGrid(d[0].y, 'y')) / 2;\n\t    }).attr('dx', -1.25 * (this.transform.k > 1 ? 1 : this.transform.k) + 'em').attr('data-transform-plz', '').text(function (d) {\n\t      var dist = _this2.distanceBetweenPoints(d[0], d[1]);\n\t      return dist ? dist.toFixed(2) : '';\n\t    }).classed('guideline guideline-text guideline-dist', true).attr('font-family', 'sans-serif').attr('fill', 'red').style('font-size', '1em');\n\t\n\t    if (guidelineArea.length > 3) {\n\t      var areaPoints = guidelineArea.map(function (p) {\n\t        var x = p.x,\n\t            y = p.y;\n\t        return { x: x, y: y, X: x, Y: y };\n\t      }),\n\t          _polygonLabelPosition = this.polygonLabelPosition(areaPoints),\n\t          x = _polygonLabelPosition.x,\n\t          y = _polygonLabelPosition.y,\n\t          area = _polygonLabelPosition.area,\n\t          areaTextNoUnits = area ? area.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,') : '',\n\t          areaText = areaTextNoUnits + ' ' + (this.units === 'ip' ? 'ft' : 'm') + '\\xB2';\n\t\n\t\n\t      if (x === null || y === null) {\n\t        return;\n\t      }\n\t\n\t      svg.append('text').attr('x', this.rwuToGrid(x, 'x')).attr('y', this.rwuToGrid(y, 'y')).text(areaText).classed('guideline guideline-text guideline-area-text guideLine', true).attr('data-transform-plz', '').attr('text-anchor', 'middle').attr('font-family', 'sans-serif').attr('fill', 'red').style('font-size', '1em').raise();\n\t    }\n\t\n\t    d3.selectAll('.vertical, .horizontal').lower();\n\t  },\n\t  eraseGuidelines: function eraseGuidelines() {\n\t    d3.selectAll('#grid .guideline').remove();\n\t  },\n\t  escapeAction: function escapeAction(e) {\n\t    if (e.code === 'Escape' || e.which === 27) {\n\t      this.points = [];\n\t      this.clearHighlights();\n\t      d3.selectAll('#grid .point-path').remove();\n\t    }\n\t  },\n\t  savePolygonFace: function savePolygonFace() {\n\t    this.clearHighlights();\n\t    d3.selectAll('#grid .point-path').remove();\n\t\n\t    var payload = {\n\t      points: [].concat((0, _toConsumableArray3.default)(this.points))\n\t    };\n\t\n\t    if (this.currentSpace) {\n\t      payload.model_id = this.currentSpace.id;\n\t    } else if (this.currentShading) {\n\t      payload.model_id = this.currentShading.id;\n\t    }\n\t\n\t    this.$store.dispatch('geometry/createFaceFromPoints', payload);\n\t\n\t    this.points = [];\n\t  },\n\t  saveRectangularFace: function saveRectangularFace() {\n\t    this.clearHighlights();\n\t    d3.selectAll('#grid .point-path').remove();\n\t\n\t    var payload = {};\n\t\n\t    payload.points = [this.points[0], { x: this.points[1].x, y: this.points[0].y }, this.points[1], { x: this.points[0].x, y: this.points[1].y }];\n\t\n\t    if (this.currentSpace) {\n\t      payload.model_id = this.currentSpace.id;\n\t    } else if (this.currentShading) {\n\t      payload.model_id = this.currentShading.id;\n\t    }\n\t    this.$store.dispatch('geometry/createFaceFromPoints', payload);\n\t\n\t    this.points = [];\n\t  },\n\t  eraseRectangularSelection: function eraseRectangularSelection() {\n\t    this.clearHighlights();\n\t    d3.selectAll('#grid .point-path').remove();\n\t\n\t    var payload = {\n\t      points: [this.points[0], { x: this.points[1].x, y: this.points[0].y }, this.points[1], { x: this.points[0].x, y: this.points[1].y }]\n\t    };\n\t\n\t    this.$store.dispatch('geometry/eraseSelection', payload);\n\t\n\t    this.points = [];\n\t  },\n\t  drawPoints: function drawPoints() {\n\t    var _this3 = this;\n\t\n\t    d3.selectAll('#grid .point-path').remove();\n\t\n\t    var pointPath = d3.select('#grid svg').selectAll('ellipse.point-path').data(this.points);\n\t\n\t    pointPath.merge(pointPath.enter().append('ellipse').attr('class', 'point-path')).classed('origin', function (d, ix) {\n\t      return ix === 0;\n\t    }).attr('data-transform-plz', '').attr('cx', function (d) {\n\t      return _this3.rwuToGrid(d.x, 'x');\n\t    }).attr('cy', function (d) {\n\t      return _this3.rwuToGrid(d.y, 'y');\n\t    }).attr('rx', function (d, ix) {\n\t      return ix === 0 ? 7 : 2;\n\t    }).attr('ry', function (d, ix) {\n\t      return ix === 0 ? 7 : 2;\n\t    }).attr('vector-effect', 'non-scaling-stroke').attr('fill', function (d, ix) {\n\t      return ix === 0 ? 'none' : '';\n\t    });\n\t\n\t    d3.select('#grid svg').append('path').attr('class', 'point-path').datum(this.points).attr('fill', 'none').attr('vector-effect', 'non-scaling-stroke').attr('data-transform-plz', '').attr('d', d3.line().x(function (d) {\n\t      return _this3.rwuToGrid(d.x, 'x');\n\t    }).y(function (d) {\n\t      return _this3.rwuToGrid(d.y, 'y');\n\t    })).lower();\n\t\n\t    d3.selectAll('.vertical, .horizontal').lower();\n\t  },\n\t  registerDrag: function registerDrag() {\n\t    var polygons = d3.select('#grid svg').selectAll('polygon');\n\t\n\t    this.deregisterD3Events(polygons);\n\t    if (this.currentTool === 'Select') {\n\t      this.registerSelectEvents(polygons);\n\t    } else if (this.currentTool === 'Fill') {\n\t      this.registerFillEvents(polygons);\n\t    }\n\t  },\n\t  deregisterD3Events: function deregisterD3Events(polygons) {\n\t    polygons.on('.drag', null).on('click', null);\n\t  },\n\t  registerFillEvents: function registerFillEvents(polygons) {\n\t    var _this4 = this;\n\t\n\t    polygons.on('click', function (d) {\n\t      if (_this4.currentSpace || _this4.currentShading) {\n\t        _this4.points = [].concat((0, _toConsumableArray3.default)(d.points));\n\t        _this4.savePolygonFace();\n\t      }\n\t    });\n\t  },\n\t  registerSelectEvents: function registerSelectEvents(polygons) {\n\t    var _this5 = this;\n\t\n\t    var startX = void 0,\n\t        startY = void 0;\n\t\n\t    var drag = d3.drag().on('start', function (d) {\n\t      var _d3$mouse = d3.mouse(_this5.$refs.grid);\n\t\n\t      var _d3$mouse2 = (0, _slicedToArray3.default)(_d3$mouse, 2);\n\t\n\t      startX = _d3$mouse2[0];\n\t      startY = _d3$mouse2[1];\n\t\n\t      if (d.previous_story) {\n\t        return;\n\t      }\n\t\n\t      _this5.currentSubSelection = _helpers4.default.modelForFace(_this5.$store.state.models, d.face_id);\n\t    }).on('drag', function (d) {\n\t      if (d.previous_story) {\n\t        return;\n\t      }\n\t\n\t      var _d3$mouse3 = d3.mouse(_this5.$refs.grid),\n\t          _d3$mouse4 = (0, _slicedToArray3.default)(_d3$mouse3, 2),\n\t          currX = _d3$mouse4[0],\n\t          currY = _d3$mouse4[1];\n\t\n\t      d3.select('#poly-' + d.face_id).attr('transform', function () {\n\t        return 'translate(' + (currX - startX) + ', ' + (currY - startY) + ')';\n\t      });\n\t    }).on('end', function (d) {\n\t      if (d.previous_story) {\n\t        return;\n\t      }\n\t\n\t      var _d3$mouse5 = d3.mouse(_this5.$refs.grid),\n\t          _d3$mouse6 = (0, _slicedToArray3.default)(_d3$mouse5, 2),\n\t          endX = _d3$mouse6[0],\n\t          endY = _d3$mouse6[1];\n\t\n\t      _this5.$store.dispatch('geometry/moveFaceByOffset', {\n\t        face_id: d.face_id,\n\t        dx: _this5.gridToRWU(endX, 'x') - _this5.gridToRWU(startX, 'x'),\n\t        dy: _this5.gridToRWU(endY, 'y') - _this5.gridToRWU(startY, 'y')\n\t      });\n\t    });\n\t    polygons.call(drag);\n\t  },\n\t  drawPolygons: function drawPolygons() {\n\t    var _this6 = this;\n\t\n\t    this.recalcScales();\n\t\n\t    var poly = d3.select('#grid svg .polygons').selectAll('g.poly').data(this.polygons, function (d) {\n\t      return d.face_id;\n\t    });\n\t\n\t    poly.exit().remove();\n\t    var polyEnter = poly.enter().append('g').attr('class', 'poly');\n\t    polyEnter.append('polygon');\n\t    polyEnter.append('text').attr('class', 'polygon-text');\n\t    polyEnter.append('g').attr('class', 'windows');\n\t    polyEnter.append('g').attr('class', 'doors');\n\t    polyEnter.append('g').attr('class', 'daylighting-controls');\n\t\n\t    poly = polyEnter.merge(poly).classed('current', function (d) {\n\t      return d.current;\n\t    }).classed('previousStory', function (d) {\n\t      return d.previous_story;\n\t    }).classed('poly', true).attr('data-model-type', function (d) {\n\t      return d.modelType;\n\t    }).attr('id', function (p) {\n\t      return 'poly-' + p.face_id;\n\t    }).attr('transform', null);\n\t\n\t    poly.select('polygon').attr('id', function (d) {\n\t      return 'face-' + d.face_id;\n\t    }).attr('points', function (d) {\n\t      return d.points.map(function (p) {\n\t        return [_this6.rwuToGrid(p.x, 'x'), _this6.rwuToGrid(p.y, 'y')].join(',');\n\t      }).join(' ');\n\t    }).attr('fill', function (d) {\n\t      return d.color;\n\t    }).attr('vector-effect', 'non-scaling-stroke');\n\t\n\t    poly.select('text').attr('id', function (p) {\n\t      return 'text-' + p.face_id;\n\t    }).attr('x', function (p) {\n\t      return _this6.rwuToGrid(p.labelPosition.x, 'x');\n\t    }).attr('y', function (p) {\n\t      return _this6.rwuToGrid(p.labelPosition.y, 'y');\n\t    }).text(function (p) {\n\t      return p.name;\n\t    }).attr('text-anchor', 'middle').style('font-size', '14px').style('font-weight', 'bold').attr('font-family', 'sans-serif').attr('fill', 'red').classed('polygon-text', true);\n\t\n\t    poly.select('.windows').selectAll('.window').data(function (d) {\n\t      return d.windows;\n\t    }).call(this.drawWindow);\n\t\n\t    poly.select('.doors').selectAll('.window').data(function (d) {\n\t      return d.doors;\n\t    }).call(this.drawWindow);\n\t\n\t    poly.select('.daylighting-controls').selectAll('.daylighting-control').data(function (d) {\n\t      return d.daylighting_controls;\n\t    }).call(this.drawDaylightingControl);\n\t\n\t    this.registerDrag();\n\t\n\t    poly.order();\n\t  },\n\t  drawWalls: function drawWalls() {\n\t    d3.select('#grid svg .walls').selectAll('.wall').data(this.walls, function (d) {\n\t      return d.id;\n\t    }).call(this.drawWall);\n\t  },\n\t  drawImages: function drawImages() {\n\t    d3.select('#grid svg .images').selectAll('.image-group').data(this.images, function (d) {\n\t      return d.id;\n\t    }).call(this.drawImage);\n\t  },\n\t  draw: function draw() {\n\t    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t        zoomEnd = _ref.zoomEnd;\n\t\n\t    this.transformAtLastRender = (0, _extends3.default)({}, this.transform);\n\t    d3.selectAll('[data-transform-plz]').attr('transform', '');\n\t\n\t    this.drawPolygons();\n\t    this.drawWalls();\n\t    this.drawImages();\n\t    this.raiseOrLowerImages();\n\t\n\t    var redrawPoints = zoomEnd && this.points.length > 0;\n\t    if (redrawPoints) {\n\t      this.highlightSnapTarget();\n\t      this.drawPoints();\n\t    }\n\t  },\n\t  findSnapTarget: function findSnapTarget(gridPoint) {\n\t    var _this7 = this;\n\t\n\t    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t    var snapOnlyToEdges = options.edge_component;\n\t\n\t    var rwuPoint = {\n\t      x: this.gridToRWU(gridPoint.x, 'x'),\n\t      y: this.gridToRWU(gridPoint.y, 'y')\n\t    };\n\t    if (this.snapMode === 'grid-strict') {\n\t      return this.strictSnapTargets(rwuPoint)[0];\n\t    }\n\t\n\t    if (this.snapMode === 'grid-verts-edges') {\n\t      var realPoint = this.gridPointToRWU(gridPoint);\n\t      var targets = [].concat((0, _toConsumableArray3.default)((0, _snapping.vertexSnapTargets)(this.currentStoryGeometry.vertices, this.spacing, realPoint)), (0, _toConsumableArray3.default)(this.snappingEdgeData(realPoint)), (0, _toConsumableArray3.default)((0, _snapping.gridSnapTargets)(this.spacing, realPoint)), (0, _toConsumableArray3.default)(this.polygonOriginPoint())).map(function (target) {\n\t        var penaltyFactor = target.type === 'edge' ? 1.4 : 1.0;\n\t        return (0, _extends3.default)({}, target, {\n\t          dist: penaltyFactor * (0, _helpers.distanceBetweenPoints)(target, realPoint),\n\t          dx: realPoint.x - target.x,\n\t          dy: realPoint.y - target.y\n\t        });\n\t      });\n\t\n\t      var orderedTargets = _lodash2.default.orderBy(targets, ['dist', 'origin', 'type'], ['asc', 'asc', 'desc']);\n\t      return orderedTargets[0] || (0, _extends3.default)({\n\t        type: 'gridpoint'\n\t      }, realPoint);\n\t    }\n\t\n\t    if (snapOnlyToEdges) {\n\t      var _snappingEdge = this.snappingEdgeData(rwuPoint);\n\t      return _snappingEdge[0] || (0, _extends3.default)({\n\t        type: 'gridpoint'\n\t      }, rwuPoint);\n\t    }\n\t\n\t    var snappingVertex = this.snappingVertexData(rwuPoint);\n\t    if (snappingVertex) {\n\t      return snappingVertex;\n\t    }\n\t\n\t    var snappingEdge = this.snappingEdgeData(rwuPoint);\n\t    if (snappingEdge.length > 0) {\n\t      return snappingEdge[0];\n\t    }\n\t\n\t    if (this.gridVisible) {\n\t      var xTickSpacing = this.rwuToGrid(this.spacing + this.min_x, 'x'),\n\t          yTickSpacing = this.rwuToGrid(this.max_y - this.spacing, 'y');\n\t      var snapTarget = {\n\t        type: 'gridpoint',\n\t        x: this.round(gridPoint.x, xTickSpacing) - 0.5,\n\t        y: this.round(gridPoint.y, yTickSpacing) - 0.5\n\t      };\n\t\n\t      snapTarget.x = Math.abs(gridPoint.x - (snapTarget.x - xTickSpacing)) > Math.abs(gridPoint.x - snapTarget.x) ? snapTarget.x : snapTarget.x - xTickSpacing;\n\t      snapTarget.y = Math.abs(gridPoint.y - (snapTarget.y - yTickSpacing)) > Math.abs(gridPoint.y - snapTarget.y) ? snapTarget.y : snapTarget.y - yTickSpacing;\n\t\n\t      return snapTarget;\n\t    } else if (this.points.length) {\n\t        var snappableAngles = [-180, -90, 0, 90, 180];\n\t        var lastPoint = this.points[this.points.length - 1];\n\t\n\t        var thetaDeg = Math.atan2(lastPoint.y - gridPoint.y, lastPoint.x - gridPoint.x) * (180 / Math.PI);\n\t\n\t        var snapCoords;\n\t        snappableAngles.some(function (angle) {\n\t          if (Math.abs(thetaDeg - angle) < _this7.$store.getters['project/angleTolerance']) {\n\t            if (angle === -180 || angle === 0 || angle === 180) {\n\t              return {\n\t                x: gridPoint.x,\n\t                y: _this7.rotatePoint(lastPoint, gridPoint, angle - thetaDeg).y\n\t              };\n\t            } else if (angle === -90 || angle === 90) {\n\t              return {\n\t                x: _this7.rotatePoint(lastPoint, gridPoint, angle - thetaDeg).x,\n\t                y: gridPoint.y\n\t              };\n\t            }\n\t          }\n\t        });\n\t\n\t        if (snapCoords) {\n\t          return (0, _extends3.default)({\n\t            type: 'gridpoint'\n\t          }, snapCoords);\n\t        }\n\t      }\n\t\n\t    return (0, _extends3.default)({\n\t      type: 'gridpoint'\n\t    }, gridPoint);\n\t  },\n\t  polygonOriginPoint: function polygonOriginPoint() {\n\t    if (this.points.length >= 3 && this.currentTool === 'Polygon') {\n\t      return [(0, _extends3.default)({}, this.points[0], {\n\t        origin: true,\n\t        type: 'vertex'\n\t      })];\n\t    }\n\t    return [];\n\t  },\n\t  strictSnapTargets: function strictSnapTargets(location) {\n\t    var snappableVertices = [].concat((0, _toConsumableArray3.default)(this.currentStoryGeometry.vertices), (0, _toConsumableArray3.default)(this.previousStoryGeometry ? this.previousStoryGeometry.vertices : []), (0, _toConsumableArray3.default)(this.polygonOriginPoint()));\n\t\n\t    return (0, _snapping.snapTargets)(snappableVertices, this.spacing, location);\n\t  },\n\t  snappingVertexData: function snappingVertexData(point) {\n\t    var _this8 = this;\n\t\n\t    var snappableVertices = [].concat((0, _toConsumableArray3.default)(this.currentStoryGeometry.vertices));\n\t\n\t    if (this.previousStoryGeometry) {\n\t      snappableVertices = snappableVertices.concat(JSON.parse((0, _stringify2.default)(this.previousStoryGeometry.vertices)));\n\t    }\n\t\n\t    if (this.points.length >= 3 && this.currentTool === 'Polygon') {\n\t      snappableVertices.push((0, _extends3.default)({}, this.points[0], {\n\t        origin: true }));\n\t    }\n\t\n\t    if (this.points.length === 1 && this.currentTool === 'Rectangle') {\n\t      snappableVertices = snappableVertices.concat(_helpers2.default.syntheticRectangleSnaps(snappableVertices, this.points[0], point));\n\t    }\n\t\n\t    if (!snappableVertices.length) {\n\t      return null;\n\t    }\n\t\n\t    var nearestVertex = snappableVertices.reduce(function (a, b) {\n\t      var aDist = _this8.distanceBetweenPoints(a, point);\n\t      var bDist = _this8.distanceBetweenPoints(b, point);\n\t      return aDist < bDist ? a : b;\n\t    });\n\t\n\t    if (this.distanceBetweenPoints(nearestVertex, point) < this.$store.getters['project/snapTolerance']) {\n\t      return (0, _extends3.default)({}, nearestVertex, {\n\t        type: 'vertex'\n\t      });\n\t    }\n\t  },\n\t  snappingEdgeData: function snappingEdgeData(point) {\n\t    var _this9 = this;\n\t\n\t    var snappableEdges = [].concat((0, _toConsumableArray3.default)(this.currentStoryGeometry.edges));\n\t\n\t    if (this.previousStoryGeometry) {\n\t      snappableEdges = snappableEdges.concat(this.previousStoryGeometry.edges.map(function (e) {\n\t        return (0, _extends3.default)({}, e, {\n\t          previous_story: true\n\t        });\n\t      }));\n\t    }\n\t\n\t    if (snappableEdges.length === 0) {\n\t      return [];\n\t    }\n\t\n\t    var distyEdges = _lodash2.default.map(snappableEdges, function (edge) {\n\t      var aStoryGeometry = edge.previous_story ? _this9.previousStoryGeometry : _this9.currentStoryGeometry,\n\t          aV1 = _helpers2.default.vertexForId(edge.v1, aStoryGeometry),\n\t          aV2 = _helpers2.default.vertexForId(edge.v2, aStoryGeometry),\n\t          aProjection = (0, _helpers.projectionOfPointToLine)(point, { p1: aV1, p2: aV2 }),\n\t          aDist = (0, _helpers.distanceBetweenPoints)(aProjection, point);\n\t      return (0, _extends3.default)({}, edge, {\n\t        projection: aProjection,\n\t        dist: aDist,\n\t        v1Coords: aV1,\n\t        V2Coords: aV2\n\t      });\n\t    });\n\t    var nearestEdge = _lodash2.default.minBy(distyEdges, 'dist');\n\t\n\t    if (nearestEdge.dist < this.$store.getters['project/snapTolerance']) {\n\t      return [{\n\t        snappingEdge: nearestEdge,\n\t        dist: nearestEdge.dist,\n\t        type: 'edge',\n\t\n\t        projection: nearestEdge.projection,\n\t        v1GridCoords: nearestEdge.v1Coords,\n\t        v2GridCoords: nearestEdge.V2Coords,\n\t        x: nearestEdge.projection.x,\n\t        y: nearestEdge.projection.y\n\t      }];\n\t    }\n\t    return [];\n\t  },\n\t  distanceBetweenPoints: function distanceBetweenPoints(p1, p2) {\n\t    var dx = Math.abs(p1.x - p2.x),\n\t        dy = Math.abs(p1.y - p2.y);\n\t    return Math.sqrt(dx * dx + dy * dy);\n\t  },\n\t  round: function round(n, x) {\n\t    var result,\n\t        sign = n < 0 ? -1 : 1;\n\t    n = Math.abs(n);\n\t    if (n % x < x / 2) {\n\t      result = n - n % x;\n\t    } else {\n\t      result = n + x - n % x;\n\t    }\n\t\n\t    result *= sign;\n\t    return result;\n\t  },\n\t  rotatePoint: function rotatePoint(center, point, angle) {\n\t    var radians = angle * Math.PI / 180.0,\n\t        cos = Math.cos(radians),\n\t        sin = Math.sin(radians),\n\t        dX = point.x - center.x,\n\t        dY = point.y - center.y;\n\t\n\t    return {\n\t      x: cos * dX - sin * dY + center.x,\n\t      y: sin * dX + cos * dY + center.y\n\t    };\n\t  },\n\t  resolveBounds: function resolveBounds() {\n\t    var currXExtent = [this.min_x, this.max_x],\n\t        currYExtent = [this.min_y, this.max_y];\n\t    var plusMargin = function plusMargin(_ref2) {\n\t      var _ref3 = (0, _slicedToArray3.default)(_ref2, 2),\n\t          i = _ref3[0],\n\t          s = _ref3[1];\n\t\n\t      var d = (s - i) / 20;\n\t      return [i - d, s + d];\n\t    };\n\t    if (this.visibleVerts.length) {\n\t      currXExtent = plusMargin(d3.extent(this.allVertices, function (d) {\n\t        return d.x;\n\t      }));\n\t      currYExtent = plusMargin(d3.extent(this.allVertices, function (d) {\n\t        return d.y;\n\t      }));\n\t    }\n\t\n\t    var width = this.$refs.gridParent.clientWidth,\n\t        height = this.$refs.gridParent.clientHeight,\n\t        _fitToAspectRatio = (0, _helpers.fitToAspectRatio)(currXExtent, currYExtent, width / height, 'expand'),\n\t        xExtent = _fitToAspectRatio.xExtent,\n\t        yExtent = _fitToAspectRatio.yExtent;\n\t\n\t\n\t    this.dimensions = {\n\t      min_x: xExtent[0],\n\t      max_x: xExtent[1],\n\t      min_y: yExtent[0],\n\t      max_y: yExtent[1]\n\t    };\n\t    _lodash2.default.defer(function () {\n\t      window.eventBus.$emit('boundsResolved');\n\t    });\n\t  },\n\t  nullTransform: function nullTransform() {\n\t    d3.select(this.$refs.grid).call(this.zoomBehavior.transform, d3.zoomIdentity);\n\t  },\n\t  renderGrid: function renderGrid() {\n\t    var w = this.$refs.gridParent.clientWidth,\n\t        h = this.$refs.gridParent.clientHeight;\n\t\n\t    this.resolveBounds();\n\t\n\t    this.$store.dispatch('application/setScaleX', {\n\t      scaleX: {\n\t        pixels: w,\n\t        rwuRange: [this.min_x, this.max_x]\n\t      }\n\t    });\n\t\n\t    this.$store.dispatch('application/setScaleY', {\n\t      scaleY: {\n\t        pixels: h,\n\t        rwuRange: [this.min_y, this.max_y]\n\t      }\n\t    });\n\t\n\t    this.calcGrid();\n\t\n\t    this.nullTransform();\n\t\n\t    this.draw();\n\t  },\n\t  reloadGridAndScales: function reloadGridAndScales() {\n\t    this.zoomXScale = null;\n\t    this.zoomYScale = null;\n\t    this.resolveBounds();\n\t    this.renderGrid();\n\t  },\n\t  recalcScales: function recalcScales() {\n\t    var width = this.$refs.gridParent.clientWidth,\n\t        height = this.$refs.gridParent.clientHeight;\n\t\n\t    this.xScale = d3.scaleLinear().domain([this.min_x, this.max_x]).range([0, width]);\n\t    this.yScale = d3.scaleLinear().domain([this.min_y, this.max_y]).range([height, 0]);\n\t    this.zoomXScale = this.zoomXScale || this.xScale.copy();\n\t    this.zoomYScale = this.zoomYScale || this.yScale.copy();\n\t  },\n\t  calcGrid: function calcGrid() {\n\t    var _this10 = this;\n\t\n\t    this.recalcScales();\n\t    var width = this.$refs.gridParent.clientWidth,\n\t        height = this.$refs.gridParent.clientHeight;\n\t    var svg = d3.select('#grid svg'),\n\t        strokeWidth = 1,\n\t        fontSize = '14px';\n\t\n\t    svg.attr('height', height).attr('width', width);\n\t    this.axis.x = svg.selectAll('g.axis--x').data([undefined]);\n\t\n\t    this.axis.x = this.axis.x.merge(this.axis.x.enter().append('g').attr('class', 'axis axis--x')).attr('stroke-width', strokeWidth).style('font-size', fontSize).style('display', this.gridVisible ? 'inline' : 'none');\n\t\n\t    this.axis.y = svg.selectAll('g.axis--y').data([undefined]);\n\t\n\t    this.axis.y = this.axis.y.merge(this.axis.y.enter().append('g').attr('class', 'axis axis--y')).attr('class', 'axis axis--y').attr('stroke-width', strokeWidth).style('font-size', fontSize).style('display', this.gridVisible ? 'inline' : 'none');\n\t\n\t    this.updateGrid();\n\t\n\t    this.zoomBehavior = d3.zoom().scaleExtent([0, Infinity]).on('zoom', function () {\n\t      var transform = d3.event.transform;\n\t\n\t      _this10.transform = (0, _extends3.default)({}, transform);\n\t\n\t      var newScaleX = transform.rescaleX(_this10.zoomXScale),\n\t          newScaleY = transform.rescaleY(_this10.zoomYScale);\n\t\n\t      var xDomain = newScaleX.domain();\n\t      var yDomain = newScaleY.domain();\n\t      _this10.dimensions = {\n\t        min_x: xDomain[0],\n\t        max_x: xDomain[1],\n\t        min_y: yDomain[0],\n\t        max_y: yDomain[1]\n\t      };\n\t\n\t      _this10.axis_generator.x.scale(newScaleX);\n\t      _this10.axis_generator.y.scale(newScaleY);\n\t      _this10.updateGrid();\n\t\n\t      _this10.padTickY(-12);\n\t\n\t      _this10.translateEntities();\n\t      _this10.clearComponentHighlights();\n\t    }).on('end', function () {\n\t      if (_this10._lastTransform === d3.event.transform) {\n\t        return;\n\t      }\n\t\n\t      _this10._lastTransform = d3.event.transform;\n\t      _this10.draw({ zoomEnd: true });\n\t    });\n\t\n\t    svg.call(this.zoomBehavior);\n\t    svg.on('mousemove', this.handleMouseMove).on('click', this.gridClicked);\n\t  },\n\t  transformTo: function transformTo(t) {\n\t    d3.select(this.$refs.grid).call(this.zoomBehavior.transform, t);\n\t  },\n\t  zoomBy: function zoomBy(factor) {\n\t    var newScale = this.transform.k * factor;\n\t    d3.select(this.$refs.grid).transition().duration(400).call(this.zoomBehavior.transform, d3.zoomIdentity.scale(newScale));\n\t  },\n\t  zoomToFit: function zoomToFit() {\n\t    var _this11 = this,\n\t        _d3$zoomIdentity;\n\t\n\t    var width = this.$refs.grid.clientWidth,\n\t        height = this.$refs.grid.clientHeight;\n\t\n\t    if (!this.allVertices.length) {\n\t      return;\n\t    }\n\t\n\t    var xExtent = d3.extent(this.allVertices, function (d) {\n\t      return _this11.zoomXScale(d.x);\n\t    }),\n\t        yExtent = d3.extent(this.allVertices, function (d) {\n\t      return _this11.zoomYScale(d.y);\n\t    }),\n\t        dx = xExtent[1] - xExtent[0],\n\t        dy = yExtent[1] - yExtent[0],\n\t        x = (xExtent[0] + xExtent[1]) / 2,\n\t        y = (yExtent[0] + yExtent[1]) / 2,\n\t        scale = 0.9 / Math.max(dx / width, dy / height),\n\t        translate = [width / 2 - scale * x, height / 2 - scale * y],\n\t        svg = d3.select('#grid svg'),\n\t        transform = (_d3$zoomIdentity = d3.zoomIdentity).translate.apply(_d3$zoomIdentity, translate).scale(scale);\n\t\n\t    svg.call(this.zoomBehavior.transform, transform);\n\t  },\n\t  scaleTo: function scaleTo(scale) {\n\t    var _d3$zoomIdentity2;\n\t\n\t    var width = this.$refs.grid.clientWidth,\n\t        height = this.$refs.grid.clientHeight,\n\t        x = (this.zoomXScale(this.max_x) + this.zoomXScale(this.min_x)) / 2,\n\t        y = (this.zoomYScale(this.max_y) + this.zoomYScale(this.min_y)) / 2,\n\t        translate = [width / 2 - scale * x, height / 2 - scale * y];\n\t    d3.select(this.$refs.grid).call(this.zoomBehavior.transform, (_d3$zoomIdentity2 = d3.zoomIdentity).translate.apply(_d3$zoomIdentity2, translate).scale(scale));\n\t  },\n\t  translateEntities: function translateEntities() {\n\t\n\t    d3.selectAll('[data-transform-plz]').attr('transform', transformDiff(this.transformAtLastRender, d3.event.transform));\n\t  },\n\t  showOrHideAxes: function showOrHideAxes() {\n\t    this.axis.x.style('visibility', this.gridVisible ? 'visible' : 'hidden');\n\t    this.axis.y.style('visibility', this.gridVisible ? 'visible' : 'hidden');\n\t  },\n\t  updateGrid: function updateGrid() {\n\t    if (!this.axis.x || !this.axis.y) {\n\t      return;\n\t    }\n\t    var width = this.$refs.gridParent.clientWidth,\n\t        height = this.$refs.gridParent.clientHeight,\n\t        rwuWidth = this.max_x - this.min_x,\n\t        rwuHeight = this.max_y - this.min_y,\n\t        xTicks = ticksInRange(this.min_x, this.max_x, this.spacing),\n\t        yTicks = ticksInRange(this.min_y, this.max_y, this.spacing);\n\t\n\t    this.reduceTicks = yTicks.length > 250 || xTicks.length > 250;\n\t\n\t    this.axis_generator.x = this.axis_generator.x || d3.axisBottom(this.xScale);\n\t    this.axis_generator.x.tickSize(height).tickPadding(-20).tickFormat(this.reduceTicks ? _lodash2.default.identity : this.formatTickX.bind(this, Math.floor(10 * (width / height))));\n\t\n\t    this.axis_generator.y = this.axis_generator.y || d3.axisRight(this.yScale);\n\t    this.axis_generator.y.tickSize(width).tickPadding(-25).tickFormat(this.reduceTicks ? _lodash2.default.identity : this.formatTickY.bind(this, 10));\n\t\n\t    if (this.reduceTicks) {\n\t      this.axis_generator.x.tickValues(null).ticks(5 * (rwuWidth / rwuHeight));\n\t      this.axis_generator.y.tickValues(null).ticks(5);\n\t    } else {\n\t      this.axis_generator.x.ticks(null).tickValues(xTicks);\n\t      this.axis_generator.y.ticks(null).tickValues(yTicks);\n\t    }\n\t\n\t    this.axis.y.call(this.axis_generator.y);\n\t    this.axis.x.call(this.axis_generator.x);\n\t  },\n\t  rwuToGrid: function rwuToGrid(rwu, axis) {\n\t    var scale = void 0;\n\t    if (axis === 'x') {\n\t      scale = this.xScale;\n\t    } else if (axis === 'y') {\n\t      scale = this.yScale;\n\t    }\n\t    return scale(rwu);\n\t  },\n\t  gridToRWU: function gridToRWU(gridValue, axis) {\n\t    var scale = void 0;\n\t    if (axis === 'x') {\n\t      scale = this.xScale;\n\t    } else if (axis === 'y') {\n\t      scale = this.yScale;\n\t    }\n\t    var result = scale.invert(gridValue);\n\t\n\t    return Math.round(result * 100000000000) / 100000000000;\n\t  },\n\t  gridPointToRWU: function gridPointToRWU(pt) {\n\t    return {\n\t      x: this.gridToRWU(pt.x, 'x'),\n\t      y: this.gridToRWU(pt.y, 'y')\n\t    };\n\t  },\n\t  rwuPointToGrid: function rwuPointToGrid(pt) {\n\t    return {\n\t      x: this.rwuToGrid(pt.x, 'x'),\n\t      y: this.rwuToGrid(pt.y, 'y')\n\t    };\n\t  },\n\t  polygonLabelPosition: function polygonLabelPosition(pointsIn) {\n\t    var points = [pointsIn.map(function (p) {\n\t      return [p.x, p.y];\n\t    })],\n\t        area = Math.abs(Math.round(_helpers2.default.areaOfSelection(pointsIn))),\n\t        _ref4 = area ? (0, _polylabel2.default)(points, 1.0) : [null, null],\n\t        _ref5 = (0, _slicedToArray3.default)(_ref4, 2),\n\t        x = _ref5[0],\n\t        y = _ref5[1];\n\t\n\t\n\t    return { x: x, y: y, area: area };\n\t  },\n\t  formatTickX: function formatTickX(maxTicks, val) {\n\t    var rangeX = this.max_x - this.min_x,\n\t        spacing = this.spacing,\n\t        spacingScaled = Math.ceil(rangeX / maxTicks / spacing) * spacing;\n\t\n\t    return spacingScaled === 0 || val % spacingScaled === 0 ? val : '';\n\t  },\n\t  formatTickY: function formatTickY(maxTicks, val) {\n\t    var rangeY = this.max_y - this.min_y,\n\t        spacing = this.spacing,\n\t        spacingScaled = Math.ceil(rangeY / maxTicks / spacing) * spacing;\n\t\n\t    return spacingScaled === 0 || val % spacingScaled === 0 ? val : '';\n\t  },\n\t  padTickY: function padTickY(paddingPerDigit) {\n\t    var min = Math.abs(this.min_y),\n\t        max = Math.abs(this.max_y),\n\t        numDigits = (min < max ? max : min).toFixed(0).length,\n\t        yPadding = paddingPerDigit * numDigits;\n\t\n\t    this.axis.y.call(this.axis_generator.y.tickPadding(yPadding));\n\t  }\n\t};\n\n/***/ }),\n/* 284 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(79);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(29);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _index = __webpack_require__(287);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _index3 = __webpack_require__(184);\n\t\n\tvar _index4 = _interopRequireDefault(_index3);\n\t\n\tvar _index5 = __webpack_require__(292);\n\t\n\tvar _index6 = _interopRequireDefault(_index5);\n\t\n\tvar _index7 = __webpack_require__(297);\n\t\n\tvar _index8 = _interopRequireDefault(_index7);\n\t\n\tvar _export = __webpack_require__(305);\n\t\n\tvar _export2 = _interopRequireDefault(_export);\n\t\n\tvar _importFloorplan = __webpack_require__(308);\n\t\n\tvar _importFloorplan2 = _interopRequireDefault(_importFloorplan);\n\t\n\tvar _importLibrary = __webpack_require__(309);\n\t\n\tvar _importLibrary2 = _interopRequireDefault(_importLibrary);\n\t\n\tvar _unitConversion = __webpack_require__(125);\n\t\n\tvar _mutations = __webpack_require__(303);\n\t\n\tvar _mutations2 = _interopRequireDefault(_mutations);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\t\n\tvar store = new _vuex2.default.Store({\n\t  strict: (\"production\") !== 'production',\n\t  modules: {\n\t    application: _index2.default,\n\t    project: _index4.default,\n\t    geometry: _index6.default,\n\t    models: _index8.default\n\t  },\n\t  getters: {\n\t    exportData: _export2.default\n\t  },\n\t  actions: {\n\t    importFloorplan: _importFloorplan2.default,\n\t    importLibrary: _importLibrary2.default,\n\t    changeUnits: function changeUnits(context, _ref) {\n\t      var newUnits = _ref.newUnits;\n\t\n\t      var oldUnits = context.state.project.config.units;\n\t      console.log('moving from ' + oldUnits + ' to ' + newUnits);\n\t      if (oldUnits !== 'ip' && oldUnits !== 'si') {\n\t        console.error('Expected data.project.config.units to be \"ip\" or \"si\", received \"' + oldUnits + '\"');\n\t      }\n\t      if (newUnits !== 'ip' && newUnits !== 'si') {\n\t        console.error('Expected oldUnits to be \"ip\" or \"si\", received \"' + newUnits + '\"');\n\t      }\n\t      context.commit('changeUnits', (0, _unitConversion.convertState)(context.state, oldUnits, newUnits));\n\t      context.dispatch('project/setUnits', { units: newUnits });\n\t    }\n\t  },\n\t  mutations: _mutations2.default\n\t});\n\t\n\texports.default = store;\n\n/***/ }),\n/* 285 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tvar _helpers = __webpack_require__(80);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  setCurrentStoryId: function setCurrentStoryId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (context.rootState.models.stories.map(function (s) {\n\t      return s.id;\n\t    }).indexOf(id) !== -1) {\n\t      context.commit('setCurrentStoryId', { id: id });\n\t    }\n\t  },\n\t  setCurrentSubSelectionId: function setCurrentSubSelectionId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (context.getters.currentStory && (context.getters.currentStory.spaces.find(function (i) {\n\t      return i.id === id;\n\t    }) || context.getters.currentStory.shading.find(function (i) {\n\t      return i.id === id;\n\t    }) || context.getters.currentStory.images.find(function (i) {\n\t      return i.id === id;\n\t    }))) {\n\t      context.commit('setCurrentSubSelectionId', { id: id });\n\t    }\n\t  },\n\t  setCurrentComponentId: function setCurrentComponentId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (context.getters.currentStory && (context.getters.currentStory.windows.find(function (i) {\n\t      return i.id === id;\n\t    }) || context.getters.currentStory.daylighting_controls.find(function (i) {\n\t      return i.id === id;\n\t    }))) {\n\t      context.commit('setCurrentComponentId', { id: id });\n\t    }\n\t  },\n\t  setCurrentComponentDefinitionId: function setCurrentComponentDefinitionId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (context.rootState.models.library.daylighting_control_definitions.find(function (i) {\n\t      return i.id === id;\n\t    }) || context.rootState.models.library.window_definitions.find(function (i) {\n\t      return i.id === id;\n\t    }) || context.rootState.models.library.door_definitions.find(function (i) {\n\t      return i.id === id;\n\t    })) {\n\t      context.commit('setCurrentComponentDefinitionId', { id: id });\n\t    } else if (id !== 'undefined') {\n\t      throw new Error('unable to set component definition -- couldn\\'t find one with id ' + id);\n\t    }\n\t  },\n\t  setCurrentComponentInstanceId: function setCurrentComponentInstanceId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (!(0, _helpers.componentInstanceById)(context.getters.currentStory, id)) {\n\t      console.error('unable to find an instance with that id on the current story');\n\t    } else {\n\t      context.commit('setCurrentComponentInstanceId', payload);\n\t    }\n\t  },\n\t  setCurrentSnapMode: function setCurrentSnapMode(context, _ref) {\n\t    var snapMode = _ref.snapMode;\n\t\n\t    if (!_lodash2.default.includes(['grid-strict', 'grid-verts-edges'], snapMode)) {\n\t      throw new Error('Unknown grid mode ' + snapMode);\n\t    }\n\t    context.commit('setCurrentSnapMode', { snapMode: snapMode });\n\t  },\n\t  setCurrentModeTab: function setCurrentModeTab(context, _ref2) {\n\t    var modeTab = _ref2.modeTab;\n\t\n\t    context.commit('setCurrentModeTab', { modeTab: modeTab });\n\t  },\n\t  setCurrentSubselectionType: function setCurrentSubselectionType(context, _ref3) {\n\t    var subselectionType = _ref3.subselectionType;\n\t\n\t    context.commit('setCurrentSubselectionType', { subselectionType: subselectionType });\n\t  },\n\t  setCurrentTool: function setCurrentTool(context, payload) {\n\t    var tool = payload.tool;\n\t\n\t    if (context.state.tools.indexOf(tool) !== -1) {\n\t      context.commit('setCurrentTool', { tool: tool });\n\t    }\n\t  },\n\t  setCurrentMode: function setCurrentMode(context, payload) {\n\t    var mode = payload.mode;\n\t\n\t    if (mode === 'spaces' || _lodash2.default.includes(_appconfig.assignableProperties, mode)) {\n\t      context.commit('setCurrentMode', { mode: mode });\n\t    } else {\n\t      console.error('unrecognized view-by option: ' + mode);\n\t    }\n\t  },\n\t  setCurrentSpacePropertyId: function setCurrentSpacePropertyId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (!id || (0, _helpers.spacePropertyById)(context.rootState.models.library, id)) {\n\t      context.commit('setCurrentSpacePropertyId', { id: id });\n\t    } else {\n\t      console.error('unable to find space property with id: ' + id);\n\t    }\n\t  },\n\t  setScaleX: function setScaleX(context, payload) {\n\t    var scaleX = payload.scaleX;\n\t\n\t    context.commit('setScaleX', { scaleX: scaleX });\n\t  },\n\t  setScaleY: function setScaleY(context, payload) {\n\t    var scaleY = payload.scaleY;\n\t\n\t    context.commit('setScaleY', { scaleY: scaleY });\n\t  }\n\t};\n\n/***/ }),\n/* 286 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(80);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  currentStory: function currentStory(state, getters, rootState) {\n\t    console.log('trying to get currentStory', rootState.models.stories);return rootState.models.stories.find(function (s) {\n\t      return s.id === state.currentSelections.story_id;\n\t    });\n\t  },\n\t  currentSubSelection: function currentSubSelection(state, getters) {\n\t    var currentStory = getters['currentStory'];\n\t    if (!currentStory) {\n\t      return null;\n\t    }\n\t    var subSelectionId = state.currentSelections.subselection_ids[currentStory.id];\n\t    return currentStory.spaces.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    }) || currentStory.shading.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    }) || currentStory.images.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    });\n\t  },\n\t  currentSubSelectionType: function currentSubSelectionType(state, getters) {\n\t    var currentStory = getters['currentStory'];\n\t    if (!currentStory) {\n\t      return null;\n\t    }\n\t    var subSelectionId = state.currentSelections.subselection_ids[currentStory.id];\n\t    if (currentStory.spaces.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    })) {\n\t      return 'spaces';\n\t    } else if (currentStory.shading.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    })) {\n\t      return 'shading';\n\t    } else if (currentStory.images.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    })) {\n\t      return 'images';\n\t    }\n\t    return null;\n\t  },\n\t  currentSpace: function currentSpace(state, getters) {\n\t    return getters.currentSubSelectionType === 'spaces' ? getters.currentSubSelection : null;\n\t  },\n\t  currentShading: function currentShading(state, getters) {\n\t    return getters.currentSubSelectionType === 'shading' ? getters.currentSubSelection : null;\n\t  },\n\t  currentImage: function currentImage(state, getters) {\n\t    return getters.currentSubSelectionType === 'images' ? getters.currentSubSelection : null;\n\t  },\n\t  currentComponent: function currentComponent(state, getters, rootState) {\n\t    var componentDefinitionId = state.currentSelections.component_definition_id;\n\t    var type = void 0,\n\t        definition = void 0;\n\t    if (definition = rootState.models.library.window_definitions.find(function (i) {\n\t      return i.id === componentDefinitionId;\n\t    })) {\n\t      type = 'window_definitions';\n\t    } else if (definition = rootState.models.library.daylighting_control_definitions.find(function (i) {\n\t      return i.id === componentDefinitionId;\n\t    })) {\n\t      type = 'daylighting_control_definitions';\n\t    } else if (definition = _lodash2.default.find(rootState.models.library.door_definitions, { id: componentDefinitionId })) {\n\t      type = 'door_definitions';\n\t    }\n\t    return { type: type, definition: definition };\n\t  },\n\t  currentComponentDefinition: function currentComponentDefinition(state, getters) {\n\t    return getters['currentComponent']['definition'];\n\t  },\n\t  currentComponentInstance: function currentComponentInstance(state, getters) {\n\t    var compDefId = state.currentSelections.component_instance_id;\n\t    if (!compDefId) {\n\t      return null;\n\t    }\n\t    return (0, _helpers3.componentInstanceById)(getters['currentStory'], compDefId);\n\t  },\n\t  currentSpaceProperty: function currentSpaceProperty(state, getters, rootState) {\n\t    var spacePropertyId = state.currentSelections.space_property_id,\n\t        library = rootState.models.library;\n\t    return (0, _helpers3.spacePropertyById)(library, spacePropertyId);\n\t  },\n\t  currentStoryGeometry: function currentStoryGeometry(state, getters, rootState) {\n\t    var currentStory = getters['currentStory'];\n\t    if (!currentStory) {\n\t      return null;\n\t    }\n\t    return rootState.geometry.find(function (g) {\n\t      return g.id === currentStory.geometry_id;\n\t    });\n\t  },\n\t  currentStoryDenormalizedGeom: function currentStoryDenormalizedGeom(state, getters) {\n\t    var currentStoryGeom = getters['currentStoryGeometry'];\n\t    if (!currentStoryGeom) {\n\t      return null;\n\t    }\n\t    return _helpers2.default.denormalize(currentStoryGeom);\n\t  },\n\t  currentSubSelectionFace: function currentSubSelectionFace(state, getters) {\n\t    if (getters['currentSubSelection'] && getters['currentSubSelection'].face_id) {\n\t      return getters['currentStoryGeometry'].faces.find(function (f) {\n\t        return f.id === getters['currentSubSelection'].face_id;\n\t      });\n\t    }\n\t    return null;\n\t  }\n\t};\n\n/***/ }),\n/* 287 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(285);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _mutations = __webpack_require__(288);\n\t\n\tvar _mutations2 = _interopRequireDefault(_mutations);\n\t\n\tvar _getters = __webpack_require__(286);\n\t\n\tvar _getters2 = _interopRequireDefault(_getters);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar d3 = __webpack_require__(78);\n\t\n\texports.default = {\n\t  namespaced: true,\n\t  state: {\n\t    currentSelections: {\n\t      story: null,\n\t      story_id: null,\n\t      subselection_ids: {},\n\t\n\t      component_id: null,\n\t      component_definition_id: null,\n\t      component_instance_id: null,\n\t\n\t      space_property_id: null,\n\t\n\t      tool: 'Rectangle',\n\t      mode: 'spaces',\n\t      snapMode: 'grid-strict',\n\t      modeTab: 'floorplan',\n\t      subselectionType: 'spaces'\n\t    },\n\t    modes: ['spaces', 'shading', 'building_units', 'thermal_zones', 'pitched_roofs', 'space_types', 'images'],\n\t    tools: ['Pan', 'Drag', 'Rectangle', 'Polygon', 'Eraser', 'Select', 'Map', 'Fill', 'Place Component', 'Image', 'Apply Property'],\n\t\n\t    scale: {\n\t      x: d3.scaleLinear().range([0, 0]).domain([0, 0]),\n\t      y: d3.scaleLinear().range([0, 0]).domain([0, 0])\n\t    }\n\t  },\n\t  actions: _actions2.default,\n\t  mutations: _mutations2.default,\n\t  getters: _getters2.default\n\t};\n\n/***/ }),\n/* 288 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(70);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _extends3 = __webpack_require__(6);\n\t\n\tvar _extends4 = _interopRequireDefault(_extends3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  setCurrentStoryId: function setCurrentStoryId(state, payload) {\n\t    state.currentSelections.story_id = payload.id;\n\t  },\n\t  setCurrentSubSelectionId: function setCurrentSubSelectionId(state, payload) {\n\t    var storyId = state.currentSelections.story_id;\n\t    if (!storyId) {\n\t      console.error('expected a story to be selected, in order to set a subselection');\n\t      return;\n\t    }\n\t    state.currentSelections.subselection_ids = (0, _extends4.default)({}, state.currentSelections.subselection_ids, (0, _defineProperty3.default)({}, storyId, payload.id));\n\t  },\n\t  setCurrentComponentId: function setCurrentComponentId(state, payload) {\n\t    state.currentSelections.component_id = payload.id;\n\t  },\n\t  setCurrentComponentDefinitionId: function setCurrentComponentDefinitionId(state, payload) {\n\t    state.currentSelections.component_definition_id = payload.id;\n\t  },\n\t  setCurrentComponentInstanceId: function setCurrentComponentInstanceId(state, payload) {\n\t    state.currentSelections.component_instance_id = payload.id;\n\t  },\n\t  setCurrentSpacePropertyId: function setCurrentSpacePropertyId(state, payload) {\n\t    state.currentSelections.space_property_id = payload.id;\n\t  },\n\t  setCurrentSnapMode: function setCurrentSnapMode(state, payload) {\n\t    state.currentSelections.snapMode = payload.snapMode;\n\t  },\n\t  setCurrentModeTab: function setCurrentModeTab(state, payload) {\n\t    state.currentSelections.modeTab = payload.modeTab;\n\t  },\n\t  setCurrentSubselectionType: function setCurrentSubselectionType(state, payload) {\n\t    state.currentSelections.subselectionType = payload.subselectionType;\n\t  },\n\t  setCurrentTool: function setCurrentTool(state, payload) {\n\t    state.currentSelections.tool = payload.tool;\n\t  },\n\t  setCurrentMode: function setCurrentMode(state, payload) {\n\t    state.currentSelections.mode = payload.mode;\n\t  },\n\t  setScaleX: function setScaleX(state, payload) {\n\t    state.scale.x = payload.scaleX;\n\t  },\n\t  setScaleY: function setScaleY(state, payload) {\n\t    state.scale.y = payload.scaleY;\n\t  }\n\t};\n\n/***/ }),\n/* 289 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _defineProperty2 = __webpack_require__(70);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\texports.getOrCreateVertex = getOrCreateVertex;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _factory = __webpack_require__(123);\n\t\n\tvar _factory2 = _interopRequireDefault(_factory);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _createFaceFromPoints = __webpack_require__(290);\n\t\n\tvar _createFaceFromPoints2 = _interopRequireDefault(_createFaceFromPoints);\n\t\n\tvar _componentPreservationSociety = __webpack_require__(183);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getOrCreateVertex(geometry, coords) {\n\t  return _helpers2.default.vertexForCoordinates(coords, geometry) || _factory2.default.Vertex(coords.x, coords.y);\n\t}\n\t\n\texports.default = {\n\t  initGeometry: function initGeometry(context, payload) {\n\t    var story_id = payload.story_id;\n\t\n\t    var geometry = new _factory2.default.Geometry();\n\t    context.commit('initGeometry', { geometry: geometry });\n\t\n\t    context.dispatch('models/updateStoryWithData', {\n\t      story: context.rootState.models.stories.find(function (s) {\n\t        return s.id === story_id;\n\t      }),\n\t      geometry_id: geometry.id\n\t    }, { root: true });\n\t  },\n\t  destroyGeometry: function destroyGeometry(_ref, geometryId) {\n\t    var commit = _ref.commit;\n\t\n\t    commit('destroyGeometry', { id: geometryId });\n\t  },\n\t  eraseSelection: function eraseSelection(context, payload) {\n\t    var points = payload.points,\n\t        geometry_id = context.rootGetters['application/currentStoryGeometry'].id;\n\t\n\t\n\t    (0, _componentPreservationSociety.withPreservedComponents)(context, geometry_id, function () {\n\t      var eraseResult = (0, _createFaceFromPoints.eraseSelection)(points, context);\n\t\n\t      if (!eraseResult) {\n\t        window.eventBus.$emit('error', 'Operation cancelled - no split faces');\n\t      }\n\t    });\n\t\n\t    context.dispatch('trimGeometry', { geometry_id: geometry_id });\n\t  },\n\t  moveFaceByOffset: function moveFaceByOffset(context, payload) {\n\t    var face_id = payload.face_id,\n\t        dx = payload.dx,\n\t        dy = payload.dy,\n\t        currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'],\n\t        face = _helpers2.default.faceForId(face_id, currentStoryGeometry),\n\t        movedPoints = _helpers2.default.verticesForFaceId(face.id, currentStoryGeometry).map(function (v) {\n\t      return {\n\t        x: v.x + dx,\n\t        y: v.y + dy\n\t      };\n\t    }),\n\t        newGeoms = (0, _createFaceFromPoints.newGeometriesOfOverlappedFaces)(movedPoints, _helpers2.default.exceptFace(currentStoryGeometry, face_id));\n\t\n\t    if (newGeoms.error) {\n\t      window.eventBus.$emit('error', 'Operation cancelled - ' + newGeoms.error);\n\t\n\t      window.eventBus.$emit('reload-grid');\n\t      return;\n\t    }\n\t\n\t    var movedGeom = (0, _createFaceFromPoints.validateFaceGeometry)(movedPoints, currentStoryGeometry);\n\t    if (!movedGeom.success) {\n\t      window.eventBus.$emit('error', movedGeom.error);\n\t      window.eventBus.$emit('reload-grid');\n\t      return;\n\t    }\n\t\n\t    var movementsByFaceId = (0, _defineProperty3.default)({}, face_id, { dx: dx, dy: dy });\n\t\n\t    (0, _componentPreservationSociety.withPreservedComponents)(context, currentStoryGeometry.id, movementsByFaceId, function () {\n\t      newGeoms.forEach(function (newGeom) {\n\t        return context.dispatch('replaceFacePoints', newGeom);\n\t      });\n\t\n\t      context.dispatch('replaceFacePoints', {\n\t        geometry_id: currentStoryGeometry.id,\n\t        face_id: face_id,\n\t        vertices: movedGeom.vertices,\n\t        edges: movedGeom.edges,\n\t        dx: dx,\n\t        dy: dy\n\t      });\n\t    });\n\t\n\t    context.dispatch('trimGeometry', { geometry_id: currentStoryGeometry.id });\n\t  },\n\t\n\t  createFaceFromPoints: _createFaceFromPoints2.default,\n\t\n\t  destroyFaceAndDescendents: function destroyFaceAndDescendents(context, payload) {\n\t    var geometry_id = payload.geometry_id,\n\t        face = payload.face;\n\t\n\t\n\t    var geometry = context.state.find(function (g) {\n\t      return g.id === geometry_id;\n\t    }),\n\t        expVertices = face.edgeRefs.map(function (edgeRef) {\n\t      var edge = _helpers2.default.edgeForId(edgeRef.edge_id, geometry),\n\t          vertexId = edgeRef.reverse ? edge.v2 : edge.v1;\n\t      return _helpers2.default.vertexForId(vertexId, geometry);\n\t    }).filter(function (v) {\n\t      return _helpers2.default.facesForVertexId(v.id, geometry).length < 2;\n\t    }),\n\t        expEdgeRefs = face.edgeRefs.filter(function (edgeRef) {\n\t      return _helpers2.default.facesForEdgeId(edgeRef.edge_id, geometry).length < 2;\n\t    });\n\t\n\t    context.commit('destroyGeometry', { id: face.id });\n\t    expEdgeRefs.forEach(function (edgeRef) {\n\t      return context.commit('destroyGeometry', { id: edgeRef.edge_id });\n\t    });\n\t    expVertices.forEach(function (vertex) {\n\t      return context.commit('destroyGeometry', { id: vertex.id });\n\t    });\n\t  },\n\t  replaceFacePoints: function replaceFacePoints(context, _ref2) {\n\t    var geometry_id = _ref2.geometry_id,\n\t        face_id = _ref2.face_id,\n\t        vertices = _ref2.vertices,\n\t        edges = _ref2.edges;\n\t\n\t    var geom = _lodash2.default.find(context.state, { id: geometry_id });\n\t\n\t    var spacing = context.rootState.project.grid.spacing;\n\t\n\t    var replacementVertIds = _lodash2.default.chain(vertices).map(function (vert) {\n\t      var gVert = _lodash2.default.find(geom.vertices, function (v) {\n\t        return (0, _helpers.distanceBetweenPoints)(v, vert) < spacing / 20;\n\t      });\n\t      if (!gVert) return null;\n\t      if (vert.id === gVert.id) return null;\n\t      return [vert.id, gVert.id];\n\t    }).compact().fromPairs().value();\n\t\n\t    var updatedVertices = vertices.map(function (v) {\n\t      return (0, _extends3.default)({}, v, {\n\t        id: replacementVertIds[v.id] || v.id\n\t      });\n\t    });\n\t    var updatedEdges = edges.map(function (e) {\n\t      return (0, _extends3.default)({}, e, {\n\t        v1: replacementVertIds[e.v1] || e.v1,\n\t        v2: replacementVertIds[e.v2] || e.v2\n\t      });\n\t    });\n\t\n\t    updatedEdges.forEach(function (edge) {\n\t      var gEdge = _lodash2.default.find(geom.edges, { v1: edge.v1, v2: edge.v2 }) || _lodash2.default.find(geom.edges, { v1: edge.v2, v2: edge.v1 });\n\t      if (!gEdge) return;\n\t      if (edge.id === gEdge.id) return;\n\t      edge.id = gEdge.id;\n\t      edge.reverse = gEdge.v1 !== edge.v1;\n\t    });\n\t    context.commit('replaceFacePoints', {\n\t      geometry_id: geometry_id,\n\t      vertices: updatedVertices,\n\t      edges: updatedEdges,\n\t      face_id: face_id\n\t    });\n\t  },\n\t  trimGeometry: function trimGeometry(_ref3, _ref4) {\n\t    var rootState = _ref3.rootState,\n\t        commit = _ref3.commit;\n\t    var geometry_id = _ref4.geometry_id;\n\t\n\t    var story = _lodash2.default.find(rootState.models.stories, { geometry_id: geometry_id }),\n\t        vertsReferencedByDCs = _lodash2.default.flatMap(story.spaces, function (s) {\n\t      return _lodash2.default.map(s.daylighting_controls, 'vertex_id');\n\t    });\n\t\n\t    commit('trimGeometry', { geometry_id: geometry_id, vertsReferencedElsewhere: vertsReferencedByDCs });\n\t  },\n\t  cloneStoryGeometry: function cloneStoryGeometry(context, payload) {\n\t    var currentStory = context.rootGetters['application/currentStoryGeometry'];\n\t    context.commit('updateClonedGeometry', { newGeom: payload, currentStoryId: currentStory.id });\n\t  }\n\t};\n\n/***/ }),\n/* 290 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _entries = __webpack_require__(186);\n\t\n\tvar _entries2 = _interopRequireDefault(_entries);\n\t\n\tvar _stringify = __webpack_require__(42);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _defineProperty2 = __webpack_require__(70);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _slicedToArray2 = __webpack_require__(53);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\texports.default = createFaceFromPoints;\n\texports.newGeometriesOfOverlappedFaces = newGeometriesOfOverlappedFaces;\n\texports.eraseSelection = eraseSelection;\n\texports.findExistingEdge = findExistingEdge;\n\texports.matchOrCreateEdges = matchOrCreateEdges;\n\texports.errOnTooFewVerts = errOnTooFewVerts;\n\texports.errOnDuplicateVerts = errOnDuplicateVerts;\n\texports.errOnVertexIntersectsEdge = errOnVertexIntersectsEdge;\n\texports.errOnEdgeIntersectsEdge = errOnEdgeIntersectsEdge;\n\texports.validateFaceGeometry = validateFaceGeometry;\n\texports.edgesToSplit = edgesToSplit;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _factory = __webpack_require__(123);\n\t\n\tvar _factory2 = _interopRequireDefault(_factory);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(46);\n\t\n\tvar _helpers4 = _interopRequireDefault(_helpers3);\n\t\n\tvar _utilities = __webpack_require__(126);\n\t\n\tvar _componentPreservationSociety = __webpack_require__(183);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction createFaceFromPoints(context, payload) {\n\t  var model_id = payload.model_id,\n\t      points = payload.points;\n\t\n\t\n\t  if ((0, _utilities.uniq)(points).length < 3) {\n\t    return;\n\t  }\n\t\n\t  var currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n\t  var target = _helpers4.default.libraryObjectWithId(context.rootState.models, model_id);\n\t\n\t  var existingFace = target.face_id ? _helpers2.default.faceForId(target.face_id, currentStoryGeometry) : null;\n\t  var facePoints = void 0;\n\t\n\t  if (existingFace) {\n\t    var existingFaceVertices = _helpers2.default.verticesForFaceId(existingFace.id, currentStoryGeometry);\n\t    facePoints = _helpers2.default.setOperation('union', existingFaceVertices, points);\n\t    if (facePoints.error) {\n\t      window.eventBus.$emit('error', 'Operation cancelled - ' + facePoints.error);\n\t      return;\n\t    }\n\t  } else {\n\t    facePoints = points;\n\t  }\n\t\n\t  var faceGeometry = validateFaceGeometry(facePoints, context.rootGetters['application/currentStoryGeometry'], context.rootGetters['project/snapTolerance']);\n\t  if (!faceGeometry.success) {\n\t    window.eventBus.$emit('error', faceGeometry.error);\n\t    console.error(faceGeometry.error);\n\t    return;\n\t  }\n\t\n\t  var newGeoms = newGeometriesOfOverlappedFaces(facePoints, _helpers2.default.exceptFace(currentStoryGeometry, existingFace && existingFace.id));\n\t\n\t  if (newGeoms.error) {\n\t    window.eventBus.$emit('error', 'Operation cancelled - ' + newGeoms.error);\n\t    return;\n\t  }\n\t\n\t  var newEdges = faceGeometry.edges.slice();\n\t  var newVertices = faceGeometry.vertices.slice();\n\t  (0, _componentPreservationSociety.withPreservedComponents)(context, currentStoryGeometry.id, function () {\n\t    var oldEdgeLength = currentStoryGeometry.edges.length,\n\t        oldVertexLength = currentStoryGeometry.vertices.length;\n\t\n\t    newGeoms.forEach(function (newGeom) {\n\t      return context.dispatch('replaceFacePoints', newGeom);\n\t    });\n\t\n\t    newEdges = newEdges.concat(currentStoryGeometry.edges.slice(oldEdgeLength));\n\t    newVertices = newVertices.concat(currentStoryGeometry.vertices.slice(oldVertexLength));\n\t\n\t    storeFace(faceGeometry, target, context, existingFace);\n\t\n\t    context.dispatch('trimGeometry', { geometry_id: currentStoryGeometry.id });\n\t\n\t    splitEdges(context, newEdges, newVertices);\n\t  });\n\t}\n\t\n\tfunction newGeometriesOfOverlappedFaces(points, geometry) {\n\t  if (points.length < 3 || !_helpers2.default.areaOfSelection(points)) {\n\t    return false;\n\t  }\n\t\n\t  var geom = _helpers2.default.denormalize(geometry);\n\t  var intersectedFaces = geom.faces.filter(function (face) {\n\t    var inter = _helpers2.default.intersection(face.vertices, points);\n\t\n\t    return inter.error || inter.length > 0;\n\t  });\n\t\n\t  var newFaceVertices = intersectedFaces.map(function (existingFace) {\n\t    return _helpers2.default.difference(existingFace.vertices, points);\n\t  });\n\t\n\t  var errantCase = _lodash2.default.find(newFaceVertices, 'error');\n\t  if (errantCase) {\n\t    return errantCase;\n\t  }\n\t\n\t  var newFaceGeometries = newFaceVertices.map(function (verts) {\n\t    return validateFaceGeometry(verts, geometry);\n\t  });\n\t\n\t  var errantGeometry = _lodash2.default.find(newFaceGeometries, 'error');\n\t  if (errantGeometry) {\n\t    return errantGeometry;\n\t  }\n\t\n\t  return _lodash2.default.zip(intersectedFaces, newFaceGeometries).map(function (_ref) {\n\t    var _ref2 = (0, _slicedToArray3.default)(_ref, 2),\n\t        face = _ref2[0],\n\t        _ref2$ = _ref2[1],\n\t        vertices = _ref2$.vertices,\n\t        edges = _ref2$.edges;\n\t\n\t    return {\n\t      geometry_id: geometry.id,\n\t      face_id: face.id,\n\t      vertices: vertices,\n\t      edges: edges\n\t    };\n\t  });\n\t}\n\t\n\tfunction eraseSelection(points, context) {\n\t  var currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n\t\n\t  if (points.length < 3 || !_helpers2.default.areaOfSelection(points)) {\n\t    return false;\n\t  }\n\t\n\t  var newGeoms = newGeometriesOfOverlappedFaces(points, currentStoryGeometry);\n\t\n\t  if (newGeoms.error) {\n\t    window.eventBus.$emit('error', 'Operation cancelled - ' + newGeoms.error);\n\t    return false;\n\t  }\n\t\n\t  var oldEdgeLength = currentStoryGeometry.edges.length,\n\t      oldVertexLength = currentStoryGeometry.vertices.length;\n\t\n\t  newGeoms.forEach(function (newGeom) {\n\t    return context.dispatch('replaceFacePoints', newGeom);\n\t  });\n\t\n\t  var newEdges = currentStoryGeometry.edges.slice(oldEdgeLength),\n\t      newVertices = currentStoryGeometry.vertices.slice(oldVertexLength);\n\t\n\t  splitEdges(context, newEdges, newVertices);\n\t\n\t  return true;\n\t}\n\t\n\tfunction storeFace(_ref3, target, context, existingFace) {\n\t  var vertices = _ref3.vertices,\n\t      edges = _ref3.edges;\n\t\n\t  var _context$dispatch;\n\t\n\t  var currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n\t  var face = existingFace || new _factory2.default.Face([]);\n\t\n\t  context.dispatch('replaceFacePoints', {\n\t    face_id: face.id,\n\t    geometry_id: currentStoryGeometry.id,\n\t    vertices: vertices,\n\t    edges: edges\n\t  });\n\t\n\t  context.dispatch(target.type === 'space' ? 'models/updateSpaceWithData' : 'models/updateShadingWithData', (_context$dispatch = {}, (0, _defineProperty3.default)(_context$dispatch, target.type, target), (0, _defineProperty3.default)(_context$dispatch, 'face_id', face.id), _context$dispatch), {\n\t    root: true\n\t  });\n\t}\n\t\n\tfunction findExistingEdge(v1, v2, edges) {\n\t  var sharedEdge = edges.find(function (e) {\n\t    return e.v1 === v1.id && e.v2 === v2.id || e.v2 === v1.id && e.v1 === v2.id;\n\t  });\n\t\n\t  return sharedEdge && (0, _extends3.default)({}, sharedEdge, {\n\t    reverse: sharedEdge.v1 === v2.id\n\t  });\n\t}\n\t\n\tfunction matchOrCreateEdge(existingEdges) {\n\t  return function (_ref4) {\n\t    var _ref5 = (0, _slicedToArray3.default)(_ref4, 2),\n\t        v1 = _ref5[0],\n\t        v2 = _ref5[1];\n\t\n\t    return findExistingEdge(v1, v2, existingEdges) || new _factory2.default.Edge(v1.id, v2.id);\n\t  };\n\t}\n\t\n\tfunction matchOrCreateEdges(vertices, existingEdges) {\n\t  if (!vertices.length) {\n\t    return [];\n\t  }\n\t  return _lodash2.default.zip(vertices, [].concat((0, _toConsumableArray3.default)(vertices.slice(1)), [vertices[0]])).map(matchOrCreateEdge(existingEdges));\n\t}\n\t\n\tfunction InvalidFaceGeometry(message) {\n\t  this.message = message;\n\t}\n\tInvalidFaceGeometry.prototype = new Error();\n\t\n\tfunction errOnTooFewVerts(vertices) {\n\t  if (vertices.length < 3) {\n\t    throw new InvalidFaceGeometry('can\\'t make a polygon with fewer than three vertices: ' + (0, _stringify2.default)(vertices));\n\t  }\n\t}\n\t\n\tfunction errOnDuplicateVerts(vertices) {\n\t  vertices.forEach(function (vertex) {\n\t    if (_lodash2.default.find(vertices, { x: vertex.x, y: vertex.y }).length >= 2) {\n\t      throw new InvalidFaceGeometry('Duplicate vertex at (' + vertex.x + ', ' + vertex.y + ')');\n\t    }\n\t  });\n\t}\n\t\n\tfunction errOnVertexIntersectsEdge(vertices, edges) {\n\t  edges.forEach(function (_ref6) {\n\t    var v1id = _ref6.v1,\n\t        v2id = _ref6.v2;\n\t\n\t    var v1 = _lodash2.default.find(vertices, { id: v1id }),\n\t        v2 = _lodash2.default.find(vertices, { id: v2id });\n\t\n\t    vertices.forEach(function (v) {\n\t      if (v.id === v1id || v.id === v2id) {\n\t        return;\n\t      }\n\t\n\t      if (!_helpers2.default.ptsAreCollinear(v1, v2, v)) {\n\t        return;\n\t      }\n\t\n\t      var positionAlongEdge = _lodash2.default.reject([(v.x - v1.x) / (v2.x - v1.x), (v.y - v1.y) / (v2.y - v1.y)], isNaN)[0];\n\t\n\t      if (positionAlongEdge > 1 || positionAlongEdge < 0) {\n\t        return;\n\t      }\n\t      throw new InvalidFaceGeometry('An edge is being touched by a vertex on the same face at (' + v.x + ', ' + v.y + ')');\n\t    });\n\t  });\n\t}\n\t\n\tfunction errOnEdgeIntersectsEdge(vertices, edges) {\n\t  var vertexMap = vertices.reduce(function (acc, cur) {\n\t    acc[cur.id] = cur;\n\t    return acc;\n\t  }, {});\n\t\n\t  (0, _utilities.allPairs)(edges).forEach(function (_ref7) {\n\t    var _ref8 = (0, _slicedToArray3.default)(_ref7, 2),\n\t        e1 = _ref8[0],\n\t        e2 = _ref8[1];\n\t\n\t    var e1v1 = vertexMap[e1.v1],\n\t        e1v2 = vertexMap[e1.v2],\n\t        e2v1 = vertexMap[e2.v1],\n\t        e2v2 = vertexMap[e2.v2];\n\t\n\t    var intersection = _helpers2.default.intersectionOfLines(e1v1, e1v2, e2v1, e2v2);\n\t    if (intersection) {\n\t      throw new InvalidFaceGeometry('Self intersection at ' + intersection.x + ', ' + intersection.y);\n\t    }\n\t  });\n\t}\n\t\n\tfunction validateFaceGeometry(points, currentStoryGeometry) {\n\t\n\t  if (points.length === 0) {\n\t    return {\n\t      success: true,\n\t      vertices: [],\n\t      edges: []\n\t    };\n\t  }\n\t  if (points.length <= 2) {\n\t    return { success: false, error: 'need at least 3 points to make a face' };\n\t  }\n\t\n\t  var faceVertices = points.map(function (point) {\n\t    return _helpers2.default.vertexForCoordinates(point, currentStoryGeometry) || new _factory2.default.Vertex(point.x, point.y);\n\t  });\n\t\n\t  faceVertices = (0, _utilities.dropConsecutiveDups)(faceVertices);\n\t\n\t  var faceEdges = matchOrCreateEdges(faceVertices, currentStoryGeometry.edges);\n\t\n\t  try {\n\t    errOnTooFewVerts(faceVertices);\n\t    errOnDuplicateVerts(faceVertices);\n\t    errOnVertexIntersectsEdge(faceVertices, faceEdges);\n\t    errOnEdgeIntersectsEdge(faceVertices, faceEdges);\n\t  } catch (e) {\n\t    if (e instanceof InvalidFaceGeometry) {\n\t      return {\n\t        success: false,\n\t        error: e.message\n\t      };\n\t    }\n\t\n\t    throw e;\n\t  }\n\t\n\t  return {\n\t    success: true,\n\t    vertices: faceVertices,\n\t    edges: faceEdges\n\t  };\n\t}\n\t\n\tfunction edgesFromVerts(verts, existingEdges) {\n\t  return _lodash2.default.zip(verts.slice(0, -1), verts.slice(1)).map(matchOrCreateEdge(existingEdges));\n\t}\n\t\n\tfunction replacementEdgeRefs(geometry, dyingEdgeId, newEdges) {\n\t  var affectedFaces = _helpers2.default.facesForEdgeId(dyingEdgeId, geometry);\n\t\n\t  var replaceEdgeRefs = affectedFaces.map(function (affectedFace) {\n\t    var dyingEdgeReversed = _lodash2.default.find(affectedFace.edgeRefs, { edge_id: dyingEdgeId }).reverse;\n\t\n\t    var replacementEdges = newEdges.map(function (_ref9) {\n\t      var id = _ref9.id,\n\t          reverse = _ref9.reverse;\n\t      return {\n\t        id: id,\n\t\n\t        reverse: !reverse !== !dyingEdgeReversed\n\t      };\n\t    });\n\t\n\t    if (dyingEdgeReversed) {\n\t      replacementEdges.reverse();\n\t    }\n\t\n\t    return {\n\t      type: 'replaceEdgeRef',\n\t      geometry_id: geometry.id,\n\t      edge_id: dyingEdgeId,\n\t      face_id: affectedFace.id,\n\t      newEdges: replacementEdges\n\t    };\n\t  });\n\t\n\t  return replaceEdgeRefs;\n\t}\n\t\n\tfunction edgesToSplit(geometry, spacing, newEdges, newVertices) {\n\t  var priorIterationEdges = [];\n\t\n\t  function determineEdges(geometry, edge, splittingVertices) {\n\t    if (splittingVertices.length === 0) {\n\t      return false;\n\t    }\n\t\n\t    var startpoint = _helpers2.default.vertexForId(edge.v1, geometry),\n\t        endpoint = _helpers2.default.vertexForId(edge.v2, geometry);\n\t\n\t    splittingVertices = _lodash2.default.sortBy(splittingVertices, function (v) {\n\t      return (0, _helpers.distanceBetweenPoints)(v, startpoint);\n\t    });\n\t\n\t    splittingVertices = [startpoint].concat((0, _toConsumableArray3.default)(splittingVertices), [endpoint]);\n\t\n\t    var newEdges = edgesFromVerts(splittingVertices, [].concat((0, _toConsumableArray3.default)(geometry.edges), priorIterationEdges)),\n\t        replaceEdgeRefs = replacementEdgeRefs(geometry, edge.id, newEdges);\n\t\n\t    priorIterationEdges.push.apply(priorIterationEdges, (0, _toConsumableArray3.default)(newEdges));\n\t    return {\n\t      edgeToDelete: edge.id,\n\t      newEdges: newEdges,\n\t      replaceEdgeRefs: replaceEdgeRefs\n\t    };\n\t  }\n\t\n\t  if (newEdges && newVertices) {\n\t    var obj = {};\n\t    newEdges.forEach(function (edge) {\n\t      var splittingVertices = _helpers2.default.splittingVerticesForEdgeId(edge, geometry, spacing);\n\t      var edgeInfo = determineEdges(geometry, edge, splittingVertices);\n\t      if (edgeInfo) {\n\t        obj[edgeInfo.edgeToDelete] = edgeInfo;\n\t      }\n\t    });\n\t\n\t    geometry.edges.forEach(function (edge) {\n\t      var splittingVertices = _helpers2.default.splittingVerticesForEdgeId(edge, geometry, spacing, newVertices);\n\t      var edgeInfo = determineEdges(geometry, edge, splittingVertices);\n\t      if (edgeInfo) {\n\t        obj[edgeInfo.edgeToDelete] = edgeInfo;\n\t      }\n\t    });\n\t\n\t    return (0, _entries2.default)(obj).map(function (_ref10) {\n\t      var _ref11 = (0, _slicedToArray3.default)(_ref10, 2),\n\t          _ = _ref11[0],\n\t          value = _ref11[1];\n\t\n\t      return value;\n\t    });\n\t  }\n\t\n\t  return geometry.edges.map(function (edge) {\n\t    var splittingVertices = _helpers2.default.splittingVerticesForEdgeId(edge, geometry, spacing);\n\t    return determineEdges(geometry, edge, splittingVertices);\n\t  }).filter(function (e) {\n\t    return e;\n\t  });\n\t}\n\t\n\tfunction splitEdges(context, newEdges, newVertices) {\n\t  var currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'],\n\t      currentProjectSpacing = context.rootState.project.grid.spacing,\n\t      edgeChanges = edgesToSplit(currentStoryGeometry, currentProjectSpacing, newEdges, newVertices);\n\t\n\t  edgeChanges.forEach(function (payload) {\n\t    return context.commit((0, _extends3.default)({\n\t      type: 'splitEdge',\n\t      geometry_id: currentStoryGeometry.id\n\t    }, payload));\n\t  });\n\t}\n\n/***/ }),\n/* 291 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _checkGeometry = __webpack_require__(311);\n\t\n\tvar _checkGeometry2 = _interopRequireDefault(_checkGeometry);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    denormalized: function denormalized(state) {\n\t        return state.map(function (g) {\n\t            return _helpers2.default.denormalize(g);\n\t        });\n\t    },\n\t    errors: function errors(state, getters) {\n\t        return _lodash2.default.flatMap(getters['denormalized'], _checkGeometry2.default);\n\t    },\n\t    exportData: function exportData(state, getters, rootState, rootGetters) {\n\t        return state.map(function (geometry) {\n\t            return {\n\t                id: geometry.id,\n\t                vertices: geometry.vertices.map(function (vertex) {\n\t                    return {\n\t                        id: vertex.id,\n\t                        x: Number(vertex.x),\n\t                        y: Number(vertex.y),\n\t                        edge_ids: _helpers2.default.edgesForVertexId(vertex.id, geometry).map(function (e) {\n\t                            return e.id;\n\t                        })\n\t                    };\n\t                }),\n\t\n\t                edges: geometry.edges.map(function (edge) {\n\t                    return {\n\t                        id: edge.id,\n\t                        vertex_ids: [edge.v1, edge.v2],\n\t                        face_ids: _helpers2.default.facesForEdgeId(edge.id, geometry).map(function (f) {\n\t                            return f.id;\n\t                        })\n\t                    };\n\t                }),\n\t\n\t                faces: geometry.faces.map(function (face) {\n\t                    return {\n\t                        id: face.id,\n\t                        edge_ids: face.edgeRefs.map(function (eR) {\n\t                            return eR.edge_id;\n\t                        }),\n\t\n\t                        edge_order: face.edgeRefs.map(function (eR) {\n\t                            return eR.reverse ? 0 : 1;\n\t                        })\n\t                    };\n\t                })\n\t            };\n\t        });\n\t    }\n\t};\n\n/***/ }),\n/* 292 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(289);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _mutations = __webpack_require__(293);\n\t\n\tvar mutations = _interopRequireWildcard(_mutations);\n\t\n\tvar _getters = __webpack_require__(291);\n\t\n\tvar _getters2 = _interopRequireDefault(_getters);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    namespaced: true,\n\t\n\t    state: [],\n\t    actions: _actions2.default,\n\t    mutations: mutations,\n\t    getters: _getters2.default\n\t};\n\n/***/ }),\n/* 293 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(42);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _set = __webpack_require__(324);\n\t\n\tvar _set2 = _interopRequireDefault(_set);\n\t\n\texports.trimGeometry = trimGeometry;\n\texports.initGeometry = initGeometry;\n\texports.createVertex = createVertex;\n\texports.createFace = createFace;\n\texports.destroyGeometry = destroyGeometry;\n\texports.createEdgeRef = createEdgeRef;\n\texports.setEdgeRefsForFace = setEdgeRefsForFace;\n\texports.destroyEdgeRef = destroyEdgeRef;\n\texports.replaceEdgeRef = replaceEdgeRef;\n\texports.ensureVertsExist = ensureVertsExist;\n\texports.ensureEdgesExist = ensureEdgesExist;\n\texports.splitEdge = splitEdge;\n\texports.replaceFacePoints = replaceFacePoints;\n\texports.updateClonedGeometry = updateClonedGeometry;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction trimGeometry(state, _ref) {\n\t  var geometry_id = _ref.geometry_id,\n\t      vertsReferencedElsewhere = _ref.vertsReferencedElsewhere;\n\t\n\t  var geometry = _lodash2.default.find(state, { id: geometry_id }),\n\t      edgesInUse = new _set2.default(_lodash2.default.flatMap(geometry.faces, function (f) {\n\t    return _lodash2.default.map(f.edgeRefs, 'edge_id');\n\t  })),\n\t      vertsOnEdges = _lodash2.default.flatMap(geometry.edges.filter(function (e) {\n\t    return edgesInUse.has(e.id);\n\t  }), function (e) {\n\t    return [e.v1, e.v2];\n\t  }),\n\t      verticesInUse = new _set2.default([].concat((0, _toConsumableArray3.default)(vertsReferencedElsewhere || []), (0, _toConsumableArray3.default)(vertsOnEdges)));\n\t  var newEdges = geometry.edges.filter(function (e) {\n\t    return edgesInUse.has(e.id);\n\t  });\n\t  var newVerts = geometry.vertices.filter(function (v) {\n\t    return verticesInUse.has(v.id);\n\t  });\n\t  var missingEdges = _lodash2.default.difference([].concat((0, _toConsumableArray3.default)(edgesInUse)), _lodash2.default.map(newEdges, 'id'));\n\t  if (missingEdges.length) {\n\t    console.error('An edge is referenced by a face, but does not exist!', (0, _stringify2.default)(geometry));\n\t  }\n\t  var missingVerts = _lodash2.default.difference(vertsOnEdges, _lodash2.default.map(newVerts, 'id'));\n\t  if (missingVerts.length) {\n\t    console.error('A vertex is referenced by a face, but does not exist!', (0, _stringify2.default)(geometry));\n\t  }\n\t  geometry.vertices = newVerts;\n\t  geometry.edges = newEdges;\n\t  geometry.faces = geometry.faces.filter(function (face) {\n\t    return face.edgeRefs.length > 0;\n\t  });\n\t}\n\t\n\tfunction initGeometry(state, payload) {\n\t  var geometry = payload.geometry;\n\t\n\t  state.push(geometry);\n\t}\n\t\n\tfunction createVertex(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      vertex = payload.vertex;\n\t\n\t  state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }).vertices.push(vertex);\n\t}\n\tfunction createFace(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      face = payload.face;\n\t\n\t  state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }).faces.push(face);\n\t}\n\t\n\tfunction destroyGeometry(state, payload) {\n\t  var id = payload.id;\n\t\n\t  for (var i = 0; i < state.length; i++) {\n\t    var g = state[i];\n\t    if (g.id === id) {\n\t      state.splice(state.findIndex(function (g) {\n\t        return g.id === id;\n\t      }), 1);\n\t      break;\n\t    } else if (~g.faces.map(function (f) {\n\t      return f.id;\n\t    }).indexOf(id)) {\n\t      g.faces.splice(g.faces.findIndex(function (f) {\n\t        return f.id === id;\n\t      }), 1);\n\t      break;\n\t    } else if (~g.edges.map(function (e) {\n\t      return e.id;\n\t    }).indexOf(id)) {\n\t      g.edges.splice(g.edges.findIndex(function (e) {\n\t        return e.id === id;\n\t      }), 1);\n\t      g.faces.forEach(function (face) {\n\t        face.edgeRefs.forEach(function (edgeRef) {\n\t          if (id === edgeRef.edge_id) {\n\t            face.edgeRefs.splice(face.edgeRefs.findIndex(function (r) {\n\t              return r.edge_id === id;\n\t            }), 1);\n\t          }\n\t        });\n\t      });\n\t      break;\n\t    } else if (~g.vertices.map(function (v) {\n\t      return v.id;\n\t    }).indexOf(id)) {\n\t      g.vertices.splice(g.vertices.findIndex(function (v) {\n\t        return v.id === id;\n\t      }), 1);\n\t      break;\n\t    }\n\t  }\n\t}\n\t\n\tfunction createEdgeRef(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      face_id = payload.face_id,\n\t      edgeRef = payload.edgeRef,\n\t      geometry = state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }),\n\t      face = geometry.faces.find(function (f) {\n\t    return f.id === face_id;\n\t  }),\n\t      edge = geometry.edges.find(function (e) {\n\t    return e.id === edgeRef.edge_id;\n\t  });\n\t\n\t\n\t  if (edge) {\n\t    face.edgeRefs.push(edgeRef);\n\t  }\n\t}\n\t\n\tfunction setEdgeRefsForFace(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      face_id = payload.face_id,\n\t      edgeRefs = payload.edgeRefs,\n\t      geometry = state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }),\n\t      face = geometry.faces.find(function (f) {\n\t    return f.id === face_id;\n\t  });\n\t\n\t  face.edgeRefs = edgeRefs.filter(function (ref) {\n\t    return geometry.edges.find(function (e) {\n\t      return e.id === ref.edge_id;\n\t    });\n\t  });\n\t}\n\t\n\tfunction destroyEdgeRef(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      face_id = payload.face_id,\n\t      edge_id = payload.edge_id,\n\t      geometry = state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }),\n\t      face = geometry.faces.find(function (f) {\n\t    return f.id === face_id;\n\t  });\n\t\n\t  face.edgeRefs.splice(face.edgeRefs.findIndex(function (eR) {\n\t    return eR.edge_id === edge_id;\n\t  }), 1);\n\t}\n\t\n\tfunction replaceEdgeRef(state, payload) {\n\t  var _face$edgeRefs;\n\t\n\t  var geometry_id = payload.geometry_id,\n\t      face_id = payload.face_id,\n\t      edge_id = payload.edge_id,\n\t      newEdges = payload.newEdges,\n\t      geometry = state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }),\n\t      face = geometry.faces.find(function (f) {\n\t    return f.id === face_id;\n\t  }),\n\t      edgeRefIx = _lodash2.default.findIndex(face.edgeRefs, { edge_id: edge_id });\n\t\n\t  (_face$edgeRefs = face.edgeRefs).splice.apply(_face$edgeRefs, [edgeRefIx, 1].concat((0, _toConsumableArray3.default)(newEdges.map(function (_ref2) {\n\t    var newEdgeId = _ref2.id,\n\t        reverse = _ref2.reverse;\n\t    return {\n\t      edge_id: newEdgeId,\n\t      reverse: reverse\n\t    };\n\t  }))));\n\t}\n\t\n\tfunction ensureVertsExist(state, _ref3) {\n\t  var geometry_id = _ref3.geometry_id,\n\t      vertices = _ref3.vertices;\n\t\n\t  var geometry = _lodash2.default.find(state, { id: geometry_id });\n\t  vertices.forEach(function (v) {\n\t    return _lodash2.default.find(geometry.vertices, { id: v.id }) || geometry.vertices.push(v);\n\t  });\n\t}\n\t\n\tfunction ensureEdgesExist(state, _ref4) {\n\t  var geometry_id = _ref4.geometry_id,\n\t      edges = _ref4.edges;\n\t\n\t  var geometry = _lodash2.default.find(state, { id: geometry_id });\n\t  edges.forEach(function (e) {\n\t    return _lodash2.default.find(geometry.edges, { id: e.id }) || geometry.edges.push(e);\n\t  });\n\t}\n\t\n\tfunction splitEdge(state, _ref5) {\n\t  var geometry_id = _ref5.geometry_id,\n\t      edgeToDelete = _ref5.edgeToDelete,\n\t      newEdges = _ref5.newEdges,\n\t      replaceEdgeRefs = _ref5.replaceEdgeRefs;\n\t\n\t  ensureEdgesExist(state, { geometry_id: geometry_id, edges: newEdges });\n\t  replaceEdgeRefs.forEach(function (replacement) {\n\t    return replaceEdgeRef(state, replacement);\n\t  });\n\t  destroyGeometry(state, { id: edgeToDelete });\n\t}\n\t\n\tfunction replaceFacePoints(state, _ref6) {\n\t  var geometry_id = _ref6.geometry_id,\n\t      vertices = _ref6.vertices,\n\t      edges = _ref6.edges,\n\t      face_id = _ref6.face_id;\n\t\n\t  var geometry = _lodash2.default.find(state, { id: geometry_id });\n\t\n\t  ensureVertsExist(state, { geometry_id: geometry_id, vertices: vertices });\n\t\n\t  ensureEdgesExist(state, { geometry_id: geometry_id, edges: edges, vertices: vertices });\n\t  var face = _lodash2.default.find(geometry.faces, { id: face_id });\n\t  if (!face) {\n\t    face = { id: face_id, edgeRefs: [] };\n\t    geometry.faces.push(face);\n\t  }\n\t\n\t  face.edgeRefs = edges.map(function (e) {\n\t    return {\n\t      edge_id: e.id,\n\t      reverse: !!e.reverse\n\t    };\n\t  });\n\t}\n\t\n\tfunction updateClonedGeometry(state, payload) {\n\t  var newGeometry = state.find(function (story) {\n\t    return story.id === payload.currentStoryId;\n\t  });\n\t  newGeometry.edges = payload.newGeom.edges;\n\t  newGeometry.faces = payload.newGeom.faces;\n\t  newGeometry.vertices = payload.newGeom.vertices;\n\t}\n\n/***/ }),\n/* 294 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _assign = __webpack_require__(81);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _keys = __webpack_require__(52);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _libconfig = __webpack_require__(95);\n\t\n\tvar _libconfig2 = _interopRequireDefault(_libconfig);\n\t\n\tvar _factory = __webpack_require__(124);\n\t\n\tvar _factory2 = _interopRequireDefault(_factory);\n\t\n\tvar _generateId = __webpack_require__(51);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tvar _factory3 = __webpack_require__(123);\n\t\n\tvar _factory4 = _interopRequireDefault(_factory3);\n\t\n\tvar _helpers = __webpack_require__(46);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(15);\n\t\n\tvar _helpers4 = _interopRequireDefault(_helpers3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  initStory: function initStory(context) {\n\t    var name = _helpers2.default.generateName(context.state, 'stories');\n\t    var story = new _factory2.default.Story(name);\n\t\n\t    context.commit('initStory', { story: story });\n\t\n\t    context.dispatch('geometry/initGeometry', { story_id: story.id }, { root: true });\n\t\n\t    context.dispatch('initSpace', { story: story });\n\t    context.dispatch('initShading', { story: story });\n\t    context.dispatch('selectStory', { story: story });\n\t  },\n\t  initSpace: function initSpace(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        name = _helpers2.default.generateName(context.state, 'spaces', story),\n\t        space = new _factory2.default.Space(name);\n\t\n\t    context.commit('initSpace', { story: story, space: space });\n\t  },\n\t  initShading: function initShading(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        name = _helpers2.default.generateName(context.state, 'shading', story),\n\t        shading = new _factory2.default.Shading(name);\n\t\n\t    context.commit('initShading', { story: story, shading: shading });\n\t  },\n\t  destroyStory: function destroyStory(context, payload) {\n\t    var stories = context.state.stories;\n\t    var storyIndex = stories.findIndex(function (s) {\n\t      return s.id === payload.story.id;\n\t    });\n\t    var story = stories[storyIndex];\n\t\n\t    context.commit('destroyStory', { story: story });\n\t    context.dispatch('geometry/destroyGeometry', story.geometry_id, { root: true });\n\t    if (stories.length === 0) {\n\t      context.dispatch('initStory');\n\t    } else {\n\t      context.dispatch('selectStory', { story: stories[storyIndex - 1] });\n\t    }\n\t  },\n\t  destroySpace: function destroySpace(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        space = story.spaces.find(function (s) {\n\t      return s.id === payload.space.id;\n\t    });\n\t\n\t    context.commit('destroySpace', {\n\t      space: space,\n\t      story: story\n\t    });\n\t    var geom = context.rootGetters['application/currentStoryGeometry'];\n\t    var face = geom.faces.find(function (f) {\n\t      return f.id === space.face_id;\n\t    });\n\t    if (face) {\n\t      var edges = geom.edges.filter(function (edge) {\n\t        return face.edgeRefs.map(function (er) {\n\t          return er.edge_id;\n\t        }).includes(edge.id);\n\t      });\n\t      edges.forEach(function (edge) {\n\t        var windows = story.windows.filter(function (w) {\n\t          return w.edge_id === edge.id;\n\t        });\n\t        windows.forEach(function (window) {\n\t          return context.dispatch('destroyWindow', {\n\t            story_id: story.id,\n\t            object: window\n\t          });\n\t        });\n\t      });\n\t\n\t      context.dispatch('geometry/destroyFaceAndDescendents', {\n\t        face: face,\n\t        geometry_id: geom.id\n\t      }, { root: true });\n\t    }\n\t  },\n\t  destroyShading: function destroyShading(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        shading = story.shading.find(function (s) {\n\t      return s.id === payload.shading.id;\n\t    });\n\t\n\t    context.commit('destroyShading', {\n\t      shading: shading,\n\t      story: story\n\t    });\n\t\n\t    var face = context.rootGetters['application/currentStoryGeometry'].faces.find(function (f) {\n\t      return f.id === shading.face_id;\n\t    });\n\t    if (face) {\n\t      context.dispatch('geometry/destroyFaceAndDescendents', {\n\t        face: face,\n\t        geometry_id: context.rootGetters['application/currentStoryGeometry'].id\n\t      }, { root: true });\n\t    }\n\t  },\n\t  destroyImage: function destroyImage(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        image = story.images.find(function (i) {\n\t      return i.id === payload.image.id;\n\t    });\n\t\n\t    context.commit('destroyImage', {\n\t      image: image,\n\t      story: story\n\t    });\n\t  },\n\t  destroyWindowDef: function destroyWindowDef(context, payload) {\n\t    context.commit('destroyWindowsByDefinition', payload.object);\n\t    context.commit('destroyObject', payload);\n\t  },\n\t  destroyDaylightingControlDef: function destroyDaylightingControlDef(context, payload) {\n\t    context.commit('destroyDaylightingControlsByDefinition', payload.object);\n\t    context.commit('destroyObject', payload);\n\t  },\n\t  destroyDoorDef: function destroyDoorDef(context, payload) {\n\t    context.commit('destroyDoorsByDefinition', payload.object);\n\t    context.commit('destroyObject', payload);\n\t  },\n\t  destroyObject: function destroyObject(context, payload) {\n\t    context.commit('destroyObject', {\n\t      object: payload.object\n\t    });\n\t  },\n\t  updateStoryWithData: function updateStoryWithData(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        validProperties = (0, _keys2.default)(_libconfig2.default.stories.keymap),\n\t        cleanedPayload = {};\n\t\n\t    for (var key in payload) {\n\t      if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n\t        cleanedPayload[key] = payload[key];\n\t      }\n\t    }\n\t    cleanedPayload.story = story;\n\t\n\t    context.commit('updateStoryWithData', cleanedPayload);\n\t  },\n\t  updateSpaceWithData: function updateSpaceWithData(context, payload) {\n\t    var space = context.getters.allSpaces.find(function (s) {\n\t      return s.id === payload.space.id;\n\t    }),\n\t        validProperties = (0, _keys2.default)(space),\n\t        cleanedPayload = {};\n\t\n\t    for (var key in payload) {\n\t      if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n\t        cleanedPayload[key] = payload[key];\n\t      }\n\t    }\n\t    cleanedPayload.space = space;\n\t\n\t    context.commit('updateSpaceWithData', cleanedPayload);\n\t  },\n\t  updateShadingWithData: function updateShadingWithData(context, payload) {\n\t    var shading = context.getters.allShading.find(function (s) {\n\t      return s.id === payload.shading.id;\n\t    }),\n\t        validProperties = (0, _keys2.default)(shading),\n\t        cleanedPayload = {};\n\t\n\t    for (var key in payload) {\n\t      if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n\t        cleanedPayload[key] = payload[key];\n\t      }\n\t    }\n\t    cleanedPayload.shading = shading;\n\t\n\t    context.commit('updateShadingWithData', cleanedPayload);\n\t  },\n\t  updateImageWithData: function updateImageWithData(context, payload) {\n\t    var image = context.getters.allImages.find(function (i) {\n\t      return i.id === payload.image.id;\n\t    }),\n\t        validProperties = _lodash2.default.difference((0, _keys2.default)(image), ['src', 'naturalWidth', 'naturalHeight']);\n\t\n\t    if (payload.scale) {\n\t      payload.height = payload.scale * image.naturalHeight;\n\t      payload.width = payload.scale * image.naturalWidth;\n\t    }\n\t    var cleanedPayload = _lodash2.default.pick(payload, validProperties);\n\t    cleanedPayload.image = image;\n\t\n\t    context.commit('updateImageWithData', cleanedPayload);\n\t  },\n\t  updateWindowDefinitionWithData: function updateWindowDefinitionWithData(_ref, payload) {\n\t    var state = _ref.state,\n\t        dispatch = _ref.dispatch;\n\t    var id = payload.object.id;\n\t\n\t\n\t    var windowDefnDefaults = _lodash2.default.pick((0, _factory.getDefaults)('WindowDefinition'), ['height', 'width', 'window_spacing', 'wwr']);\n\t\n\t    if (payload.window_definition_mode === 'Window to Wall Ratio') {\n\t      (0, _assign2.default)(payload, windowDefnDefaults, {\n\t        height: null,\n\t        width: null,\n\t        window_spacing: null\n\t      });\n\t    } else if (payload.window_definition_mode === 'Repeating Windows') {\n\t      (0, _assign2.default)(payload, windowDefnDefaults, {\n\t        wwr: null\n\t      });\n\t    } else if (payload.window_definition_mode === 'Single Window') {\n\t      (0, _assign2.default)(payload, windowDefnDefaults, {\n\t        wwr: null,\n\t        window_spacing: null\n\t      });\n\t    } else if (payload.window_definition_mode) {\n\t      throw new Error('unrecognized window_definition_mode: ' + payload.window_definition_mode);\n\t    }\n\t\n\t    if (_lodash2.default.includes(['Window to Wall Ratio', 'Repeating Windows'], payload.window_definition_mode)) {\n\t      var windowsToDelete = _lodash2.default.flatMap(state.stories, function (story) {\n\t        return _lodash2.default.chain(story.windows).filter({ window_definition_id: id }).groupBy('edge_id').values().flatMap(_lodash2.default.tail).map(function (w) {\n\t          return { story_id: story.id, object: { id: w.id } };\n\t        }).value();\n\t      });\n\t\n\t      windowsToDelete.forEach(function (pl) {\n\t        return dispatch('destroyWindow', pl);\n\t      });\n\t    }\n\t\n\t    dispatch('updateObjectWithData', payload);\n\t  },\n\t  updateObjectWithData: function updateObjectWithData(context, payload) {\n\t    var object = _helpers2.default.libraryObjectWithId(context.state, payload.object.id);\n\t    payload.object = object;\n\t\n\t    context.commit('updateObjectWithData', payload);\n\t  },\n\t  createImageForStory: function createImageForStory(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story_id;\n\t    });\n\t    var name = _helpers2.default.generateName(context.state, 'images', story);\n\t    var image = new _factory2.default.Image(name, payload.src);\n\t\n\t    image.height = payload.height;\n\t    image.width = payload.width;\n\t    image.x = payload.x;\n\t    image.y = payload.y;\n\t    image.naturalWidth = payload.naturalWidth;\n\t    image.naturalHeight = payload.naturalHeight;\n\t\n\t    context.commit('createImageForStory', {\n\t      story_id: story.id,\n\t      image: image\n\t    });\n\t  },\n\t  createObjectWithType: function createObjectWithType(context, payload) {\n\t    var type = payload.type,\n\t        name = _helpers2.default.generateName(context.state, type),\n\t        object = new _helpers2.default.map[type].init({ name: name });\n\t\n\t    context.commit('initObject', { type: type, object: object });\n\t  },\n\t  createObjectWithTypeAndSelect: function createObjectWithTypeAndSelect(context, payload) {\n\t    var space_id = payload.space_id,\n\t        type = payload.type,\n\t        type_id = payload.type_id,\n\t        name = _helpers2.default.generateName(context.state, type),\n\t        object = new _helpers2.default.map[type].init({ name: name });\n\t\n\t    context.commit('initObjectWithSelection', { space_id: space_id, type: type, type_id: type_id, object: object });\n\t  },\n\t  selectStory: function selectStory(context, payload) {\n\t    var story = payload.story;\n\t    context.dispatch('application/setCurrentStoryId', { id: story.id }, { root: true });\n\t  },\n\t  cloneStory: function cloneStory(context, payload) {\n\t    var currentStory = context.rootGetters['application/currentStory'];\n\t    context.commit('cloneObjectArray', { storyInfo: payload, currentStory: currentStory });\n\t  },\n\t  createWindow: function createWindow(context, payload) {\n\t    var story_id = payload.story_id,\n\t        edge_id = payload.edge_id,\n\t        window_definition_id = payload.window_definition_id,\n\t        alpha = payload.alpha,\n\t        story = _lodash2.default.find(context.state.stories, { id: story_id }),\n\t        windowDefn = _lodash2.default.find(context.state.library.window_definitions, { id: window_definition_id }),\n\t        geometry = story && _lodash2.default.find(context.rootState.geometry, { id: story.geometry_id }),\n\t        edge = geometry && _lodash2.default.find(geometry.edges, { id: edge_id });\n\t\n\t    if (!story) {\n\t      throw new Error('Story not found');\n\t    } else if (!windowDefn) {\n\t      throw new Error('Window Definition not found');\n\t    } else if (!geometry) {\n\t      throw new Error('Geometry not found');\n\t    } else if (!edge) {\n\t      throw new Error('Edge not found');\n\t    } else if (alpha < 0 || alpha > 1) {\n\t      throw new Error('Alpha must be between 0 and 1');\n\t    }\n\t\n\t    var windowsOnEdge = _lodash2.default.filter(story.windows, { edge_id: edge_id }).map(function (w) {\n\t      return (0, _extends3.default)({}, w, {\n\t        window_definition_mode: _lodash2.default.find(context.state.library.window_definitions, { id: w.window_definition_id }).window_definition_mode\n\t      });\n\t    });\n\t    var windowsToDelete = void 0;\n\t    if (windowDefn.window_definition_mode === 'Single Window') {\n\t      windowsToDelete = _lodash2.default.reject(windowsOnEdge, { window_definition_mode: 'Single Window' });\n\t    } else {\n\t      windowsToDelete = windowsOnEdge;\n\t    }\n\t    windowsToDelete.forEach(function (w) {\n\t      return context.commit('destroyWindow', { story_id: story_id, object: { id: w.id } });\n\t    });\n\t\n\t    context.commit('createWindow', (0, _extends3.default)({}, payload, {\n\t      id: _generateId2.default.generate(),\n\t      name: (0, _generateId.genName)(windowDefn.name)\n\t    }));\n\t  },\n\t  createWindows: function createWindows(context, payload) {\n\t    var deletes = [];\n\t    var creates = [];\n\t\n\t    payload.forEach(function (p) {\n\t      var story_id = p.story_id,\n\t          edge_id = p.edge_id,\n\t          window_definition_id = p.window_definition_id,\n\t          alpha = p.alpha,\n\t          story = _lodash2.default.find(context.state.stories, { id: story_id }),\n\t          windowDefn = _lodash2.default.find(context.state.library.window_definitions, { id: window_definition_id }),\n\t          geometry = story && _lodash2.default.find(context.rootState.geometry, { id: story.geometry_id }),\n\t          edge = geometry && _lodash2.default.find(geometry.edges, { id: edge_id });\n\t\n\t      if (!story) {\n\t        throw new Error('Story not found');\n\t      } else if (!windowDefn) {\n\t        throw new Error('Window Definition not found');\n\t      } else if (!geometry) {\n\t        throw new Error('Geometry not found');\n\t      } else if (!edge) {\n\t        throw new Error('Edge not found');\n\t      } else if (alpha < 0 || alpha > 1) {\n\t        throw new Error('Alpha must be between 0 and 1');\n\t      }\n\t\n\t      var windowsOnEdge = _lodash2.default.filter(story.windows, { edge_id: edge_id }).map(function (w) {\n\t        return (0, _extends3.default)({}, w, {\n\t          window_definition_mode: _lodash2.default.find(context.state.library.window_definitions, { id: w.window_definition_id }).window_definition_mode\n\t        });\n\t      });\n\t      var windowsToDelete = void 0;\n\t      if (windowDefn.window_definition_mode === 'Single Window') {\n\t        windowsToDelete = _lodash2.default.reject(windowsOnEdge, { window_definition_mode: 'Single Window' });\n\t      } else {\n\t        windowsToDelete = windowsOnEdge;\n\t      }\n\t      windowsToDelete.forEach(function (w) {\n\t        return deletes.push({ story_id: story_id, object: { id: w.id } });\n\t      });\n\t\n\t      creates.push((0, _extends3.default)({}, p, {\n\t        id: _generateId2.default.generate(),\n\t        name: (0, _generateId.genName)(windowDefn.name)\n\t      }));\n\t    });\n\t\n\t    context.commit('destroyWindows', deletes);\n\t    context.commit('createWindows', creates);\n\t  },\n\t  createDoor: function createDoor(context, payload) {\n\t    var story_id = payload.story_id,\n\t        edge_id = payload.edge_id,\n\t        door_definition_id = payload.door_definition_id,\n\t        alpha = payload.alpha,\n\t        story = _lodash2.default.find(context.state.stories, { id: story_id }),\n\t        doorDefn = _lodash2.default.find(context.state.library.door_definitions, { id: door_definition_id }),\n\t        geometry = story && _lodash2.default.find(context.rootState.geometry, { id: story.geometry_id }),\n\t        edge = geometry && _lodash2.default.find(geometry.edges, { id: edge_id });\n\t\n\t    if (!story) {\n\t      throw new Error('Story not found');\n\t    } else if (!doorDefn) {\n\t      throw new Error('Door Definition not found');\n\t    } else if (!geometry) {\n\t      throw new Error('Geometry not found');\n\t    } else if (!edge) {\n\t      throw new Error('Edge not found');\n\t    } else if (alpha < 0 || alpha > 1) {\n\t      throw new Error('Alpha must be between 0 and 1');\n\t    }\n\t\n\t    context.commit('createDoor', (0, _extends3.default)({}, payload, {\n\t      id: _generateId2.default.generate(),\n\t      name: (0, _generateId.genName)(doorDefn.name)\n\t    }));\n\t  },\n\t  createDoors: function createDoors(context, payload) {\n\t    var arr = payload.map(function (p) {\n\t      var story_id = p.story_id,\n\t          edge_id = p.edge_id,\n\t          door_definition_id = p.door_definition_id,\n\t          alpha = p.alpha,\n\t          story = _lodash2.default.find(context.state.stories, { id: story_id }),\n\t          doorDefn = _lodash2.default.find(context.state.library.door_definitions, { id: door_definition_id }),\n\t          geometry = story && _lodash2.default.find(context.rootState.geometry, { id: story.geometry_id }),\n\t          edge = geometry && _lodash2.default.find(geometry.edges, { id: edge_id });\n\t\n\t      if (!story) {\n\t        throw new Error('Story not found');\n\t      } else if (!doorDefn) {\n\t        throw new Error('Door Definition not found');\n\t      } else if (!geometry) {\n\t        throw new Error('Geometry not found');\n\t      } else if (!edge) {\n\t        throw new Error('Edge not found');\n\t      } else if (alpha < 0 || alpha > 1) {\n\t        throw new Error('Alpha must be between 0 and 1');\n\t      }\n\t\n\t      return (0, _extends3.default)({}, p, {\n\t        id: _generateId2.default.generate(),\n\t        name: (0, _generateId.genName)(doorDefn.name)\n\t      });\n\t    });\n\t\n\t    context.commit('createDoors', arr);\n\t  },\n\t  createDaylightingControl: function createDaylightingControl(context, payload) {\n\t    var story_id = payload.story_id,\n\t        face_id = payload.face_id,\n\t        daylighting_control_definition_id = payload.daylighting_control_definition_id,\n\t        x = payload.x,\n\t        y = payload.y,\n\t        story = _lodash2.default.find(context.state.stories, { id: story_id }),\n\t        daylightingDefn = _lodash2.default.find(context.state.library.daylighting_control_definitions, { id: daylighting_control_definition_id }),\n\t        geometry = story && _lodash2.default.find(context.rootState.geometry, { id: story.geometry_id }),\n\t        face = geometry && _lodash2.default.find(geometry.faces, { id: face_id }),\n\t        vertex = geometry && (_helpers4.default.vertexForCoordinates({ x: x, y: y }, geometry) || _factory4.default.Vertex(x, y));\n\t\n\t    if (!story) {\n\t      throw new Error('Story not found');\n\t    } else if (!daylightingDefn) {\n\t      throw new Error('Daylighting Control Definition not found');\n\t    } else if (!geometry) {\n\t      throw new Error('Geometry not found');\n\t    } else if (!face) {\n\t      throw new Error('Face not found');\n\t    } else if (!vertex.id) {\n\t      throw new Error('Unable to find or create vertex');\n\t    }\n\t    context.commit('geometry/ensureVertsExist', { geometry_id: geometry.id, vertices: [vertex] }, { root: true });\n\t    context.commit('createDaylightingControl', (0, _extends3.default)({}, payload, {\n\t      vertex_id: vertex.id,\n\t      id: _generateId2.default.generate(),\n\t      name: (0, _generateId.genName)(daylightingDefn.name)\n\t    }));\n\t  },\n\t  destroyDaylightingControl: function destroyDaylightingControl(_ref2, payload) {\n\t    var commit = _ref2.commit;\n\t\n\t    commit('destroyDaylightingControl', payload);\n\t  },\n\t  destroyWindow: function destroyWindow(_ref3, payload) {\n\t    var commit = _ref3.commit;\n\t\n\t    commit('destroyWindow', payload);\n\t  },\n\t  destroyWindows: function destroyWindows(_ref4, payload) {\n\t    var commit = _ref4.commit;\n\t\n\t    commit('destroyWindows', payload);\n\t  },\n\t  destroyDoor: function destroyDoor(_ref5, payload) {\n\t    var commit = _ref5.commit;\n\t\n\t    commit('destroyDoor', payload);\n\t  },\n\t  destroyDoors: function destroyDoors(_ref6, payload) {\n\t    var commit = _ref6.commit;\n\t\n\t    commit('destroyDoors', payload);\n\t  },\n\t  modifyDaylightingControl: function modifyDaylightingControl(_ref7, payload) {\n\t    var commit = _ref7.commit;\n\t\n\t    commit('modifyDaylightingControl', payload);\n\t  },\n\t  modifyWindow: function modifyWindow(_ref8, payload) {\n\t    var commit = _ref8.commit;\n\t\n\t    commit('modifyWindow', payload);\n\t  },\n\t  modifyDoor: function modifyDoor(_ref9, payload) {\n\t    var commit = _ref9.commit;\n\t\n\t    commit('modifyDoor', payload);\n\t  },\n\t  destroyAllComponents: function destroyAllComponents(_ref10, _ref11) {\n\t    var commit = _ref10.commit;\n\t    var story_id = _ref11.story_id;\n\t\n\t    commit('dropDaylightingControls', { story_id: story_id });\n\t    commit('dropWindows', { story_id: story_id });\n\t    commit('dropDoors', { story_id: story_id });\n\t  }\n\t};\n\n/***/ }),\n/* 295 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof2 = __webpack_require__(187);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\texports.number = number;\n\texports.bool = bool;\n\texports.gt0orNull = gt0orNull;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction number(n, col) {\n\t  if (n === '' || n === null) {\n\t    return _lodash2.default.has(col, 'default') ? col.default : col.nullable ? null : 0;\n\t  }\n\t  return +n;\n\t}\n\tfunction bool(b) {\n\t  return (typeof b === 'undefined' ? 'undefined' : (0, _typeof3.default)(b)) === (0, _typeof3.default)(true) ? b : b.toLowerCase() === 'true';\n\t}\n\tfunction gt0orNull(n) {\n\t  return +n || null;\n\t}\n\n/***/ }),\n/* 296 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _keys = __webpack_require__(52);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    allSpaces: function allSpaces(state, getters, rootState, rootGetters) {\n\t        return rootState.models.stories.reduce(function (spaces, story) {\n\t            return spaces.concat(story.spaces);\n\t        }, []);\n\t    },\n\t    allShading: function allShading(state, getters, rootState, rootGetters) {\n\t        return rootState.models.stories.reduce(function (shading, story) {\n\t            return shading.concat(story.shading);\n\t        }, []);\n\t    },\n\t    allImages: function allImages(state, getters, rootState, rootGetters) {\n\t        return rootState.models.stories.reduce(function (images, story) {\n\t            return images.concat(story.images);\n\t        }, []);\n\t    },\n\t    all: function all(state, getters, rootState, rootGetters) {\n\t        var objs = (0, _extends3.default)({}, rootState.models.library, {\n\t            stories: rootState.models.stories,\n\t            spaces: getters.allSpaces,\n\t            shading: getters.allShading,\n\t            images: getters.allImages\n\t        });\n\t\n\t        return (0, _keys2.default)(objs).reduce(function (out, key) {\n\t            out.push.apply(out, (0, _toConsumableArray3.default)(objs[key]));\n\t            return out;\n\t        }, []);\n\t    }\n\t};\n\n/***/ }),\n/* 297 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(294);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _mutations = __webpack_require__(298);\n\t\n\tvar _mutations2 = _interopRequireDefault(_mutations);\n\t\n\tvar _getters = __webpack_require__(296);\n\t\n\tvar _getters2 = _interopRequireDefault(_getters);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    namespaced: true,\n\t    state: {\n\t        stories: [],\n\t\n\t        library: {\n\t            building_units: [],\n\t            thermal_zones: [],\n\t            space_types: [],\n\t            building_types: [{\n\t                id: 'SecondarySchool',\n\t                name: 'Secondary School'\n\t            }, {\n\t                id: 'PrimarySchool',\n\t                name: 'Primary School'\n\t            }, {\n\t                id: 'SmallOffice',\n\t                name: 'Small Office'\n\t            }, {\n\t                id: 'MediumOffice',\n\t                name: 'Medium Office'\n\t            }, {\n\t                id: 'LargeOffice',\n\t                name: 'Large Office'\n\t            }, {\n\t                id: 'SmallHotel',\n\t                name: 'Small Hotel'\n\t            }, {\n\t                id: 'LargeHotel',\n\t                name: 'Large Hotel'\n\t            }, {\n\t                id: 'Warehouse',\n\t                name: 'Warehouse'\n\t            }, {\n\t                id: 'RetailStandalone',\n\t                name: 'Retail Standalone'\n\t            }, {\n\t                id: 'RetailStripmall',\n\t                name: 'Retail Stripmall'\n\t            }, {\n\t                id: 'QuickServiceRestaurant',\n\t                name: 'Quick Service Restaurant'\n\t            }, {\n\t                id: 'FullServiceRestaurant',\n\t                name: 'Full Service Restaurant'\n\t            }, {\n\t                id: 'MidriseApartment',\n\t                name: 'Midrise Apartment'\n\t            }, {\n\t                id: 'HighriseApartment',\n\t                name: 'Highrise Apartment'\n\t            }, {\n\t                id: 'Hospital',\n\t                name: 'Hospital'\n\t            }, {\n\t                id: 'Outpatient',\n\t                name: 'Outpatient'\n\t            }, {\n\t                id: 'SuperMarket',\n\t                name: 'Super Market'\n\t            }, {\n\t                id: 'Laboratory',\n\t                name: 'Laboratory'\n\t            }, {\n\t                id: 'LargeDataCenterLowITE',\n\t                name: 'Large Data Center Low ITE'\n\t            }, {\n\t                id: 'LargeDataCenterHighITE',\n\t                name: 'Large Data Center High ITE'\n\t            }, {\n\t                id: 'SmallDataCenterLowITE',\n\t                name: 'Small Data Center Low ITE'\n\t            }, {\n\t                id: 'SmallDataCenterHighITE',\n\t                name: 'Small Data Center High ITE'\n\t            }],\n\t            construction_sets: [],\n\t            window_definitions: [],\n\t            daylighting_control_definitions: [],\n\t            pitched_roofs: [],\n\t            door_definitions: []\n\t        }\n\t    },\n\t    actions: _actions2.default,\n\t    mutations: _mutations2.default,\n\t    getters: _getters2.default\n\t};\n\n/***/ }),\n/* 298 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray2 = __webpack_require__(53);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _entries = __webpack_require__(186);\n\t\n\tvar _entries2 = _interopRequireDefault(_entries);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _assign = __webpack_require__(81);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _getIterator2 = __webpack_require__(96);\n\t\n\tvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(46);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  initStory: function initStory(state, payload) {\n\t    state.stories.push(payload.story);\n\t  },\n\t  initSpace: function initSpace(state, payload) {\n\t    payload.story.spaces.push(payload.space);\n\t  },\n\t  initShading: function initShading(state, payload) {\n\t    payload.story.shading.push(payload.shading);\n\t  },\n\t  initObject: function initObject(state, payload) {\n\t    state.library[payload.type].push(payload.object);\n\t  },\n\t  initObjectWithSelection: function initObjectWithSelection(state, payload) {\n\t    state.library[payload.type].push(payload.object);\n\t\n\t    var _iteratorNormalCompletion = true;\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t      for (var _iterator = (0, _getIterator3.default)(state.stories), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t        var story = _step.value;\n\t        var _iteratorNormalCompletion2 = true;\n\t        var _didIteratorError2 = false;\n\t        var _iteratorError2 = undefined;\n\t\n\t        try {\n\t          for (var _iterator2 = (0, _getIterator3.default)(story.spaces), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t            var space = _step2.value;\n\t\n\t            if (space.id === payload.space_id) {\n\t              space[payload.type_id] = payload.object.id;\n\t              return;\n\t            }\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError2 = true;\n\t          _iteratorError2 = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t              _iterator2.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError2) {\n\t              throw _iteratorError2;\n\t            }\n\t          }\n\t        }\n\t      }\n\t    } catch (err) {\n\t      _didIteratorError = true;\n\t      _iteratorError = err;\n\t    } finally {\n\t      try {\n\t        if (!_iteratorNormalCompletion && _iterator.return) {\n\t          _iterator.return();\n\t        }\n\t      } finally {\n\t        if (_didIteratorError) {\n\t          throw _iteratorError;\n\t        }\n\t      }\n\t    }\n\t  },\n\t  destroySpace: function destroySpace(state, payload) {\n\t    payload.story.spaces.splice(payload.story.spaces.findIndex(function (s) {\n\t      return s.id === payload.space.id;\n\t    }), 1);\n\t  },\n\t  destroyShading: function destroyShading(state, payload) {\n\t    payload.story.shading.splice(payload.story.shading.findIndex(function (s) {\n\t      return s.id === payload.shading.id;\n\t    }), 1);\n\t  },\n\t  destroyImage: function destroyImage(state, payload) {\n\t    payload.story.images.splice(payload.story.images.findIndex(function (i) {\n\t      return i.id === payload.image.id;\n\t    }), 1);\n\t  },\n\t  destroyStory: function destroyStory(state, payload) {\n\t    state.stories.splice(state.stories.findIndex(function (s) {\n\t      return s.id === payload.story.id;\n\t    }), 1);\n\t  },\n\t  destroyObject: function destroyObject(state, _ref) {\n\t    var id = _ref.object.id;\n\t\n\t    state.library = _lodash2.default.mapValues(state.library, function (lst) {\n\t      return _lodash2.default.reject(lst, { id: id });\n\t    });\n\t  },\n\t  updateStoryWithData: function updateStoryWithData(state, payload) {\n\t    var story = payload.story;\n\t    delete payload.story;\n\t    (0, _assign2.default)(story, payload);\n\t  },\n\t  createImageForStory: function createImageForStory(state, payload) {\n\t    var story = state.stories.find(function (s) {\n\t      return s.id === payload.story_id;\n\t    });\n\t    story.images.push(payload.image);\n\t  },\n\t  updateSpaceWithData: function updateSpaceWithData(state, payload) {\n\t    var space = payload.space;\n\t\n\t    if (payload.building_type_id && space.building_unit_id) {\n\t      state.stories = state.stories.map(function (story) {\n\t        return (0, _extends3.default)({}, story, {\n\t          spaces: story.spaces.map(function (s) {\n\t            if (s.building_unit_id === space.building_unit_id) {\n\t              return (0, _extends3.default)({}, s, {\n\t                building_type_id: payload.building_type_id\n\t              });\n\t            } else {\n\t              return s;\n\t            }\n\t          })\n\t        });\n\t      });\n\t    } else if (payload.building_unit_id) {\n\t      var found = false;\n\t      var _iteratorNormalCompletion3 = true;\n\t      var _didIteratorError3 = false;\n\t      var _iteratorError3 = undefined;\n\t\n\t      try {\n\t        for (var _iterator3 = (0, _getIterator3.default)(state.stories), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t          var story = _step3.value;\n\t          var _iteratorNormalCompletion4 = true;\n\t          var _didIteratorError4 = false;\n\t          var _iteratorError4 = undefined;\n\t\n\t          try {\n\t            for (var _iterator4 = (0, _getIterator3.default)(story.spaces), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t              var _space = _step4.value;\n\t\n\t              if (_space.building_unit_id === payload.building_unit_id) {\n\t                payload = (0, _extends3.default)({}, payload, {\n\t                  building_type_id: _space.building_type_id\n\t                });\n\t                found = true;\n\t                break;\n\t              }\n\t            }\n\t          } catch (err) {\n\t            _didIteratorError4 = true;\n\t            _iteratorError4 = err;\n\t          } finally {\n\t            try {\n\t              if (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t                _iterator4.return();\n\t              }\n\t            } finally {\n\t              if (_didIteratorError4) {\n\t                throw _iteratorError4;\n\t              }\n\t            }\n\t          }\n\t\n\t          if (found) {\n\t            break;\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError3 = true;\n\t        _iteratorError3 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t            _iterator3.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError3) {\n\t            throw _iteratorError3;\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t    (0, _assign2.default)(space, payload);\n\t    delete space.space;\n\t  },\n\t  updateShadingWithData: function updateShadingWithData(state, payload) {\n\t    var shading = payload.shading;\n\t    (0, _assign2.default)(shading, payload);\n\t    delete shading.shading;\n\t  },\n\t  updateImageWithData: function updateImageWithData(state, payload) {\n\t    var image = payload.image;\n\t    (0, _assign2.default)(image, payload);\n\t    delete image.image;\n\t  },\n\t  updateObjectWithData: function updateObjectWithData(state, payload) {\n\t    var object = payload.object;\n\t    (0, _assign2.default)(object, payload);\n\t    delete object.object;\n\t  },\n\t  createWindow: function createWindow(state, _ref2) {\n\t    var story_id = _ref2.story_id,\n\t        edge_id = _ref2.edge_id,\n\t        window_definition_id = _ref2.window_definition_id,\n\t        alpha = _ref2.alpha,\n\t        id = _ref2.id,\n\t        name = _ref2.name;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.windows.push({\n\t      window_definition_id: window_definition_id,\n\t      edge_id: edge_id,\n\t      alpha: alpha,\n\t      id: id,\n\t      name: name\n\t    });\n\t  },\n\t  createWindows: function createWindows(state, payload) {\n\t    var obj = {};\n\t    payload.forEach(function (_ref3) {\n\t      var story_id = _ref3.story_id,\n\t          edge_id = _ref3.edge_id,\n\t          window_definition_id = _ref3.window_definition_id,\n\t          alpha = _ref3.alpha,\n\t          id = _ref3.id,\n\t          name = _ref3.name;\n\t\n\t      var window = {\n\t        window_definition_id: window_definition_id,\n\t        edge_id: edge_id,\n\t        alpha: alpha,\n\t        id: id,\n\t        name: name\n\t      };\n\t      if (obj[story_id]) {\n\t        obj[story_id].push(window);\n\t      } else {\n\t        obj[story_id] = [window];\n\t      }\n\t    });\n\t\n\t    (0, _entries2.default)(obj).forEach(function (_ref4) {\n\t      var _ref5 = (0, _slicedToArray3.default)(_ref4, 2),\n\t          key = _ref5[0],\n\t          value = _ref5[1];\n\t\n\t      var story = _lodash2.default.find(state.stories, { id: key });\n\t      story.windows = story.windows.concat(value);\n\t    });\n\t  },\n\t  createDoor: function createDoor(state, _ref6) {\n\t    var story_id = _ref6.story_id,\n\t        edge_id = _ref6.edge_id,\n\t        door_definition_id = _ref6.door_definition_id,\n\t        alpha = _ref6.alpha,\n\t        id = _ref6.id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.doors.push({\n\t      door_definition_id: door_definition_id,\n\t      edge_id: edge_id,\n\t      alpha: alpha,\n\t      id: id,\n\t      name: name\n\t    });\n\t  },\n\t  createDoors: function createDoors(state, payload) {\n\t    var obj = {};\n\t    payload.forEach(function (_ref7) {\n\t      var story_id = _ref7.story_id,\n\t          edge_id = _ref7.edge_id,\n\t          door_definition_id = _ref7.door_definition_id,\n\t          alpha = _ref7.alpha,\n\t          id = _ref7.id;\n\t\n\t      var door = {\n\t        door_definition_id: door_definition_id,\n\t        edge_id: edge_id,\n\t        alpha: alpha,\n\t        id: id,\n\t        name: name\n\t      };\n\t      if (obj[story_id]) {\n\t        obj[story_id].push(door);\n\t      } else {\n\t        obj[story_id] = [door];\n\t      }\n\t    });\n\t\n\t    (0, _entries2.default)(obj).forEach(function (_ref8) {\n\t      var _ref9 = (0, _slicedToArray3.default)(_ref8, 2),\n\t          key = _ref9[0],\n\t          value = _ref9[1];\n\t\n\t      var story = _lodash2.default.find(state.stories, { id: key });\n\t      story.doors = story.doors.concat(value);\n\t    });\n\t  },\n\t  dropWindows: function dropWindows(state, _ref10) {\n\t    var story_id = _ref10.story_id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.windows = [];\n\t  },\n\t  dropDoors: function dropDoors(state, _ref11) {\n\t    var story_id = _ref11.story_id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.doors = [];\n\t  },\n\t  createDaylightingControl: function createDaylightingControl(state, _ref12) {\n\t    var story_id = _ref12.story_id,\n\t        face_id = _ref12.face_id,\n\t        daylighting_control_definition_id = _ref12.daylighting_control_definition_id,\n\t        vertex_id = _ref12.vertex_id,\n\t        name = _ref12.name,\n\t        id = _ref12.id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id }),\n\t        space = _lodash2.default.find(story.spaces, { face_id: face_id });\n\t\n\t    space.daylighting_controls.push({\n\t      daylighting_control_definition_id: daylighting_control_definition_id,\n\t      vertex_id: vertex_id,\n\t      id: id,\n\t      name: name\n\t    });\n\t  },\n\t  dropDaylightingControls: function dropDaylightingControls(state, _ref13) {\n\t    var story_id = _ref13.story_id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.spaces = story.spaces.map(function (space) {\n\t      if (space.daylighting_controls.length === 0) {\n\t        return space;\n\t      } else {\n\t        return (0, _assign2.default)({}, space, { daylighting_controls: [] });\n\t      }\n\t    });\n\t  },\n\t  destroyWindowsByDefinition: function destroyWindowsByDefinition(state, _ref14) {\n\t    var id = _ref14.id;\n\t\n\t    state.stories.forEach(function (story) {\n\t      story.windows = _lodash2.default.reject(story.windows, { window_definition_id: id });\n\t    });\n\t  },\n\t  destroyDaylightingControlsByDefinition: function destroyDaylightingControlsByDefinition(state, _ref15) {\n\t    var id = _ref15.id;\n\t\n\t    state.stories.forEach(function (story) {\n\t      story.spaces.forEach(function (space) {\n\t        space.daylighting_controls = _lodash2.default.reject(space.daylighting_controls, { daylighting_control_definition_id: id });\n\t      });\n\t    });\n\t  },\n\t  destroyDoorsByDefinition: function destroyDoorsByDefinition(state, _ref16) {\n\t    var id = _ref16.id;\n\t\n\t    state.stories.forEach(function (story) {\n\t      story.doors = _lodash2.default.reject(story.doors, { door_definition_id: id });\n\t    });\n\t  },\n\t  destroyDaylightingControl: function destroyDaylightingControl(state, _ref17) {\n\t    var story_id = _ref17.story_id,\n\t        id = _ref17.object.id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.spaces.forEach(function (space) {\n\t      space.daylighting_controls = _lodash2.default.reject(space.daylighting_controls, { id: id });\n\t    });\n\t  },\n\t  modifyDaylightingControl: function modifyDaylightingControl(state, _ref18) {\n\t    var story_id = _ref18.story_id,\n\t        id = _ref18.id,\n\t        key = _ref18.key,\n\t        value = _ref18.value;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.spaces.some(function (space) {\n\t      var dc = _lodash2.default.find(space.daylighting_controls, { id: id });\n\t      if (dc) {\n\t        dc[key] = value;\n\t        return true;\n\t      }\n\t\n\t      return false;\n\t    });\n\t  },\n\t  destroyWindow: function destroyWindow(state, _ref19) {\n\t    var story_id = _ref19.story_id,\n\t        id = _ref19.object.id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.windows = _lodash2.default.reject(story.windows, { id: id });\n\t  },\n\t  destroyWindows: function destroyWindows(state, payload) {\n\t    var obj = {};\n\t\n\t    payload.forEach(function (_ref20) {\n\t      var story_id = _ref20.story_id,\n\t          id = _ref20.object.id;\n\t\n\t      if (obj[story_id]) {\n\t        obj[story_id].push(id);\n\t      } else {\n\t        obj[story_id] = [id];\n\t      }\n\t    });\n\t\n\t    (0, _entries2.default)(obj).forEach(function (_ref21) {\n\t      var _ref22 = (0, _slicedToArray3.default)(_ref21, 2),\n\t          key = _ref22[0],\n\t          value = _ref22[1];\n\t\n\t      var story = _lodash2.default.find(state.stories, { id: key });\n\t      story.windows = story.windows.filter(function (window) {\n\t        return value.indexOf(window.id) === -1;\n\t      });\n\t    });\n\t  },\n\t  destroyDoor: function destroyDoor(state, _ref23) {\n\t    var story_id = _ref23.story_id,\n\t        id = _ref23.object.id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.doors = _lodash2.default.reject(story.doors, { id: id });\n\t  },\n\t  destroyDoors: function destroyDoors(state, payload) {\n\t    var obj = {};\n\t\n\t    payload.forEach(function (_ref24) {\n\t      var story_id = _ref24.story_id,\n\t          id = _ref24.object.id;\n\t\n\t      if (obj[story_id]) {\n\t        obj[story_id].push(id);\n\t      } else {\n\t        obj[story_id] = [id];\n\t      }\n\t    });\n\t\n\t    (0, _entries2.default)(obj).forEach(function (_ref25) {\n\t      var _ref26 = (0, _slicedToArray3.default)(_ref25, 2),\n\t          key = _ref26[0],\n\t          value = _ref26[1];\n\t\n\t      var story = _lodash2.default.find(state.stories, { id: key });\n\t      story.doors = story.doors.filter(function (window) {\n\t        return value.indexOf(window.id) === -1;\n\t      });\n\t    });\n\t  },\n\t  modifyWindow: function modifyWindow(state, _ref27) {\n\t    var story_id = _ref27.story_id,\n\t        id = _ref27.id,\n\t        key = _ref27.key,\n\t        value = _ref27.value;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id }),\n\t        windew = _lodash2.default.find(story.windows, { id: id });\n\t    windew[key] = value;\n\t  },\n\t  modifyDoor: function modifyDoor(state, _ref28) {\n\t    var story_id = _ref28.story_id,\n\t        id = _ref28.id,\n\t        key = _ref28.key,\n\t        value = _ref28.value;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id }),\n\t        door = _lodash2.default.find(story.doors, { id: id });\n\t    door[key] = value;\n\t  },\n\t  cloneObjectArray: function cloneObjectArray(state, payload) {\n\t    var newStory = state.stories.find(function (story) {\n\t      return story.id === payload.currentStory.id;\n\t    });\n\t    newStory['spaces'] = payload.storyInfo['spaces'];\n\t    _helpers2.default.replaceSpaceNamesForCloning(state, 'spaces', payload.currentStory);\n\t    newStory['shading'] = payload.storyInfo['shading'];\n\t    newStory['doors'] = payload.storyInfo['doors'];\n\t    newStory['images'] = payload.storyInfo['images'];\n\t    newStory['windows'] = payload.storyInfo['windows'];\n\t  }\n\t};\n\n/***/ }),\n/* 299 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: function name(object, store, value, type) {\n\t    var objs = store.getters['models/all'];\n\t\n\t    switch (type) {\n\t      case 'stories':\n\t        objs = store.state.models.stories;\n\t        break;\n\t      case 'spaces':\n\t        objs = store.getters['models/allSpaces'];\n\t        break;\n\t      case 'shading':\n\t        objs = store.getters['models/allShading'];\n\t        break;\n\t      case 'images':\n\t        objs = store.getters['models/allImages'];\n\t        break;\n\t      default:\n\t        objs = store.state.models.library[type];\n\t        break;\n\t    }\n\t    var error = '';\n\t    if (objs.filter(function (s) {\n\t      return s.name === value && s.id !== object.id;\n\t    }).length) {\n\t      error = 'Names must be unique.';\n\t    } else if (value === '') {\n\t      error = 'Names must be at least 1 characters long.';\n\t    }\n\t\n\t    return error ? { success: false, error: error } : { success: true };\n\t  },\n\t  number: function number(object, store, value, type) {\n\t    var error = '';\n\t    if (isNaN(value)) {\n\t      error = 'Value must be numeric.';\n\t    }\n\t\n\t    return error ? { success: false, error: error } : { success: true };\n\t  },\n\t  oneOf: function oneOf() {\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return function (object, store, value, type) {\n\t      if (!_lodash2.default.includes(args, value)) {\n\t        return { success: false, error: 'Expected one of ' + args + ', got ' + value };\n\t      }\n\t      return { success: true };\n\t    };\n\t  },\n\t  gt0: function gt0(object, story, value, type) {\n\t    return value > 0 ? { success: true } : { success: false, error: 'Expected value to be greater than zero' };\n\t  },\n\t  closedInterval: function closedInterval(start, end) {\n\t    return function (object, store, value, type) {\n\t      if (value < start || value > end) {\n\t        return { success: false, error: 'Must be between ' + start + ' and ' + end };\n\t      }\n\t      return { success: true };\n\t    };\n\t  },\n\t  halfOpenInterval: function halfOpenInterval(start, end) {\n\t    return function (object, store, value, type) {\n\t      if (value < start || value >= end) {\n\t        return { success: false, error: 'Must be greater than or equal ' + start + ' and less than ' + end };\n\t      }\n\t      return { success: true };\n\t    };\n\t  },\n\t  gt0orNull: function gt0orNull(object, story, value, type) {\n\t    if (value === null || value === '' || value > 0) {\n\t      return { success: true };\n\t    }\n\t    return { success: false, error: 'If provided, value must be greater than 0' };\n\t  }\n\t};\n\n/***/ }),\n/* 300 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(52);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _validator = __webpack_require__(310);\n\t\n\tvar _validator2 = _interopRequireDefault(_validator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    setUnits: function setUnits(_ref, payload) {\n\t        var commit = _ref.commit,\n\t            dispatch = _ref.dispatch,\n\t            rootState = _ref.rootState;\n\t\n\t        if (payload.units === 'm' || payload.units === 'ft') {\n\t            throw new Error('units must be \"ip\" or \"si\"');\n\t        } else if (payload.units === 'ip' || payload.units === 'si') {\n\t            commit('setUnits', payload);\n\t            rootState.models.stories.forEach(function (story) {\n\t                return dispatch('models/destroyStory', { story: story }, { root: true });\n\t            });\n\t        }\n\t    },\n\t    setLanguage: function setLanguage(context, payload) {\n\t        if (payload.language === 'EN-US') {\n\t            context.commit('setLanguage', payload);\n\t        }\n\t    },\n\t    setNorthAxis: function setNorthAxis(context, payload) {\n\t        var north_axis = payload.north_axis;\n\t\n\t        if (north_axis > 360 || north_axis < 0) {\n\t            return;\n\t        }\n\t        context.commit('setConfigNorthAxis', { north_axis: north_axis });\n\t        context.commit('setMapRotation', { rotation: north_axis * Math.PI / 180 });\n\t    },\n\t    setMapVisible: function setMapVisible(context, payload) {\n\t        if (typeof payload.visible === 'boolean') {\n\t            context.commit('setMapVisible', payload);\n\t        }\n\t    },\n\t    setMapEnabled: function setMapEnabled(context, payload) {\n\t        if (typeof payload.enabled === 'boolean') {\n\t            context.commit('setMapEnabled', payload);\n\t        }\n\t    },\n\t    setMapInitialized: function setMapInitialized(context, payload) {\n\t        if (typeof payload.initialized === 'boolean') {\n\t            context.commit('setMapInitialized', payload);\n\t        }\n\t    },\n\t    setGridVisible: function setGridVisible(context, payload) {\n\t        if (typeof payload.visible === 'boolean') {\n\t            context.commit('setGridVisible', payload);\n\t        }\n\t    },\n\t    setSpacing: function setSpacing(context, payload) {\n\t        context.commit('setSpacing', payload);\n\t    },\n\t    setViewMinX: function setViewMinX(context, payload) {\n\t        context.commit('setViewMinX', payload);\n\t    },\n\t    setViewMinY: function setViewMinY(context, payload) {\n\t        context.commit('setViewMinY', payload);\n\t    },\n\t    setViewMaxX: function setViewMaxX(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateInt('max_x');\n\t\n\t        validator.validateMin('max_x', context.state.view.min_x);\n\t        context.commit('setViewMaxX', validator.validatedPayload);\n\t    },\n\t    setViewMaxY: function setViewMaxY(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateInt('max_y');\n\t\n\t        validator.validateMin('max_y', context.state.view.min_y);\n\t        context.commit('setViewMaxY', validator.validatedPayload);\n\t    },\n\t    setDimensions: function setDimensions(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t\n\t        validator.validateInt('max_y');\n\t\n\t        validator.validateMin('max_y', context.state.view.min_y);\n\t\n\t        validator.validateInt('max_x');\n\t\n\t        validator.validateMin('max_x', context.state.view.min_x);\n\t\n\t        context.commit('setDimensions', payload);\n\t    },\n\t    setZoom: function setZoom(context, payload) {\n\t        context.commit('setMapZoom', payload);\n\t    },\n\t    setMapLatitude: function setMapLatitude(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateFloat('latitude');\n\t        validator.validateMax('latitude', 180);\n\t        validator.validateMin('latitude', -180);\n\t        context.commit('setMapLatitude', validator.validatedPayload);\n\t    },\n\t    setMapLongitude: function setMapLongitude(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateFloat('longitude');\n\t        validator.validateMax('longitude', 180);\n\t        validator.validateMin('longitude', -180);\n\t        context.commit('setMapLongitude', validator.validatedPayload);\n\t    },\n\t    setMapZoom: function setMapZoom(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateFloat('zoom');\n\t        context.commit('setMapZoom', { zoom: payload.zoom });\n\t    },\n\t    setMapRotation: function setMapRotation(context, payload) {\n\t        context.commit('setConfigNorthAxis', { north_axis: payload.rotation / (2 * Math.PI) * 360 });\n\t        context.commit('setMapRotation', { rotation: payload.rotation });\n\t    },\n\t    setPreviousStoryVisible: function setPreviousStoryVisible(context, payload) {\n\t        context.commit('setPreviousStoryVisible', { visible: payload.visible });\n\t    },\n\t    setShowImportExport: function setShowImportExport(context, payload) {\n\t        context.commit('setShowImportExport', payload);\n\t    },\n\t    zoomToFit: function zoomToFit(context, _ref2) {\n\t        var geometry_id = _ref2.geometry_id,\n\t            widthOverHeight = _ref2.widthOverHeight;\n\t\n\t        context.commit('setView', { xExtent: xExtent, yExtent: yExtent });\n\t    },\n\t    modifyGround: function modifyGround(_ref3, _ref4) {\n\t        var state = _ref3.state,\n\t            commit = _ref3.commit;\n\t        var key = _ref4.key,\n\t            val = _ref4.val;\n\t\n\t        var value = +val;\n\t        if (isNaN(value)) {\n\t            value = 0;\n\t        }\n\t        if (!_lodash2.default.includes((0, _keys2.default)(state.ground), key)) {\n\t            console.error('unrecognized ground property \"' + key + '\"');\n\t            return;\n\t        }\n\t        if (key === 'tilt_angle' && (value < 0 || value >= 90)) {\n\t            window.eventBus.$emit('error', 'Tilt Angle must be in [0, 90)');\n\t            return;\n\t        }\n\t        commit('modifyGround', { key: key, value: value });\n\t    }\n\t};\n\n/***/ }),\n/* 301 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  snapTolerance: function snapTolerance(state) {\n\t    var defaultTolerance = Math.abs(state.view.max_x - state.view.min_x) * 0.025;\n\t    return state.grid.visible ? state.grid.spacing * 0.5 : defaultTolerance;\n\t  },\n\t  angleTolerance: function angleTolerance() {\n\t    return 20;\n\t  }\n\t};\n\n/***/ }),\n/* 302 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(81);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    setUnits: function setUnits(state, payload) {\n\t        if ('units' in payload) {\n\t            state.config.units = payload.units;\n\t        }\n\t        if ('editable' in payload) {\n\t            state.config.unitsEditable = payload.editable;\n\t        }\n\t    },\n\t    setLanguage: function setLanguage(state, payload) {\n\t        if ('language' in payload) {\n\t            state.config.language = payload.language;\n\t        }\n\t    },\n\t    setConfigNorthAxis: function setConfigNorthAxis(state, payload) {\n\t        if ('north_axis' in payload) {\n\t            state.north_axis = payload.north_axis;\n\t        }\n\t    },\n\t    setGridVisible: function setGridVisible(state, payload) {\n\t        if ('visible' in payload) {\n\t            state.grid.visible = payload.visible;\n\t        }\n\t    },\n\t    setSpacing: function setSpacing(state, payload) {\n\t        state.grid.spacing = payload.spacing;\n\t    },\n\t    setViewMinX: function setViewMinX(state, payload) {\n\t        if ('min_x' in payload) {\n\t            state.view.min_x = payload.min_x;\n\t        }\n\t    },\n\t    setViewMinY: function setViewMinY(state, payload) {\n\t        if ('min_y' in payload) {\n\t            state.view.min_y = payload.min_y;\n\t        }\n\t    },\n\t    setViewMaxX: function setViewMaxX(state, payload) {\n\t        if ('max_x' in payload) {\n\t            state.view.max_x = payload.max_x;\n\t        }\n\t    },\n\t    setViewMaxY: function setViewMaxY(state, payload) {\n\t        if ('max_y' in payload) {\n\t            state.view.max_y = payload.max_y;\n\t        }\n\t    },\n\t    setDimensions: function setDimensions(state, payload) {\n\t        state.view = (0, _assign2.default)({}, state.view, payload);\n\t    },\n\t    setMapEnabled: function setMapEnabled(state, payload) {\n\t        if ('enabled' in payload) {\n\t            state.map.enabled = payload.enabled;\n\t        }\n\t    },\n\t    setMapInitialized: function setMapInitialized(state, payload) {\n\t        if ('initialized' in payload) {\n\t            state.map.initialized = payload.initialized;\n\t        }\n\t    },\n\t    setMapVisible: function setMapVisible(state, payload) {\n\t        if ('visible' in payload) {\n\t            state.map.visible = payload.visible;\n\t        }\n\t    },\n\t    setMapLatitude: function setMapLatitude(state, payload) {\n\t        if ('latitude' in payload) {\n\t            state.map.latitude = payload.latitude;\n\t        }\n\t    },\n\t    setMapLongitude: function setMapLongitude(state, payload) {\n\t        if ('longitude' in payload) {\n\t            state.map.longitude = payload.longitude;\n\t        }\n\t    },\n\t    setMapZoom: function setMapZoom(state, payload) {\n\t        if ('zoom' in payload) {\n\t            state.map.zoom = payload.zoom;\n\t        }\n\t    },\n\t    setMapRotation: function setMapRotation(state, payload) {\n\t        if ('rotation' in payload) {\n\t            state.map.rotation = payload.rotation;\n\t        }\n\t    },\n\t    setPreviousStoryVisible: function setPreviousStoryVisible(state, payload) {\n\t        if ('visible' in payload) {\n\t            state.previous_story.visible = payload.visible;\n\t        }\n\t    },\n\t    setShowImportExport: function setShowImportExport(state, payload) {\n\t        state.show_import_export = payload;\n\t    },\n\t    modifyGround: function modifyGround(state, _ref) {\n\t        var key = _ref.key,\n\t            value = _ref.value;\n\t\n\t        state.ground[key] = value;\n\t    }\n\t};\n\n/***/ }),\n/* 303 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(81);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _project = __webpack_require__(184);\n\t\n\tvar _project2 = _interopRequireDefault(_project);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  importState: function importState(state, payload) {\n\t    state.project = (0, _assign2.default)(_project2.default.state, payload.project);\n\t    state.application = payload.application;\n\t    state.models = payload.models;\n\t    state.geometry = payload.geometry;\n\t  },\n\t  importLibrary: function importLibrary(state, payload) {\n\t    state.models.library = payload;\n\t  },\n\t  changeUnits: function changeUnits(state, newState) {\n\t    _lodash2.default.keys(state).forEach(function (k) {\n\t      state[k] = newState[k];\n\t    });\n\t  }\n\t};\n\n/***/ }),\n/* 304 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _stringify = __webpack_require__(42);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar serializeState = function serializeState(state) {\n\t  return (0, _stringify2.default)(state);\n\t};\n\tvar filteredActions = ['application/setScaleX', 'application/setCurrentTool', 'application/setScaleY', 'project/setSpacing', 'project/setViewMinX', 'project/setViewMinY', 'project/setViewMaxX', 'project/setViewMaxY', 'project/setDimensions', 'application/clearSubSelections', 'application/setCurrentStoryId', 'application/setCurrentStory', 'application/setCurrentSpace', 'application/setCurrentShading', 'application/setCurrentImage', 'application/setCurrentSpacePropertyId', 'application/setCurrentSubSelectionType', 'project/setPreviousStoryVisible', 'project/setGridVisible', 'project/setMapLatitude', 'project/setMapLongitude', 'project/setMapRotation'];\n\tvar permanentActions = ['importFloorplan', 'project/setMapEnabled', 'project/setMapInitialized'];\n\t\n\tvar logState = function logState(state) {\n\t  return state;\n\t};\n\t\n\texports.default = {\n\t  store: null,\n\t  pastTimetravelStates: [],\n\t  futureTimetravelStates: [],\n\t  currentlyInBatch: false,\n\t  triggeringAction: '(none)',\n\t  init: function init(store) {\n\t    var that = this;\n\t    this.store = store;\n\t    store.timetravel = this;\n\t\n\t    this.pastTimetravelStates = [];\n\t    this.futureTimetravelStates = [];\n\t\n\t    this.store.replaceState((0, _extends3.default)({}, store.state, { timetravelInitialized: true }));\n\t\n\t    var originalReplaceState = store.replaceState;\n\t    store.replaceState = function overrideReplaceState() {\n\t      if (window.api) {\n\t        window.api.config.onChange();\n\t      }\n\t\n\t      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t        args[_key] = arguments[_key];\n\t      }\n\t\n\t      var newState = args[0];\n\t\n\t      newState.application.scale = this.state.application.scale;\n\t      newState.project.view = this.state.project.view;\n\t      newState.project.grid = this.state.project.grid;\n\t      newState.project.previous_story = this.state.project.previous_story;\n\t\n\t      originalReplaceState.apply(this, args);\n\t    };\n\t    var originalCommit = store.commit;\n\t    store.commit = function overrideCommit() {\n\t      if (window.api) {\n\t        window.api.config.onChange();\n\t      }\n\t\n\t      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t        args[_key2] = arguments[_key2];\n\t      }\n\t\n\t      originalCommit.apply(this, args);\n\t    };\n\t\n\t    var originalDispatch = store.dispatch;\n\t    store.dispatch = function overrideDispatch() {\n\t      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t        args[_key3] = arguments[_key3];\n\t      }\n\t\n\t      var action = args[0];\n\t\n\t      if (!_lodash2.default.includes(filteredActions, action)) {\n\t        that.maybeSaveCheckpoint(action);\n\t        console.log('dispatching action:', args[0]);\n\t      }\n\t\n\t      originalDispatch.apply(this, args);\n\t    };\n\t  },\n\t  maybeSaveCheckpoint: function maybeSaveCheckpoint(action) {\n\t    var _this = this;\n\t\n\t    if (!this.currentlyInBatch) {\n\t      this.saveCheckpoint(action);\n\t    }\n\t\n\t    this.currentlyInBatch = true;\n\t    clearTimeout(this.resetBatchFlag);\n\t    this.resetBatchFlag = setTimeout(function () {\n\t      _this.currentlyInBatch = false;\n\t    }, 0);\n\t  },\n\t  saveCheckpoint: function saveCheckpoint(action) {\n\t    this.pastTimetravelStates.push({\n\t      triggeringAction: this.triggeringAction,\n\t      state: serializeState(this.store.state)\n\t    });\n\t    this.triggeringAction = action;\n\t    console.warn('saving state');\n\t    this.futureTimetravelStates = [];\n\t    this.potentiallyRollbackCheckpoint(action);\n\t  },\n\t  potentiallyRollbackCheckpoint: function potentiallyRollbackCheckpoint(action) {\n\t    var prevStates = this.pastTimetravelStates;\n\t    var store = this.store;\n\t    if (_lodash2.default.includes(permanentActions, action)) {\n\t      this.pastTimetravelStates = [];\n\t      this.futureTimetravelStates = [];\n\t      return;\n\t    }\n\t    _lodash2.default.defer(function () {\n\t      while (prevStates.length > 0 && _lodash2.default.isEqual(serializeState(store.state), prevStates[prevStates.length - 1].state)) {\n\t        console.log('current state matches previous, so rolling back', prevStates[prevStates.length - 1].triggeringAction);\n\t        prevStates.pop();\n\t      }\n\t    });\n\t  },\n\t  undo: function undo() {\n\t    if (!this.pastTimetravelStates.length) {\n\t      return;\n\t    }\n\t\n\t    var _pastTimetravelStates = this.pastTimetravelStates.pop(),\n\t        replacementState = _pastTimetravelStates.state,\n\t        triggeringAction = _pastTimetravelStates.triggeringAction;\n\t\n\t    var newState = JSON.parse(replacementState);\n\t    var oldAction = this.triggeringAction;\n\t    this.futureTimetravelStates.push({\n\t      triggeringAction: this.triggeringAction,\n\t      state: serializeState(this.store.state)\n\t    });\n\t    this.triggeringAction = triggeringAction;\n\t    this.store.replaceState(newState);\n\t    console.log('undo', newState);\n\t    window.eventBus.$emit('success', 'undo ' + oldAction);\n\t  },\n\t  redo: function redo() {\n\t    if (!this.futureTimetravelStates.length) {\n\t      return;\n\t    }\n\t\n\t    var _futureTimetravelStat = this.futureTimetravelStates.pop(),\n\t        replacementState = _futureTimetravelStat.state,\n\t        triggeringAction = _futureTimetravelStat.triggeringAction;\n\t\n\t    var newState = JSON.parse(replacementState);\n\t    this.pastTimetravelStates.push({\n\t      state: serializeState(this.store.state),\n\t      triggeringAction: this.triggeringAction\n\t    });\n\t    this.triggeringAction = triggeringAction;\n\t    this.store.replaceState(newState);\n\t    window.eventBus.$emit('success', 'redo ' + triggeringAction);\n\t    console.log('redo', newState);\n\t  },\n\t  logTimetravel: function logTimetravel() {\n\t    console.log('past:', this.pastTimetravelStates.map(function (s) {\n\t      return logState(s);\n\t    }));\n\t    console.log('current', logState(this.store.state));\n\t    console.log('future:', this.futureTimetravelStates.map(function (s) {\n\t      return logState(s);\n\t    }));\n\t  }\n\t};\n\n/***/ }),\n/* 305 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(42);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.default = exportData;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _version = __webpack_require__(315);\n\t\n\tvar _version2 = _interopRequireDefault(_version);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction formatHex(val) {\n\t  if (!val) {\n\t    return null;\n\t  }\n\t  if (val.length === 4) {\n\t    return '#' + val[1] + val[1] + val[2] + val[2] + val[3] + val[3];\n\t  }\n\t  return val;\n\t}\n\t\n\tfunction formatObject(obj) {\n\t  if (_lodash2.default.isArray(obj)) {\n\t    return obj.map(formatObject);\n\t  } else if (_lodash2.default.isObject(obj)) {\n\t    return _lodash2.default.mapValues(obj, function (val, key) {\n\t      if ((key === 'id' || key.indexOf('_id') >= 0) && _lodash2.default.isNumber(val)) {\n\t        return String(val);\n\t      }\n\t      if (key === 'color') {\n\t        return formatHex(val);\n\t      }\n\t      return formatObject(val);\n\t    });\n\t  }\n\t  return obj;\n\t}\n\t\n\tfunction mungeWindows(windows, geometry, windowDefs) {\n\t  var repeatingWindowDefs = _lodash2.default.chain(windowDefs).filter({ window_definition_mode: 'Repeating Windows' }).map(function (wd) {\n\t    return [wd.id, wd];\n\t  }).fromPairs().value();\n\t\n\t  return windows.map(function (w) {\n\t    var def = repeatingWindowDefs[w.window_definition_id];\n\t    if (def) {\n\t      var edge = _lodash2.default.find(geometry.edges, { id: w.edge_id });\n\t      var centers = (0, _helpers.repeatingWindowCenters)({\n\t        start: _lodash2.default.find(geometry.vertices, { id: edge.vertex_ids[0] }),\n\t        end: _lodash2.default.find(geometry.vertices, { id: edge.vertex_ids[1] }),\n\t        spacing: def.window_spacing,\n\t        width: def.width\n\t      });\n\t      return (0, _extends3.default)({}, w, {\n\t        alpha: _lodash2.default.map(centers, 'alpha')\n\t      });\n\t    }\n\t    return w;\n\t  });\n\t}\n\t\n\tfunction mungeStories(stories, geometries, windowDefs) {\n\t  return stories.map(function (story) {\n\t    var geometry = JSON.parse((0, _stringify2.default)(_lodash2.default.find(geometries, { id: story.geometry_id }) || { edges: [], vertices: [], faces: [] }));\n\t    return (0, _extends3.default)({}, story, {\n\t      spaces: story.spaces,\n\t      geometry: geometry,\n\t      windows: mungeWindows(story.windows, geometry, windowDefs),\n\t      geometry_id: undefined\n\t    });\n\t  });\n\t}\n\t\n\tfunction exportData(state, getters) {\n\t  var exportObject = (0, _extends3.default)({\n\t    application: state.application,\n\t    project: state.project,\n\t    stories: mungeStories(state.models.stories, getters['geometry/exportData'], state.models.library.window_definitions)\n\t  }, state.models.library, {\n\t    version: _version2.default\n\t  });\n\t  return formatObject(exportObject);\n\t}\n\n/***/ }),\n/* 306 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = colorFactory;\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tvar _appconfig2 = _interopRequireDefault(_appconfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar typeIndices = {};\n\t\n\tfunction colorFactory(type) {\n\t  typeIndices[type] = (typeIndices[type] || 0) + 1;\n\t  return _appconfig2.default.palette.colors[typeIndices[type] % _appconfig2.default.palette.colors.length];\n\t}\n\n/***/ }),\n/* 307 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = nextTextureForType;\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tvar typeIndices = {};\n\t\n\tfunction nextTextureForType(type) {\n\t  typeIndices[type] = (typeIndices[type] || 0) + 1;\n\t  return _appconfig.textures[typeIndices[type] % _appconfig.textures.length];\n\t}\n\n/***/ }),\n/* 308 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(52);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _extends2 = __webpack_require__(6);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.default = importFloorplan;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _generateId = __webpack_require__(51);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tvar _factory = __webpack_require__(124);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction maybeUpdateProject(project) {\n\t  if (project.config.north_axis) {\n\t    project.north_axis = project.north_axis || project.config.north_axis;\n\t    delete project.config.north_axis;\n\t  }\n\t  project.config.units = project.config.units === 'ft' ? 'ip' : project.config.units === 'm' ? 'si' : project.config.units;\n\t\n\t  return project;\n\t}\n\t\n\tfunction withHandleProp(arr) {\n\t  if (!arr || !arr.length) {\n\t    return [];\n\t  }\n\t  return arr.map(function (obj) {\n\t    return (0, _extends3.default)({\n\t      handle: null\n\t    }, obj);\n\t  });\n\t}\n\t\n\tfunction withWindowDefinitionDefaults(arr) {\n\t  if (!arr || !arr.length) return [];\n\t  return arr.map(function (obj) {\n\t    return (0, _extends3.default)({}, (0, _factory.getDefaults)('WindowDefinition'), {\n\t      window_definition_mode: obj.window_definition_type || (0, _factory.getDefaults)('WindowDefinition').window_definition_mode\n\t    }, obj, {\n\t      window_definition_type: undefined\n\t    });\n\t  });\n\t}\n\t\n\tfunction withStoryDefaults(stories) {\n\t  return stories.map(function (story) {\n\t    var multiplier = story.multiplier >= 1 ? story.multiplier : (0, _factory.getDefaults)('Story').multiplier;\n\t\n\t    return (0, _extends3.default)({}, (0, _factory.getDefaults)('Story'), story, {\n\t      spaces: story.spaces.map(function (space) {\n\t        return (0, _extends3.default)({}, (0, _factory.getDefaults)('Space'), space);\n\t      }),\n\t      shading: withHandleProp(story.shading),\n\t      multiplier: multiplier\n\t    });\n\t  });\n\t}\n\t\n\tfunction importFloorplan(context, payload) {\n\t  if (window.api) {\n\t    window.versionNumber = 0;\n\t  }\n\t  var options = payload.options || {};\n\t\n\t  var geometry = payload.data.stories.map(function (story) {\n\t    var faces = story.geometry.faces.map(function (face) {\n\t      var edgeRefs = face.edge_ids.map(function (id, index) {\n\t        return {\n\t          edge_id: id,\n\t          reverse: !face.edge_order[index]\n\t        };\n\t      });\n\t      return {\n\t        id: face.id,\n\t        edgeRefs: edgeRefs\n\t      };\n\t    });\n\t\n\t    var edges = story.geometry.edges.map(function (e) {\n\t      return {\n\t        id: e.id,\n\t        v1: e.vertex_ids[0],\n\t        v2: e.vertex_ids[1]\n\t      };\n\t    });\n\t    return {\n\t      id: story.geometry.id,\n\t      faces: faces,\n\t      edges: edges,\n\t      vertices: story.geometry.vertices\n\t    };\n\t  });\n\t\n\t  var stories = payload.data.stories.map(function (s) {\n\t    var story = (0, _extends3.default)({\n\t      geometry_id: s.geometry.id\n\t    }, s);\n\t    delete story.geometry;\n\t    return story;\n\t  });\n\t\n\t  function forEachNestedProp(obj, func) {\n\t    var propName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t\n\t    if (_lodash2.default.isObject(obj)) {\n\t      (0, _keys2.default)(obj).forEach(function (k) {\n\t        return forEachNestedProp(obj[k], func, k);\n\t      });\n\t    } else if (_lodash2.default.isArray(obj)) {\n\t      obj.forEach(function (elem) {\n\t        return forEachNestedProp(elem, func);\n\t      });\n\t    } else {\n\t      func(propName, obj);\n\t    }\n\t  }\n\t\n\t  var largestId = 0;\n\t  forEachNestedProp(payload, function (k, v) {\n\t    if (k && k === 'id' && +v > largestId) {\n\t      largestId = +v;\n\t    }\n\t  });\n\t\n\t  largestId += 1;\n\t  _generateId2.default.setId(largestId);\n\t\n\t  context.commit('importState', {\n\t    project: maybeUpdateProject(payload.data.project),\n\t    application: context.state.application,\n\t    models: {\n\t      stories: withStoryDefaults(stories),\n\t      library: {\n\t        building_units: withHandleProp(payload.data.building_units),\n\t        building_types: withHandleProp(payload.data.building_types),\n\t        thermal_zones: withHandleProp(payload.data.thermal_zones),\n\t        space_types: withHandleProp(payload.data.space_types),\n\t        construction_sets: withHandleProp(payload.data.construction_sets),\n\t        window_definitions: withWindowDefinitionDefaults(payload.data.window_definitions),\n\t        daylighting_control_definitions: payload.data.daylighting_control_definitions || [],\n\t        pitched_roofs: (payload.data.pitched_roofs || []).map(function (pr) {\n\t          return (0, _extends3.default)({\n\t            shed_direction: null\n\t          }, pr);\n\t        }),\n\t        door_definitions: withHandleProp(payload.data.door_definitions)\n\t      }\n\t    },\n\t    geometry: geometry\n\t  });\n\t  _lodash2.default.defer(function () {\n\t    context.dispatch('application/setCurrentStoryId', { id: stories[0].id }, { root: true });\n\t\n\t    stories.forEach(function (story) {\n\t      return context.dispatch('geometry/trimGeometry', { geometry_id: story.geometry_id });\n\t    });\n\t    if (!options.noReloadGrid) {\n\t      _lodash2.default.defer(function () {\n\t        return window.eventBus.$emit('zoomToFit');\n\t      });\n\t    }\n\t  });\n\t\n\t  if (!options.noReloadGrid) {\n\t    document.getElementById('svg-grid').dispatchEvent(new Event('reloadGrid'));\n\t  }\n\t}\n\n/***/ }),\n/* 309 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = importLibrary;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _generateId = __webpack_require__(51);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tvar _appconfig = __webpack_require__(24);\n\t\n\tvar _unitConversion = __webpack_require__(125);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction importLibrary(context, payload) {\n\t  var count = 0;\n\t  _appconfig.libraryTypes.forEach(function (type) {\n\t    if (!payload.data[type] || !payload.data[type].length) {\n\t      return;\n\t    }\n\t    var existingNames = context.state.models.library[type].map(function (o) {\n\t      if (/_\\d+[\\w\\s]?$/.test(o.name)) {\n\t        return o.name.split('_').slice(0, -1).join('_');\n\t      }\n\t      return o.name;\n\t    });\n\t    payload.data[type] = payload.data[type].map(function (obj) {\n\t      var importObj = obj;\n\t      importObj.id = _generateId2.default.generate();\n\t\n\t      var duplicateCount = existingNames.filter(function (n) {\n\t        return n === obj.name;\n\t      }).length;\n\t      if (duplicateCount) {\n\t        importObj.name += '_' + duplicateCount;\n\t      }\n\t      count += 1;\n\t      return importObj;\n\t    });\n\t  });\n\t\n\t  var projectSystem = context.state.project.config.units;\n\t  var librarySystemRaw = _lodash2.default.get(payload, 'data.project.config.units');\n\t  var librarySystem = librarySystemRaw === 'ft' ? 'ip' : librarySystemRaw === 'm' ? 'si' : librarySystemRaw;\n\t\n\t  if (librarySystem !== 'ip' && librarySystem !== 'si') {\n\t    console.warn('Expected data.project.config.units to be \"ip\" or \"si\", received \"' + librarySystemRaw + '\"');\n\t    console.warn('unable to determine units of library -- using project units');\n\t    librarySystem = projectSystem;\n\t  }\n\t  var localUnitsPayload = (0, _unitConversion.convertLibrary)(payload.data, librarySystem, projectSystem);\n\t\n\t  window.eventBus.$emit('success', 'Imported ' + count + ' object' + (count !== 1 ? 's' : ''));\n\t\n\t  context.commit('importLibrary', _lodash2.default.fromPairs(['building_units', 'thermal_zones', 'space_types', 'construction_sets', 'window_definitions', 'daylighting_control_definitions', 'pitched_roofs'].map(function (k) {\n\t    return [k, context.state.models.library[k].concat(localUnitsPayload[k] || [])];\n\t  })));\n\t}\n\n/***/ }),\n/* 310 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Validator;\n\tfunction Validator(payload) {\n\t    var validatedPayload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    var invalidKeys = [];\n\t    return {\n\t        invalidKeys: invalidKeys,\n\t        validatedPayload: validatedPayload,\n\t        validateLength: function validateLength(key) {\n\t            var minLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload && payload[key].length >= minLength) {\n\t                validatedPayload[key] = payload[key];\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateMin: function validateMin(key) {\n\t            var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (payload[key] > min) {\n\t                validatedPayload[key] = payload[key];\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateMax: function validateMax(key) {\n\t            var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload && payload[key] < max) {\n\t                validatedPayload[key] = payload[key];\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateFloat: function validateFloat(key) {\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload && !isNaN(parseFloat(payload[key]))) {\n\t                validatedPayload[key] = parseFloat(payload[key]);\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateInt: function validateInt(key) {\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload && !isNaN(parseInt(payload[key]))) {\n\t                validatedPayload[key] = parseInt(payload[key]);\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateBoolean: function validateBoolean(key) {\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload) {\n\t                validatedPayload[key] = !!payload[key];\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        }\n\t    };\n\t}\n\n/***/ }),\n/* 311 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(30);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _stringify = __webpack_require__(42);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _slicedToArray2 = __webpack_require__(53);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\texports.checkVertexList = checkVertexList;\n\texports.checkFace = checkFace;\n\texports.default = checkGeometry;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(15);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction checkVertexList(vertices) {\n\t  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'list of vertices';\n\t\n\t  var errors = [];\n\t  vertices.map(function (v, ix, a) {\n\t    return [a[ix === 0 ? a.length - 1 : ix - 1], a[ix], a[(ix + 1) % a.length]];\n\t  }).forEach(function (_ref) {\n\t    var _ref2 = (0, _slicedToArray3.default)(_ref, 3),\n\t        fst = _ref2[0],\n\t        snd = _ref2[1],\n\t        thd = _ref2[2];\n\t\n\t    if ((0, _helpers.ptsAreCollinear)(fst, snd, thd) && (0, _helpers.distanceBetweenPoints)(fst, snd) > (0, _helpers.distanceBetweenPoints)(fst, thd)) {\n\t      errors.push(name + ' has a backwards section (' + (0, _stringify2.default)(fst) + ' -> ' + (0, _stringify2.default)(snd) + ' -> ' + (0, _stringify2.default)(thd) + ')');\n\t    }\n\t  });\n\t  return errors;\n\t}\n\t\n\tfunction checkFace(face) {\n\t  return checkVertexList(face.vertices, 'face ' + face.id);\n\t}\n\t\n\tfunction checkGeometry(geom) {\n\t  var errors = [],\n\t      vertPos = function vertPos(v) {\n\t    return v.x + ':' + v.y;\n\t  },\n\t      vertPosToId = _lodash2.default.fromPairs(geom.vertices.map(function (v) {\n\t    return [vertPos(v), v.id];\n\t  })),\n\t      edgePos = function edgePos(e) {\n\t    return Math.min(+e.v1.id, +e.v2.id) + ':' + Math.max(+e.v1.id, +e.v2.id);\n\t  },\n\t      edgePosToId = _lodash2.default.fromPairs(geom.edges.map(function (e) {\n\t    return [edgePos(e), e.id];\n\t  }));\n\t\n\t  geom.vertices.forEach(function (vert) {\n\t    if (vert.id !== vertPosToId[vertPos(vert)]) {\n\t      errors.push('vertex ' + vert.id + ' is a duplicate of ' + vertPosToId[vertPos(vert)]);\n\t    }\n\t  });\n\t\n\t  geom.edges.forEach(function (edge) {\n\t    if (edge.v1.id === edge.v2.id || vertPos(edge.v1) === vertPos(edge.v2)) {\n\t      errors.push('edge ' + edge.id + ' is of length zero');\n\t    }\n\t    if (edge.id !== edgePosToId[edgePos(edge)]) {\n\t      errors.push('edge ' + edge.id + ' is a duplicate of ' + edgePosToId[edgePos(edge)]);\n\t    }\n\t  });\n\t\n\t  geom.faces.map(checkFace).forEach(function (errs) {\n\t    return errors.push.apply(errors, (0, _toConsumableArray3.default)(errs));\n\t  });\n\t\n\t  return errors;\n\t}\n\n/***/ }),\n/* 312 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.brightness = brightness;\n\tfunction brightness(r, g, b) {\n\t\n\t  return (r * 299 + g * 587 + b * 114) / 1000;\n\t}\n\n/***/ }),\n/* 313 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = d3AwareThrottle;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar d3 = __webpack_require__(78);\n\tvar d3Selection = __webpack_require__(69);\n\t\n\tfunction d3Debounce(func, wait, options) {\n\t  var lastArgs,\n\t      lastThis,\n\t      lastD3Event,\n\t      maxWait,\n\t      result,\n\t      timerId,\n\t      lastCallTime,\n\t      lastInvokeTime = 0,\n\t      leading = false,\n\t      maxing = false,\n\t      trailing = true;\n\t\n\t  if (typeof func != 'function') {\n\t    throw new TypeError('Expected a function');\n\t  }\n\t  wait = _lodash2.default.toNumber(wait) || 0;\n\t  if (_lodash2.default.isObject(options)) {\n\t    leading = !!options.leading;\n\t    maxing = 'maxWait' in options;\n\t    maxWait = maxing ? Math.max(_lodash2.default.toNumber(options.maxWait) || 0, wait) : maxWait;\n\t    trailing = 'trailing' in options ? !!options.trailing : trailing;\n\t  }\n\t\n\t  function invokeFunc(time) {\n\t    var args = lastArgs,\n\t        thisArg = lastThis,\n\t        saveD3Event = d3.event;\n\t\n\t    d3Selection.event = lastD3Event;\n\t    lastD3Event = lastArgs = lastThis = undefined;\n\t    lastInvokeTime = time;\n\t    result = func.apply(thisArg, args);\n\t    d3Selection.event = saveD3Event;\n\t    return result;\n\t  }\n\t\n\t  function leadingEdge(time) {\n\t    lastInvokeTime = time;\n\t\n\t    timerId = setTimeout(timerExpired, wait);\n\t\n\t    return leading ? invokeFunc(time) : result;\n\t  }\n\t\n\t  function remainingWait(time) {\n\t    var timeSinceLastCall = time - lastCallTime,\n\t        timeSinceLastInvoke = time - lastInvokeTime,\n\t        result = wait - timeSinceLastCall;\n\t\n\t    return maxing ? Math.min(result, maxWait - timeSinceLastInvoke) : result;\n\t  }\n\t\n\t  function shouldInvoke(time) {\n\t    var timeSinceLastCall = time - lastCallTime,\n\t        timeSinceLastInvoke = time - lastInvokeTime;\n\t\n\t    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n\t  }\n\t\n\t  function timerExpired() {\n\t    var time = _lodash2.default.now();\n\t    if (shouldInvoke(time)) {\n\t      return trailingEdge(time);\n\t    }\n\t\n\t    timerId = setTimeout(timerExpired, remainingWait(time));\n\t  }\n\t\n\t  function trailingEdge(time) {\n\t    timerId = undefined;\n\t\n\t    if (trailing && lastArgs) {\n\t      return invokeFunc(time);\n\t    }\n\t    lastD3Event = lastArgs = lastThis = undefined;\n\t    return result;\n\t  }\n\t\n\t  function cancel() {\n\t    if (timerId !== undefined) {\n\t      clearTimeout(timerId);\n\t    }\n\t    lastInvokeTime = 0;\n\t    lastD3Event = lastArgs = lastCallTime = lastThis = timerId = undefined;\n\t  }\n\t\n\t  function flush() {\n\t    return timerId === undefined ? result : trailingEdge(_lodash2.default.now());\n\t  }\n\t\n\t  function debounced() {\n\t    var time = _lodash2.default.now(),\n\t        isInvoking = shouldInvoke(time);\n\t\n\t    lastArgs = arguments;\n\t    lastThis = this;\n\t    lastCallTime = time;\n\t    lastD3Event = d3.event;\n\t\n\t    if (isInvoking) {\n\t      if (timerId === undefined) {\n\t        return leadingEdge(lastCallTime);\n\t      }\n\t      if (maxing) {\n\t        timerId = setTimeout(timerExpired, wait);\n\t        return invokeFunc(lastCallTime);\n\t      }\n\t    }\n\t    if (timerId === undefined) {\n\t      timerId = setTimeout(timerExpired, wait);\n\t    }\n\t    return result;\n\t  }\n\t  debounced.cancel = cancel;\n\t  debounced.flush = flush;\n\t  return debounced;\n\t}\n\t\n\tfunction d3AwareThrottle(func, wait) {\n\t  return d3Debounce(func, wait, {\n\t    leading: true,\n\t    trailing: true,\n\t    maxWait: wait\n\t  });\n\t}\n\n/***/ }),\n/* 314 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _freeze = __webpack_require__(320);\n\t\n\tvar _freeze2 = _interopRequireDefault(_freeze);\n\t\n\tvar _isFrozen = __webpack_require__(321);\n\t\n\tvar _isFrozen2 = _interopRequireDefault(_isFrozen);\n\t\n\texports.default = deepFreeze;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction deepFreeze(obj) {\n\t  _lodash2.default.forOwn(obj, function (value) {\n\t    if (_lodash2.default.isObject(value)) {\n\t      deepFreeze(value);\n\t    }\n\t  });\n\t\n\t  if (!(0, _isFrozen2.default)(obj)) {\n\t    (0, _freeze2.default)(obj);\n\t  }\n\t  return obj;\n\t}\n\n/***/ }),\n/* 315 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = '0.7.0';\n\n/***/ }),\n/* 316 */,\n/* 317 */,\n/* 318 */,\n/* 319 */,\n/* 320 */,\n/* 321 */,\n/* 322 */,\n/* 323 */,\n/* 324 */,\n/* 325 */,\n/* 326 */,\n/* 327 */,\n/* 328 */,\n/* 329 */,\n/* 330 */,\n/* 331 */,\n/* 332 */,\n/* 333 */,\n/* 334 */,\n/* 335 */,\n/* 336 */,\n/* 337 */,\n/* 338 */,\n/* 339 */,\n/* 340 */,\n/* 341 */,\n/* 342 */,\n/* 343 */,\n/* 344 */,\n/* 345 */,\n/* 346 */,\n/* 347 */,\n/* 348 */,\n/* 349 */,\n/* 350 */,\n/* 351 */,\n/* 352 */,\n/* 353 */,\n/* 354 */,\n/* 355 */,\n/* 356 */,\n/* 357 */,\n/* 358 */,\n/* 359 */,\n/* 360 */,\n/* 361 */,\n/* 362 */,\n/* 363 */,\n/* 364 */,\n/* 365 */,\n/* 366 */,\n/* 367 */,\n/* 368 */,\n/* 369 */,\n/* 370 */,\n/* 371 */,\n/* 372 */,\n/* 373 */,\n/* 374 */,\n/* 375 */,\n/* 376 */,\n/* 377 */,\n/* 378 */,\n/* 379 */,\n/* 380 */,\n/* 381 */,\n/* 382 */,\n/* 383 */,\n/* 384 */,\n/* 385 */,\n/* 386 */,\n/* 387 */,\n/* 388 */,\n/* 389 */,\n/* 390 */,\n/* 391 */,\n/* 392 */,\n/* 393 */,\n/* 394 */,\n/* 395 */,\n/* 396 */,\n/* 397 */,\n/* 398 */,\n/* 399 */,\n/* 400 */,\n/* 401 */,\n/* 402 */,\n/* 403 */,\n/* 404 */,\n/* 405 */,\n/* 406 */,\n/* 407 */,\n/* 408 */,\n/* 409 */,\n/* 410 */,\n/* 411 */,\n/* 412 */,\n/* 413 */,\n/* 414 */,\n/* 415 */,\n/* 416 */,\n/* 417 */,\n/* 418 */,\n/* 419 */,\n/* 420 */,\n/* 421 */,\n/* 422 */,\n/* 423 */,\n/* 424 */,\n/* 425 */,\n/* 426 */,\n/* 427 */,\n/* 428 */,\n/* 429 */,\n/* 430 */,\n/* 431 */,\n/* 432 */,\n/* 433 */,\n/* 434 */,\n/* 435 */,\n/* 436 */,\n/* 437 */,\n/* 438 */,\n/* 439 */,\n/* 440 */,\n/* 441 */,\n/* 442 */,\n/* 443 */,\n/* 444 */,\n/* 445 */,\n/* 446 */,\n/* 447 */,\n/* 448 */,\n/* 449 */,\n/* 450 */,\n/* 451 */,\n/* 452 */,\n/* 453 */,\n/* 454 */,\n/* 455 */,\n/* 456 */,\n/* 457 */,\n/* 458 */,\n/* 459 */,\n/* 460 */,\n/* 461 */,\n/* 462 */,\n/* 463 */,\n/* 464 */,\n/* 465 */,\n/* 466 */,\n/* 467 */,\n/* 468 */,\n/* 469 */,\n/* 470 */,\n/* 471 */,\n/* 472 */,\n/* 473 */,\n/* 474 */,\n/* 475 */,\n/* 476 */,\n/* 477 */,\n/* 478 */,\n/* 479 */,\n/* 480 */,\n/* 481 */,\n/* 482 */,\n/* 483 */,\n/* 484 */,\n/* 485 */,\n/* 486 */,\n/* 487 */,\n/* 488 */,\n/* 489 */,\n/* 490 */,\n/* 491 */,\n/* 492 */,\n/* 493 */,\n/* 494 */,\n/* 495 */,\n/* 496 */,\n/* 497 */,\n/* 498 */,\n/* 499 */,\n/* 500 */,\n/* 501 */,\n/* 502 */,\n/* 503 */,\n/* 504 */,\n/* 505 */,\n/* 506 */,\n/* 507 */,\n/* 508 */,\n/* 509 */,\n/* 510 */,\n/* 511 */,\n/* 512 */,\n/* 513 */,\n/* 514 */,\n/* 515 */,\n/* 516 */,\n/* 517 */,\n/* 518 */,\n/* 519 */,\n/* 520 */,\n/* 521 */,\n/* 522 */,\n/* 523 */,\n/* 524 */,\n/* 525 */,\n/* 526 */,\n/* 527 */,\n/* 528 */,\n/* 529 */,\n/* 530 */,\n/* 531 */,\n/* 532 */,\n/* 533 */,\n/* 534 */,\n/* 535 */,\n/* 536 */,\n/* 537 */,\n/* 538 */,\n/* 539 */,\n/* 540 */,\n/* 541 */,\n/* 542 */,\n/* 543 */,\n/* 544 */,\n/* 545 */,\n/* 546 */,\n/* 547 */,\n/* 548 */,\n/* 549 */,\n/* 550 */,\n/* 551 */,\n/* 552 */,\n/* 553 */,\n/* 554 */,\n/* 555 */,\n/* 556 */,\n/* 557 */,\n/* 558 */,\n/* 559 */,\n/* 560 */,\n/* 561 */,\n/* 562 */,\n/* 563 */,\n/* 564 */,\n/* 565 */,\n/* 566 */,\n/* 567 */,\n/* 568 */,\n/* 569 */,\n/* 570 */,\n/* 571 */,\n/* 572 */,\n/* 573 */,\n/* 574 */,\n/* 575 */,\n/* 576 */,\n/* 577 */,\n/* 578 */,\n/* 579 */,\n/* 580 */,\n/* 581 */,\n/* 582 */,\n/* 583 */,\n/* 584 */,\n/* 585 */,\n/* 586 */,\n/* 587 */,\n/* 588 */,\n/* 589 */,\n/* 590 */,\n/* 591 */,\n/* 592 */,\n/* 593 */,\n/* 594 */,\n/* 595 */,\n/* 596 */,\n/* 597 */,\n/* 598 */,\n/* 599 */,\n/* 600 */,\n/* 601 */,\n/* 602 */,\n/* 603 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 604 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 605 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 606 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 607 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 608 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 609 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 610 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 611 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 612 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 613 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 614 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 615 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 616 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 617 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 618 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 619 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 620 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 621 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 622 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 623 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 624 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 625 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 626 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 627 */,\n/* 628 */,\n/* 629 */,\n/* 630 */,\n/* 631 */,\n/* 632 */,\n/* 633 */,\n/* 634 */,\n/* 635 */,\n/* 636 */,\n/* 637 */,\n/* 638 */,\n/* 639 */,\n/* 640 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(623)\n\t__webpack_require__(624)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(255),\n\t  /* template */\n\t  __webpack_require__(688),\n\t  /* scopeId */\n\t  \"data-v-c1b60834\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 641 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(603)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(256),\n\t  /* template */\n\t  __webpack_require__(663),\n\t  /* scopeId */\n\t  \"data-v-031586be\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 642 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(611)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(257),\n\t  /* template */\n\t  __webpack_require__(671),\n\t  /* scopeId */\n\t  \"data-v-3d99eee3\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 643 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(258),\n\t  /* template */\n\t  __webpack_require__(673),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 644 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(608)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(259),\n\t  /* template */\n\t  __webpack_require__(668),\n\t  /* scopeId */\n\t  \"data-v-306f4abb\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 645 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(618)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(260),\n\t  /* template */\n\t  __webpack_require__(681),\n\t  /* scopeId */\n\t  \"data-v-746cecc8\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 646 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(613)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(261),\n\t  /* template */\n\t  __webpack_require__(674),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 647 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(262),\n\t  /* template */\n\t  __webpack_require__(676),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 648 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(622)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(264),\n\t  /* template */\n\t  __webpack_require__(687),\n\t  /* scopeId */\n\t  \"data-v-a8e9dfbe\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 649 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(265),\n\t  /* template */\n\t  __webpack_require__(675),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 650 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(621)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(266),\n\t  /* template */\n\t  __webpack_require__(685),\n\t  /* scopeId */\n\t  \"data-v-987d60e8\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 651 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(617)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(267),\n\t  /* template */\n\t  __webpack_require__(680),\n\t  /* scopeId */\n\t  \"data-v-73ec12ee\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 652 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(268),\n\t  /* template */\n\t  __webpack_require__(686),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 653 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(616)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(269),\n\t  /* template */\n\t  __webpack_require__(679),\n\t  /* scopeId */\n\t  \"data-v-6bbb2c29\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 654 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(625)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(271),\n\t  /* template */\n\t  __webpack_require__(689),\n\t  /* scopeId */\n\t  \"data-v-d56d6c28\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 655 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(610)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(273),\n\t  /* template */\n\t  __webpack_require__(670),\n\t  /* scopeId */\n\t  \"data-v-3c3490f3\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 656 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(607)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(274),\n\t  /* template */\n\t  __webpack_require__(667),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 657 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(615)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(275),\n\t  /* template */\n\t  __webpack_require__(678),\n\t  /* scopeId */\n\t  \"data-v-64bc751c\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 658 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(619)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(276),\n\t  /* template */\n\t  __webpack_require__(682),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 659 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(278),\n\t  /* template */\n\t  __webpack_require__(683),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 660 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(609)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(279),\n\t  /* template */\n\t  __webpack_require__(669),\n\t  /* scopeId */\n\t  \"data-v-309036ee\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 661 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(614)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(280),\n\t  /* template */\n\t  __webpack_require__(677),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 662 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(612)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(281),\n\t  /* template */\n\t  __webpack_require__(672),\n\t  /* scopeId */\n\t  \"data-v-40563b8d\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 663 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    ref: \"canvas\",\n\t    attrs: {\n\t      \"id\": \"canvas\"\n\t    }\n\t  }, [_c('svg', {\n\t    attrs: {\n\t      \"id\": \"north_axis\",\n\t      \"height\": \"1792\",\n\t      \"viewBox\": \"0 0 1792 1792\",\n\t      \"width\": \"1792\",\n\t      \"xmlns\": \"http://www.w3.org/2000/svg\",\n\t      \"transform\": (\"rotate(\" + _vm.northAxis + \")\")\n\t    }\n\t  }, [_c('path', {\n\t    attrs: {\n\t      \"d\": \"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z\"\n\t    }\n\t  })]), _vm._v(\" \"), (_vm.mapEnabled) ? _c('map-view', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.mapVisible),\n\t      expression: \"mapVisible\"\n\t    }]\n\t  }) : _vm._e()], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 664 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return (_vm.col.readonly || !_vm.col.input_type) ? _c('span', {\n\t    class: {\n\t      numeric: _vm.col.numeric\n\t    }\n\t  }, [_vm._v(\"\\n  \" + _vm._s(_vm.value) + \"\\n\")]) : (_vm.col.input_type === 'text') ? _c('input', {\n\t    class: {\n\t      numeric: _vm.col.numeric\n\t    },\n\t    attrs: {\n\t      \"disabled\": _vm.disabled,\n\t      \"placeholder\": _vm.col.nullable && _vm.row[_vm.col.name] === null ? '(none)' : null\n\t    },\n\t    domProps: {\n\t      \"value\": _vm.value\n\t    },\n\t    on: {\n\t      \"keydown\": _vm.blurOnEnter,\n\t      \"blur\": function($event) {\n\t        _vm.onChange($event.target.value);\n\t        _vm.$forceUpdate()\n\t      }\n\t    }\n\t  }) : (_vm.col.input_type === 'color') ? _c('div', {\n\t    staticClass: \"color-wrapper\"\n\t  }, [_c('input', {\n\t    staticClass: \"input-color\",\n\t    style: (_vm.colorStyles),\n\t    attrs: {\n\t      \"disabled\": _vm.disabled,\n\t      \"readonly\": \"\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm.row[_vm.col.name]\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.showColorModal = true\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), (_vm.showColorModal) ? _c('ColorPickerModal', {\n\t    attrs: {\n\t      \"value\": _vm.row[_vm.col.name]\n\t    },\n\t    on: {\n\t      \"close\": function($event) {\n\t        _vm.showColorModal = false\n\t      },\n\t      \"change\": _vm.onChange\n\t    }\n\t  }) : _vm._e()], 1) : (_vm.col.input_type === 'select') ? _c('pretty-select', {\n\t    attrs: {\n\t      \"options\": _vm.selectData,\n\t      \"value\": _vm.row[_vm.col.name],\n\t      \"disabled\": _vm.disabled,\n\t      \"editable\": _vm.col.editable,\n\t      \"type\": _vm.col.type,\n\t      \"type_id\": _vm.col.name,\n\t      \"space_id\": _vm.row.id\n\t    },\n\t    on: {\n\t      \"change\": function (val) { return _vm.onChange(val); }\n\t    }\n\t  }) : (_vm.col.input_type === 'texture') ? _c('TextureSelect', {\n\t    attrs: {\n\t      \"value\": _vm.row[_vm.col.name],\n\t      \"disabled\": _vm.disabled\n\t    },\n\t    on: {\n\t      \"change\": function (val) { return _vm.onChange(val); }\n\t    }\n\t  }) : _vm._e()\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 665 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('aside', [_c('div', {\n\t    staticClass: \"overlay\",\n\t    on: {\n\t      \"click\": _vm.close\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"modal\"\n\t  }, [_c('span', [_c('svg', {\n\t    staticClass: \"close-button\",\n\t    attrs: {\n\t      \"viewBox\": \"0 0 256 256\",\n\t      \"xmlns\": \"http://www.w3.org/2000/svg\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.close\n\t    }\n\t  }, [_c('path', {\n\t    attrs: {\n\t      \"d\": \"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z\"\n\t    }\n\t  })])]), _vm._v(\" \"), _c('header', [_c('h2', [_vm._v(_vm._s(_vm.title))])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"content\"\n\t  }, [_vm._t(\"default\")], 2)])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 666 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('transition', {\n\t    attrs: {\n\t      \"name\": \"modal\"\n\t    }\n\t  }, [_c('Portal', {\n\t    attrs: {\n\t      \"to\": \"color-picker\"\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"color-picker-modal\"\n\t  }, [_c('div', {\n\t    staticClass: \"modal-mask\"\n\t  }, [_c('div', {\n\t    staticClass: \"modal-wrapper\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        return _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"modal-container\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        $event.stopPropagation();\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"modal-body\"\n\t  }, [_c('swatches', {\n\t    attrs: {\n\t      \"inline\": \"\",\n\t      \"show-fallback\": \"\"\n\t    },\n\t    model: {\n\t      value: (_vm.color),\n\t      callback: function($$v) {\n\t        _vm.color = $$v\n\t      },\n\t      expression: \"color\"\n\t    }\n\t  })], 1)])])])])])], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 667 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('ModalBase', {\n\t    staticClass: \"settings-modal\",\n\t    attrs: {\n\t      \"title\": \"Settings\"\n\t    },\n\t    on: {\n\t      \"close\": function($event) {\n\t        return _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"settings\"\n\t  }, [_c('p', [_c('label', {\n\t    staticClass: \"input-text\"\n\t  }, [_vm._v(\"\\n        North Axis\\n        \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model.number.lazy\",\n\t      value: (_vm.northAxis),\n\t      expression: \"northAxis\",\n\t      modifiers: {\n\t        \"number\": true,\n\t        \"lazy\": true\n\t      }\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\",\n\t      \"disabled\": _vm.mapEnabled\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.northAxis)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        _vm.northAxis = _vm._n($event.target.value)\n\t      },\n\t      \"blur\": function($event) {\n\t        return _vm.$forceUpdate()\n\t      }\n\t    }\n\t  })])]), _vm._v(\" \"), _c('ExpandableDrawer', {\n\t    staticClass: \"ground-props-drawer\",\n\t    attrs: {\n\t      \"title\": \"Ground Properties\"\n\t    }\n\t  }, [_c('p', [_c('label', {\n\t    staticClass: \"input-text\"\n\t  }, [_vm._v(\"\\n          Floor Offset\\n          \"), _c('Info', [_vm._v(\"\\n            Specifies the vertical offset between the building floor and the ground plane.\\n            Use a value < 0 for buildings with below-grade spaces, or a value > 0 for,\\n            e.g., buildings on piers.\\n          \")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.floor_offset),\n\t      expression: \"floor_offset\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.floor_offset)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.floor_offset = $event.target.value\n\t      }\n\t    }\n\t  })], 1)]), _vm._v(\" \"), _c('p', [_c('label', {\n\t    staticClass: \"input-text\"\n\t  }, [_vm._v(\"\\n          Azimuth Angle\\n          \"), _c('Info', [_vm._v(\"\\n            Direction of the ground plane, in clockwise degrees from the\\n            positive y-axis when viewed from above.\\n          \")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.azimuth_angle),\n\t      expression: \"azimuth_angle\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.azimuth_angle)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.azimuth_angle = $event.target.value\n\t      }\n\t    }\n\t  })], 1)]), _vm._v(\" \"), _c('p', [_c('label', {\n\t    staticClass: \"input-text\"\n\t  }, [_vm._v(\"\\n          Tilt Slope\\n          \"), _c('Info', [_vm._v(\"\\n            Slope of the ground plane from horizontal. For example, a value of 1 implies a 45 angle.\\n          \")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.tilt_slope),\n\t      expression: \"tilt_slope\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.tilt_slope)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.tilt_slope = $event.target.value\n\t      }\n\t    }\n\t  })], 1)])]), _vm._v(\" \"), _c('button', {\n\t    staticClass: \"button\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        return _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_vm._v(\"Okay\")])], 1)])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 668 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"edit-bar\"\n\t  }, [_vm._l((_vm.columns), function(col) {\n\t    return _c('span', {\n\t      key: col.name,\n\t      attrs: {\n\t        \"data-column\": col.name\n\t      }\n\t    }, [_c('GenericInput', {\n\t      attrs: {\n\t        \"col\": col,\n\t        \"row\": _vm.row,\n\t        \"onChange\": _vm.updateRow.bind(null, _vm.row.id, col.name)\n\t      }\n\t    })], 1)\n\t  }), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"destroy\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        return _vm.destroy()\n\t      }\n\t    }\n\t  }, [_c('Delete', {\n\t    staticClass: \"button\"\n\t  })], 1)], 2)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 669 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"input-select\"\n\t  }, [(!_vm.disabled) ? _c('button', {\n\t    class: (\"texture-\" + _vm.value),\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.open = !_vm.open\n\t      },\n\t      \"blur\": function($event) {\n\t        _vm.open = false\n\t      }\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"svg-background\"\n\t  }), _vm._v(\" \"), _c('svg', {\n\t    attrs: {\n\t      \"xmlns\": \"http://www.w3.org/2000/svg\",\n\t      \"viewBox\": \"0 0 13 14\",\n\t      \"height\": \"10px\"\n\t    }\n\t  }, [_c('path', {\n\t    attrs: {\n\t      \"d\": \"M.5 0v14l11-7-11-7z\",\n\t      \"transform\": \"translate(13) rotate(90)\"\n\t    }\n\t  })])]) : _vm._e(), _vm._v(\" \"), (_vm.open) ? _c('Portal', {\n\t    attrs: {\n\t      \"to\": \"texture-options\"\n\t    }\n\t  }, [_c('ul', {\n\t    style: (_vm.ulStyle())\n\t  }, _vm._l((_vm.textures), function(texture) {\n\t    return _c('li', {\n\t      key: texture,\n\t      class: ( _obj = {\n\t        selected: texture === _vm.value,\n\t      }, _obj[(\"texture-\" + texture)] = true, _obj ),\n\t      on: {\n\t        \"mousedown\": function($event) {\n\t          return _vm.choose(texture)\n\t        }\n\t      }\n\t    })\n\t    var _obj;\n\t  }), 0)]) : _vm._e()], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 670 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('ModalBase', {\n\t    attrs: {\n\t      \"title\": (\"Save \" + _vm.saveWhat + \" as\")\n\t    },\n\t    on: {\n\t      \"close\": function($event) {\n\t        return _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"input-text\"\n\t  }, [_c('input', {\n\t    ref: \"downloadName\",\n\t    attrs: {\n\t      \"type\": \"text\",\n\t      \"id\": \"download-name\",\n\t      \"spellcheck\": \"false\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm.saveWhat.toLowerCase()\n\t    },\n\t    on: {\n\t      \"keyup\": function($event) {\n\t        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) { return null; }\n\t        return _vm.downloadFile.apply(null, arguments)\n\t      }\n\t    }\n\t  }), _vm._v(\"\\n    .json\\n    \"), _c('button', {\n\t    staticClass: \"download-button\",\n\t    on: {\n\t      \"click\": _vm.downloadFile\n\t    }\n\t  }, [_vm._v(\"Download\")])])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 671 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"map-container\"\n\t    }\n\t  }, [_c('div', {\n\t    ref: \"map\",\n\t    style: ({\n\t      'pointer-events': _vm.tool === 'Map' ? 'all' : 'none'\n\t    }),\n\t    attrs: {\n\t      \"id\": \"map\"\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.tool === 'Map'),\n\t      expression: \"tool === 'Map'\"\n\t    }],\n\t    attrs: {\n\t      \"id\": \"autocomplete\"\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"input-text\"\n\t  }, [_c('input', {\n\t    ref: \"addressSearch\",\n\t    attrs: {\n\t      \"type\": \"text\",\n\t      \"placeholder\": \"Search for a location\"\n\t    }\n\t  })])]), _vm._v(\" \"), _c('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.tool === 'Map'),\n\t      expression: \"tool === 'Map'\"\n\t    }],\n\t    attrs: {\n\t      \"id\": \"help-text\"\n\t    }\n\t  }, [_c('p', [_vm._v(\"Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.\")]), _vm._v(\" \"), _c('button', {\n\t    on: {\n\t      \"click\": _vm.finishSetup\n\t    }\n\t  }, [_vm._v(\"Done\")])]), _vm._v(\" \"), (_vm.mapModalVisible && !_vm.mapInitialized) ? _c('map-modal', {\n\t    on: {\n\t      \"close\": function($event) {\n\t        _vm.mapModalVisible = false;\n\t        _vm.showReticle()\n\t      }\n\t    }\n\t  }) : _vm._e(), _vm._v(\" \"), _c('svg', {\n\t    attrs: {\n\t      \"id\": \"reticle\"\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 672 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('nav', {\n\t    attrs: {\n\t      \"id\": \"toolbar\"\n\t    }\n\t  }, [_c('section', {\n\t    attrs: {\n\t      \"id\": \"top\"\n\t    }\n\t  }, [_c('div', {\n\t    attrs: {\n\t      \"id\": \"navigation-head\"\n\t    }\n\t  }, [(_vm.showImportExport) ? _c('div', {\n\t    staticClass: \"import-export-buttons\"\n\t  }, [_c('input', {\n\t    ref: \"importLibrary\",\n\t    attrs: {\n\t      \"type\": \"file\"\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        return _vm.importDataAsFile($event, 'library')\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), _c('input', {\n\t    ref: \"importInput\",\n\t    attrs: {\n\t      \"type\": \"file\"\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        return _vm.importDataAsFile($event, 'floorplan')\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"open floorplan\"\n\t    }\n\t  }, [_c('open-floorplan-svg', {\n\t    staticClass: \"button\",\n\t    attrs: {\n\t      \"id\": \"import\"\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        return _vm.$refs.importInput.click()\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"save floorplan\"\n\t    }\n\t  }, [_c('save-floorplan-svg', {\n\t    staticClass: \"button\",\n\t    attrs: {\n\t      \"id\": \"export\"\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        return _vm.exportData.apply(null, arguments)\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"import library\"\n\t    }\n\t  }, [_c('import-library-svg', {\n\t    staticClass: \"button\",\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        return _vm.$refs.importLibrary.click()\n\t      }\n\t    }\n\t  })], 1)]) : _vm._e(), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"id\": \"undo-redo\"\n\t    }\n\t  }, [_c('div', {\n\t    attrs: {\n\t      \"title\": \"undo\"\n\t    }\n\t  }, [_c('undo-svg', {\n\t    staticClass: \"button\",\n\t    class: {\n\t      'disabled': !_vm.timetravelInitialized\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        return _vm.undo.apply(null, arguments)\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"redo\"\n\t    }\n\t  }, [_c('redo-svg', {\n\t    staticClass: \"button\",\n\t    class: {\n\t      'disabled': !_vm.timetravelInitialized\n\t    },\n\t    attrs: {\n\t      \"disabled\": !_vm.timetravelInitialized\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        return _vm.redo.apply(null, arguments)\n\t      }\n\t    }\n\t  })], 1)])]), _vm._v(\" \"), _c('ul', {\n\t    attrs: {\n\t      \"id\": \"mode-tabs\"\n\t    }\n\t  }, [_c('li', {\n\t    staticClass: \"tab\",\n\t    class: {\n\t      active: _vm.modeTab === 'floorplan'\n\t    },\n\t    attrs: {\n\t      \"data-modetab\": \"floorplan\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.modeTab = 'floorplan'\n\t      }\n\t    }\n\t  }, [_c('span', [_vm._v(\"\\n          Floorplan\\n          \"), _c('tab-floorplan-svg', {\n\t    staticClass: \"icon\"\n\t  })], 1)]), _vm._v(\" \"), _c('li', {\n\t    staticClass: \"tab\",\n\t    class: {\n\t      active: _vm.modeTab === 'assign'\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.modeTab = 'assign'\n\t      }\n\t    }\n\t  }, [_c('span', [_vm._v(\"\\n          Assignments\\n          \"), _c('tab-assign-svg', {\n\t    staticClass: \"icon\"\n\t  })], 1)]), _vm._v(\" \"), _c('li', {\n\t    staticClass: \"tab\",\n\t    class: {\n\t      active: _vm.modeTab === 'components'\n\t    },\n\t    attrs: {\n\t      \"data-modetab\": \"components\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.modeTab = 'components'\n\t      }\n\t    }\n\t  }, [_c('span', [_vm._v(\"\\n          Components\\n          \"), _c('tool-component-svg', {\n\t    staticClass: \"icon\"\n\t  })], 1)]), _vm._v(\" \"), _vm._m(0)]), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"id\": \"grid-settings\"\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"input-checkbox\"\n\t  }, [_c('label', [_vm._v(\"Story Below\")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.previousStoryVisible),\n\t      expression: \"previousStoryVisible\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"checkbox\"\n\t    },\n\t    domProps: {\n\t      \"checked\": Array.isArray(_vm.previousStoryVisible) ? _vm._i(_vm.previousStoryVisible, null) > -1 : (_vm.previousStoryVisible)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        var $$a = _vm.previousStoryVisible,\n\t          $$el = $event.target,\n\t          $$c = $$el.checked ? (true) : (false);\n\t        if (Array.isArray($$a)) {\n\t          var $$v = null,\n\t            $$i = _vm._i($$a, $$v);\n\t          if ($$el.checked) {\n\t            $$i < 0 && (_vm.previousStoryVisible = $$a.concat([$$v]))\n\t          } else {\n\t            $$i > -1 && (_vm.previousStoryVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n\t          }\n\t        } else {\n\t          _vm.previousStoryVisible = $$c\n\t        }\n\t      }\n\t    }\n\t  })]), _vm._v(\" \"), (_vm.mapEnabled) ? _c('div', {\n\t    staticClass: \"input-checkbox\"\n\t  }, [_c('label', [_vm._v(\"map\")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.mapVisible),\n\t      expression: \"mapVisible\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"checkbox\"\n\t    },\n\t    domProps: {\n\t      \"checked\": Array.isArray(_vm.mapVisible) ? _vm._i(_vm.mapVisible, null) > -1 : (_vm.mapVisible)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        var $$a = _vm.mapVisible,\n\t          $$el = $event.target,\n\t          $$c = $$el.checked ? (true) : (false);\n\t        if (Array.isArray($$a)) {\n\t          var $$v = null,\n\t            $$i = _vm._i($$a, $$v);\n\t          if ($$el.checked) {\n\t            $$i < 0 && (_vm.mapVisible = $$a.concat([$$v]))\n\t          } else {\n\t            $$i > -1 && (_vm.mapVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n\t          }\n\t        } else {\n\t          _vm.mapVisible = $$c\n\t        }\n\t      }\n\t    }\n\t  })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"input-checkbox\"\n\t  }, [_c('label', [_vm._v(\"grid\")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.gridVisible),\n\t      expression: \"gridVisible\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"checkbox\"\n\t    },\n\t    domProps: {\n\t      \"checked\": Array.isArray(_vm.gridVisible) ? _vm._i(_vm.gridVisible, null) > -1 : (_vm.gridVisible)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        var $$a = _vm.gridVisible,\n\t          $$el = $event.target,\n\t          $$c = $$el.checked ? (true) : (false);\n\t        if (Array.isArray($$a)) {\n\t          var $$v = null,\n\t            $$i = _vm._i($$a, $$v);\n\t          if ($$el.checked) {\n\t            $$i < 0 && (_vm.gridVisible = $$a.concat([$$v]))\n\t          } else {\n\t            $$i > -1 && (_vm.gridVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n\t          }\n\t        } else {\n\t          _vm.gridVisible = $$c\n\t        }\n\t      }\n\t    }\n\t  })]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"input-number\"\n\t  }, [_c('label', [_vm._v(\"spacing\")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model.number.lazy\",\n\t      value: (_vm.spacing),\n\t      expression: \"spacing\",\n\t      modifiers: {\n\t        \"number\": true,\n\t        \"lazy\": true\n\t      }\n\t    }],\n\t    domProps: {\n\t      \"value\": (_vm.spacing)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        _vm.spacing = _vm._n($event.target.value)\n\t      },\n\t      \"blur\": function($event) {\n\t        return _vm.$forceUpdate()\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), (!_vm.allowSettingUnits) ? _c('label', [_vm._v(_vm._s(_vm.rwUnits))]) : _vm._e()]), _vm._v(\" \"), (_vm.allowSettingUnits) ? _c('PrettySelect', {\n\t    ref: \"unitsSelect\",\n\t    attrs: {\n\t      \"options\": ['ft', 'm'],\n\t      \"value\": _vm.rwUnits\n\t    },\n\t    on: {\n\t      \"change\": _vm.updateUnits\n\t    }\n\t  }) : _vm._e(), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"settings\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.showGroundPropsModal = true\n\t      }\n\t    }\n\t  }, [_c('SettingsGear', {\n\t    staticClass: \"button\"\n\t  })], 1)], 1)]), _vm._v(\" \"), _c('section', {\n\t    class: _vm.modeTab,\n\t    attrs: {\n\t      \"id\": \"bottom\"\n\t    }\n\t  }, [(_vm.modeTab === 'floorplan') ? [_c('div', {\n\t    attrs: {\n\t      \"id\": \"instructions\"\n\t    }\n\t  }, [_vm._v(\"Draw a floorplan and import images\")]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"tools-list tools\",\n\t    attrs: {\n\t      \"id\": \"drawing-tools\"\n\t    }\n\t  }, [_c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Rectangle'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Rectangle\",\n\t      \"title\": \"Rectangle\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.tool = 'Rectangle'\n\t      }\n\t    }\n\t  }, [_c('tool-draw-rectangle-svg', {\n\t    staticClass: \"button\"\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Polygon'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Polygon\",\n\t      \"title\": \"Polygon\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.tool = 'Polygon'\n\t      }\n\t    }\n\t  }, [_c('tool-draw-polygon-svg', {\n\t    staticClass: \"button\"\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Fill'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Fill\",\n\t      \"title\": \"Fill\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.tool = 'Fill'\n\t      }\n\t    }\n\t  }, [_c('tool-fill-svg', {\n\t    staticClass: \"button\"\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Eraser'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Eraser\",\n\t      \"title\": \"Eraser\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.tool = 'Eraser'\n\t      }\n\t    }\n\t  }, [_c('tool-erase-svg', {\n\t    staticClass: \"button\"\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Image'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Image\",\n\t      \"title\": \"Image\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.setImageTool\n\t    }\n\t  }, [_c('tool-image-svg', {\n\t    staticClass: \"button\"\n\t  })], 1)])] : _vm._e(), _vm._v(\" \"), (_vm.modeTab === 'components') ? [_c('div', {\n\t    attrs: {\n\t      \"id\": \"instructions\"\n\t    }\n\t  }, [(!_vm.currentComponentDefinition) ? _c('span', [_vm._v(\"Add fenestration, daylighting, and PV\")]) : _c('span', [_vm._v(\"Click to place a \" + _vm._s(_vm.currentComponentDefinition.name))])]), _vm._v(\" \"), _c('ComponentInstanceEditBar')] : _vm._e(), _vm._v(\" \"), (_vm.modeTab === 'assign') ? [_c('div', {\n\t    attrs: {\n\t      \"id\": \"instructions\"\n\t    }\n\t  }, [_vm._v(\"Assign thermal zones, etc, to spaces\")])] : _vm._e(), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"id\": \"grid-tools\"\n\t    }\n\t  }, [_c('RenderByDropdown'), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"zoom to fit\"\n\t    }\n\t  }, [_c('ZoomToFitSvg', {\n\t    staticClass: \"button\",\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        return _vm.zoomToFit.apply(null, arguments)\n\t      }\n\t    }\n\t  })], 1)], 1)], 2), _vm._v(\" \"), _c('section', {\n\t    staticClass: \"modals\"\n\t  }, [(_vm.showSaveModal) ? _c('SaveAsModal', {\n\t    attrs: {\n\t      \"saveWhat\": _vm.thingWereSaving,\n\t      \"dataToDownload\": _vm.dataToDownload\n\t    },\n\t    on: {\n\t      \"close\": function () {\n\t        _vm.showSaveModal = false;\n\t        _vm.thingWereSaving = '';\n\t      }\n\t    }\n\t  }) : (_vm.showGroundPropsModal) ? _c('Settings', {\n\t    on: {\n\t      \"close\": function($event) {\n\t        _vm.showGroundPropsModal = false\n\t      }\n\t    }\n\t  }) : _vm._e()], 1)])\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('li', [_c('span')])\n\t}]}\n\n/***/ }),\n/* 673 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return (_vm.showInstanceEditor) ? _c('EditBar', {\n\t    attrs: {\n\t      \"row\": _vm.componentInstance,\n\t      \"columns\": _vm.visibleColumns,\n\t      \"updateRow\": _vm.modifyComponentInstance,\n\t      \"destroy\": _vm.destroyComponent\n\t    }\n\t  }) : _vm._e()\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 674 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"editable-table\"\n\t  }, [_c('RecycleScroller', {\n\t    staticClass: \"scroller\",\n\t    attrs: {\n\t      \"id\": \"recycle-scroller\",\n\t      \"items\": _vm.sortedRows,\n\t      \"item-size\": 70\n\t    },\n\t    nativeOn: {\n\t      \"scroll\": function($event) {\n\t        _vm.wrapperScrollLeft = $event.target.scrollLeft\n\t      }\n\t    },\n\t    scopedSlots: _vm._u([{\n\t      key: \"before\",\n\t      fn: function() {\n\t        return [_c('div', {\n\t          staticClass: \"flex-row fixed\",\n\t          style: ({\n\t            '-webkit-transform': 'translateX(' + -_vm.wrapperScrollLeft + 'px)',\n\t            transform: 'translateX(' + -_vm.wrapperScrollLeft + 'px)',\n\t            'clip-path': (\"polygon(\" + _vm.wrapperScrollLeft + \"px 0%, 100% 0%, 100% 100%, \" + _vm.wrapperScrollLeft + \"px 100%)\"),\n\t          }),\n\t          attrs: {\n\t            \"id\": \"fixedHeader\"\n\t          }\n\t        }, [_c('div', {\n\t          staticClass: \"checkbox-header\"\n\t        }), _vm._v(\" \"), _vm._l((_vm.visibleColumns), function(col) {\n\t          return _c('div', {\n\t            key: col.name,\n\t            staticClass: \"headers\",\n\t            class: {\n\t              active: _vm.sortKey === col.name\n\t            },\n\t            attrs: {\n\t              \"fixed\": col.fixed,\n\t              \"id\": col.displayName.replace(/\\s/g, ''),\n\t              \"data-column\": col.name,\n\t              \"prop\": col.name,\n\t              \"label\": col.displayName,\n\t              \"class-name\": (\"column__\" + (col.name)),\n\t              \"min-width\": col.width || 165\n\t            },\n\t            on: {\n\t              \"click\": function($event) {\n\t                return _vm.sortBy(col.name)\n\t              }\n\t            }\n\t          }, [_vm._v(\"\\n          \" + _vm._s(col.displayName) + \"\\n          \"), (\n\t            _vm.sortKey !== col.name || (_vm.sortKey === col.name && _vm.sortDescending)\n\t          ) ? _c('i', {\n\t            staticClass: \"icon-chevron-down\"\n\t          }) : _vm._e(), _vm._v(\" \"), (_vm.sortKey === col.name && !_vm.sortDescending) ? _c('i', {\n\t            staticClass: \"icon-chevron-up\"\n\t          }) : _vm._e()])\n\t        })], 2)]\n\t      },\n\t      proxy: true\n\t    }, {\n\t      key: \"default\",\n\t      fn: function(ref) {\n\t        var item = ref.item;\n\t\n\t        return [_c('div', {\n\t          staticClass: \"cell table-data flex-row table-first-column\"\n\t        }, [_c('div', {\n\t          staticClass: \"select\",\n\t          on: {\n\t            \"click\": function($event) {\n\t              $event.stopPropagation();\n\t              return _vm.selectRow(item)\n\t            }\n\t          }\n\t        }, [_c('input', {\n\t          attrs: {\n\t            \"type\": \"radio\"\n\t          },\n\t          domProps: {\n\t            \"checked\": _vm.selectedItemId === item.id\n\t          }\n\t        })]), _vm._v(\" \"), _c('generic-input', {\n\t          attrs: {\n\t            \"col\": _vm.visibleColumns[0],\n\t            \"row\": item,\n\t            \"onChange\": _vm.updateRow.bind(null, item.id, _vm.visibleColumns[0].name)\n\t          }\n\t        })], 1), _vm._v(\" \"), _c('div', {\n\t          key: item.id,\n\t          staticClass: \"flex-row\",\n\t          attrs: {\n\t            \"fixed\": item.fixed,\n\t            \"data-column\": item.name,\n\t            \"prop\": item.name,\n\t            \"label\": item.displayName,\n\t            \"class-name\": (\"column__\" + (item.name)),\n\t            \"min-width\": item.width || 154\n\t          }\n\t        }, [_vm._l((_vm.visibleColumns.slice(1)), function(col) {\n\t          return _c('div', {\n\t            key: col.name,\n\t            staticClass: \"cell table-data\",\n\t            attrs: {\n\t              \"data-column\": col.name,\n\t              \"prop\": col.name,\n\t              \"label\": col.displayName\n\t            }\n\t          }, [_c('generic-input', {\n\t            attrs: {\n\t              \"col\": col,\n\t              \"row\": item,\n\t              \"onChange\": _vm.updateRow.bind(null, item.id, col.name)\n\t            }\n\t          })], 1)\n\t        }), _vm._v(\" \"), _c('div', [_c('div', {\n\t          staticClass: \"duplicate\",\n\t          attrs: {\n\t            \"title\": \"duplicate\"\n\t          },\n\t          on: {\n\t            \"click\": function($event) {\n\t              $event.stopPropagation();\n\t              return _vm.duplicateRow(item)\n\t            }\n\t          }\n\t        }, [_c('Copy', {\n\t          staticClass: \"button\"\n\t        })], 1)]), _vm._v(\" \"), _c('div', [_c('div', {\n\t          staticClass: \"destroy\",\n\t          attrs: {\n\t            \"title\": \"destroy\"\n\t          },\n\t          on: {\n\t            \"click\": function($event) {\n\t              $event.stopPropagation();\n\t              return _vm.deleteRow(item)\n\t            }\n\t          }\n\t        }, [_c('Delete', {\n\t          staticClass: \"button\"\n\t        })], 1)])], 2)]\n\t      }\n\t    }])\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 675 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('input', {\n\t    ref: \"imageInput\",\n\t    staticStyle: {\n\t      \"display\": \"none\"\n\t    },\n\t    attrs: {\n\t      \"type\": \"file\",\n\t      \"accept\": \"image/jpeg,image/png,image/svg,image/gif\",\n\t      \"id\": \"upload-image-input\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.uploadImage\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 676 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    class: {\n\t      'expandable-drawer': true,\n\t      expanded: _vm.expanded,\n\t    }\n\t  }, [_c('p', {\n\t    staticClass: \"title\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.expanded = !_vm.expanded\n\t      }\n\t    }\n\t  }, [_vm._v(\"\\n    \" + _vm._s(_vm.caret) + \" \" + _vm._s(_vm.title) + \"\\n  \")]), _vm._v(\" \"), (_vm.expanded) ? _c('p', [_vm._t(\"default\")], 2) : _vm._e()])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 677 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('svg', {\n\t    attrs: {\n\t      \"id\": \"pattern-defs\"\n\t    }\n\t  }, [_c('defs', [_vm._l((_vm.modifiers), function(color, modifier) {\n\t    return [_c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"circles-2\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"5\",\n\t        \"height\": \"5\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"5\",\n\t        \"height\": \"5\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.7\"\n\t      }\n\t    }), _vm._v(\" \"), _c('circle', {\n\t      attrs: {\n\t        \"cx\": \"1.5\",\n\t        \"cy\": \"1.5\",\n\t        \"r\": \"1.5\",\n\t        \"fill\": color\n\t      }\n\t    })]), _vm._v(\" \"), _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"circles-5\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"9\",\n\t        \"height\": \"9\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"9\",\n\t        \"height\": \"9\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.7\"\n\t      }\n\t    }), _vm._v(\" \"), _c('circle', {\n\t      attrs: {\n\t        \"cx\": \"3\",\n\t        \"cy\": \"3\",\n\t        \"r\": \"3\",\n\t        \"fill\": color\n\t      }\n\t    })]), _vm._v(\" \"), _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"circles-8\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"10\",\n\t        \"height\": \"10\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"10\",\n\t        \"height\": \"10\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.7\"\n\t      }\n\t    }), _vm._v(\" \"), _c('circle', {\n\t      attrs: {\n\t        \"cx\": \"4.5\",\n\t        \"cy\": \"4.5\",\n\t        \"r\": \"4.5\",\n\t        \"fill\": color\n\t      }\n\t    })]), _vm._v(\" \"), _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"diagonal-stripe-1\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"10\",\n\t        \"height\": \"10\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"10\",\n\t        \"height\": \"10\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.7\"\n\t      }\n\t    }), _vm._v(\" \"), _c('path', {\n\t      attrs: {\n\t        \"d\": \"M-1,1 l2,-2\\n                 M0,10 l10,-10\\n                 M9,11 l2,-2\",\n\t        \"stroke\": color,\n\t        \"stroke-width\": \"1\"\n\t      }\n\t    })]), _vm._v(\" \"), _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"diagonal-stripe-4\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"10\",\n\t        \"height\": \"10\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"10\",\n\t        \"height\": \"10\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.7\"\n\t      }\n\t    }), _vm._v(\" \"), _c('path', {\n\t      attrs: {\n\t        \"d\": \"M-1,1 l2,-2\\n                 M0,10 l10,-10\\n                 M9,11 l2,-2\",\n\t        \"stroke\": color,\n\t        \"stroke-width\": \"3\"\n\t      }\n\t    })]), _vm._v(\" \"), _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"diagonal-stripe-6\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"10\",\n\t        \"height\": \"10\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"10\",\n\t        \"height\": \"10\",\n\t        \"fill\": color\n\t      }\n\t    }), _vm._v(\" \"), _c('path', {\n\t      attrs: {\n\t        \"d\": \"M-1,1 l2,-2\\n                 M0,10 l10,-10\\n                 M9,11 l2,-2\",\n\t        \"stroke\": \"white\",\n\t        \"stroke-width\": \"1\"\n\t      }\n\t    })]), _vm._v(\" \"), _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"dots-5\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"10\",\n\t        \"height\": \"10\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"10\",\n\t        \"height\": \"10\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.7\"\n\t      }\n\t    }), _vm._v(\" \"), _c('rect', {\n\t      attrs: {\n\t        \"x\": \"0\",\n\t        \"y\": \"0\",\n\t        \"width\": \"5\",\n\t        \"height\": \"5\",\n\t        \"fill\": color\n\t      }\n\t    })]), _vm._v(\" \"), _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"dots-8\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"10\",\n\t        \"height\": \"10\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"10\",\n\t        \"height\": \"10\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.7\"\n\t      }\n\t    }), _vm._v(\" \"), _c('rect', {\n\t      attrs: {\n\t        \"x\": \"0\",\n\t        \"y\": \"0\",\n\t        \"width\": \"8\",\n\t        \"height\": \"8\",\n\t        \"fill\": color\n\t      }\n\t    })]), _vm._v(\" \"), _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"crosshatch\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"8\",\n\t        \"height\": \"8\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"8\",\n\t        \"height\": \"8\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.7\"\n\t      }\n\t    }), _vm._v(\" \"), _c('path', {\n\t      attrs: {\n\t        \"d\": \"M0 0L8 8ZM8 0L0 8Z\",\n\t        \"stroke-width\": \"0.5\",\n\t        \"stroke\": color,\n\t        \"stroke-opacity\": \"0.8\"\n\t      }\n\t    })]), _vm._v(\" \"), _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"vertical-line\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"4\",\n\t        \"height\": \"49\"\n\t      }\n\t    }, [_c('rect', {\n\t      attrs: {\n\t        \"width\": \"4\",\n\t        \"height\": \"50\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.8\"\n\t      }\n\t    }), _vm._v(\" \"), _c('rect', {\n\t      attrs: {\n\t        \"width\": \"2\",\n\t        \"height\": \"50\",\n\t        \"fill\": \"#fff\",\n\t        \"fill-opacity\": \"0.5\"\n\t      }\n\t    }), _vm._v(\" \"), _c('rect', {\n\t      attrs: {\n\t        \"x\": \"2\",\n\t        \"width\": \"1\",\n\t        \"height\": \"50\",\n\t        \"fill\": color,\n\t        \"fill-opacity\": \"0.5\"\n\t      }\n\t    })])]\n\t  })], 2)])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 678 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"layout-navigation\"\n\t    }\n\t  }, [_c('nav', {\n\t    attrs: {\n\t      \"id\": \"navigation\"\n\t    }\n\t  }, [_c('section', {\n\t    attrs: {\n\t      \"id\": \"selections\"\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"id\": \"list\"\n\t    }\n\t  }, [_c('Library', {\n\t    attrs: {\n\t      \"objectTypes\": ['stories'],\n\t      \"mode\": 'stories',\n\t      \"compact\": _vm.libraryExpanded !== 'stories'\n\t    },\n\t    on: {\n\t      \"toggleCompact\": function($event) {\n\t        _vm.libraryExpanded = (_vm.libraryExpanded === 'stories' ? false : 'stories')\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), _c('Library', {\n\t    attrs: {\n\t      \"addNewOnHotkey\": \"true\",\n\t      \"objectTypes\": _vm.objectTypesForTab,\n\t      \"mode\": _vm.subselectionType,\n\t      \"searchAvailable\": true,\n\t      \"compact\": _vm.libraryExpanded !== 'subselection'\n\t    },\n\t    on: {\n\t      \"changeMode\": function (newMode) {\n\t        _vm.subselectionType = newMode;\n\t      },\n\t      \"toggleCompact\": function($event) {\n\t        _vm.libraryExpanded = (_vm.libraryExpanded === 'subselection' ? false : 'subselection')\n\t      }\n\t    }\n\t  })], 1)])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 679 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"library-select\"\n\t  }, [_c('div', {\n\t    staticClass: \"rows\"\n\t  }, _vm._l((_vm.rows), function(item) {\n\t    return _c('div', {\n\t      key: item.id,\n\t      class: {\n\t        active: _vm.selectedItemId === item.id\n\t      },\n\t      attrs: {\n\t        \"data-id\": item.id\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          return _vm.selectItem(item)\n\t        }\n\t      }\n\t    }, [_c('span', {\n\t      style: ({\n\t        'background-color': item.color\n\t      })\n\t    }), _vm._v(\"\\n        \" + _vm._s(item.name) + \"\\n        \"), _c('div', {\n\t      staticClass: \"buttons\"\n\t    }, [_c('a', {\n\t      staticClass: \"duplicate\",\n\t      attrs: {\n\t        \"title\": \"duplicate\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          $event.stopPropagation();\n\t          return _vm.duplicateRow(item)\n\t        }\n\t      }\n\t    }, [_c('Copy', {\n\t      staticClass: \"button\"\n\t    })], 1), _vm._v(\" \"), _c('a', {\n\t      staticClass: \"destroy\",\n\t      attrs: {\n\t        \"title\": \"delete\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          $event.stopPropagation();\n\t          return _vm.destroyItem(item)\n\t        }\n\t      }\n\t    }, [_c('Delete', {\n\t      staticClass: \"button\"\n\t    })], 1)])])\n\t  }), 0)])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 680 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('section', {\n\t    attrs: {\n\t      \"id\": \"inspector\"\n\t    }\n\t  }, [_c('section', {\n\t    staticClass: \"list\",\n\t    attrs: {\n\t      \"id\": \"geometry-list\"\n\t    }\n\t  }, [_vm._l((_vm.currentStoryGeometry.faces), function(face) {\n\t    return (!_vm.currentSpace && !_vm.currentShading) ? [_c('header', [_c('h3', [_vm._v(\"Face \" + _vm._s(face.id))])]), _vm._v(\" \"), _vm._l((face.edgeRefs), function(edgeRef) {\n\t      return _c('div', {\n\t        staticClass: \"list-item\"\n\t      }, [_vm._v(\"\\n        edge \" + _vm._s(edgeRef.edge_id) + \" \" + _vm._s(edgeRef.reverse ? 'reversed ' : '') + \"\\n        \"), _c('br'), _vm._v(\"startpoint \" + _vm._s(_vm.startpoint(edgeRef)) + \"\\n        \"), _c('br'), _vm._v(\"endpoint \" + _vm._s(_vm.endpoint(edgeRef)) + \"\\n      \")])\n\t    })] : _vm._e()\n\t  }), _vm._v(\" \"), (_vm.currentSubSelectionFace) ? [_c('header', [_c('h3', [_vm._v(\"Face \" + _vm._s(_vm.currentSubSelectionFace.id) + \" on \" + _vm._s(_vm.currentSpace ? _vm.currentSpace.name : _vm.currentShading.name))])]), _vm._v(\" \"), _vm._l((_vm.currentSubSelectionFace.edgeRefs), function(edgeRef) {\n\t    return _c('div', {\n\t      staticClass: \"list-item\"\n\t    }, [_vm._v(\"\\n        edge \" + _vm._s(edgeRef.edge_id) + \" \" + _vm._s(edgeRef.reverse ? 'reversed ' : '') + \"\\n        \"), _c('br'), _vm._v(\"startpoint \" + _vm._s(_vm.startpoint(edgeRef)) + \"\\n        \"), _c('br'), _vm._v(\"endpoint \" + _vm._s(_vm.endpoint(edgeRef)) + \"\\n      \")])\n\t  })] : _vm._e()], 2)])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 681 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"editable-select-list\",\n\t    class: {\n\t      'expanded': !_vm.compact\n\t    },\n\t    attrs: {\n\t      \"data-object-type\": _vm.selectedObjectType\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"controls\"\n\t  }, [_c('div', {\n\t    staticClass: \"control-group\"\n\t  }, [(_vm.objectTypes.length > 1) ? _c('PrettySelect', {\n\t    attrs: {\n\t      \"options\": _vm.objectTypes,\n\t      \"value\": _vm.selectedObjectType\n\t    },\n\t    on: {\n\t      \"change\": function (val) { return _vm.$emit('selectObjectType', val); }\n\t    }\n\t  }) : _c('span', [_vm._v(_vm._s(_vm.objectTypes[0].display || _vm.objectTypes[0].displayName))]), _vm._v(\" \"), (_vm.addRow) ? _c('a', {\n\t    staticClass: \"add-new\",\n\t    attrs: {\n\t      \"title\": \"Create new\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.addRow\n\t    }\n\t  }, [_c('AddNew', {\n\t    staticClass: \"button\"\n\t  })], 1) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"control-group\"\n\t  }, [_c('a', {\n\t    attrs: {\n\t      \"title\": _vm.compact ? 'expand' : 'contract'\n\t    },\n\t    on: {\n\t      \"click\": _vm.toggleCompact\n\t    }\n\t  }, [_c('DoubleArrows', {\n\t    staticClass: \"button\",\n\t    attrs: {\n\t      \"transform\": _vm.compact ? '' : 'scale(-1, 1)'\n\t    }\n\t  })], 1)])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"input-text search-spot\"\n\t  }, [(_vm.searchAvailable) ? _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.search),\n\t      expression: \"search\"\n\t    }],\n\t    staticClass: \"search-bar\",\n\t    attrs: {\n\t      \"placeholder\": \"search\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.search)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.search = $event.target.value\n\t      }\n\t    }\n\t  }) : _vm._e()]), _vm._v(\" \"), (_vm.compact) ? _c('LibrarySelect', {\n\t    attrs: {\n\t      \"rows\": _vm.searchedRows,\n\t      \"selectItem\": _vm.selectRow,\n\t      \"destroyItem\": _vm.destroyRow,\n\t      \"selectedItemId\": _vm.selectedRowId,\n\t      \"duplicateRow\": _vm.duplicateRow\n\t    }\n\t  }) : _c('EditableTable', {\n\t    attrs: {\n\t      \"selectRow\": _vm.selectRow,\n\t      \"selectedItemId\": _vm.selectedRowId,\n\t      \"columns\": _vm.visibleColumns,\n\t      \"rows\": _vm.searchedRows,\n\t      \"deleteRow\": _vm.destroyRow,\n\t      \"updateRow\": _vm.editRow,\n\t      \"duplicateRow\": _vm.duplicateRow\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 682 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return (!_vm.isChrome) ? _c('p', {\n\t    staticClass: \"non-chrome-warning\"\n\t  }, [_vm._v(\"\\n  Warning. This web-app is currently only tested against recent versions of Chrome. \\n\")]) : _vm._e()\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 683 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"render-by\"\n\t  }, [_c('PrettySelect', {\n\t    attrs: {\n\t      \"label\": \"View By\",\n\t      \"options\": _vm.renderableOptions,\n\t      \"value\": _vm.currentMode\n\t    },\n\t    on: {\n\t      \"change\": function (val) {\n\t        _vm.currentMode = val\n\t      }\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 684 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"input-select\"\n\t  }, [(_vm.label) ? _c('label', [_vm._v(_vm._s(_vm.label))]) : _vm._e(), _vm._v(\" \"), _c('select', {\n\t    ref: \"select\",\n\t    staticClass: \"pretty-select\",\n\t    attrs: {\n\t      \"disabled\": _vm.disabled\n\t    },\n\t    on: {\n\t      \"change\": _vm.handleChange\n\t    }\n\t  }, _vm._l((_vm.normalizedOpts), function(opt) {\n\t    return _c('option', {\n\t      domProps: {\n\t        \"value\": opt.val,\n\t        \"selected\": opt.val === _vm.value\n\t      }\n\t    }, [_vm._v(_vm._s(opt.display))])\n\t  }), 0), _vm._v(\" \"), _c('svg', {\n\t    attrs: {\n\t      \"xmlns\": \"http://www.w3.org/2000/svg\",\n\t      \"viewBox\": \"0 0 13 14\",\n\t      \"height\": \"10px\"\n\t    }\n\t  }, [_c('path', {\n\t    attrs: {\n\t      \"d\": \"M.5 0v14l11-7-11-7z\",\n\t      \"transform\": \"translate(13) rotate(90)\"\n\t    }\n\t  })])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 685 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"info\"\n\t  }, [_c('InfoIcon', {\n\t    staticClass: \"button\"\n\t  }), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"tooltip-text\"\n\t  }, [_vm._t(\"default\")], 2)], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 686 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('EditableSelectList', {\n\t    attrs: {\n\t      \"selectedObjectType\": _vm.mode,\n\t      \"objectTypes\": _vm.objectTypesDisplay,\n\t      \"rows\": _vm.rows,\n\t      \"columns\": _vm.columns,\n\t      \"selectedRowId\": _vm.selectedObject && _vm.selectedObject.id,\n\t      \"selectRow\": function (row) {\n\t        _vm.selectedObject = row;\n\t      },\n\t      \"addRow\": _vm.addRowPermitted && _vm.createObject,\n\t      \"editRow\": _vm.modifyObject,\n\t      \"destroyRow\": _vm.destroyObject,\n\t      \"duplicateRow\": _vm.duplicateRow,\n\t      \"searchAvailable\": _vm.searchAvailable,\n\t      \"compact\": _vm.compact\n\t    },\n\t    on: {\n\t      \"toggleCompact\": function (c) { return _vm.$emit('toggleCompact', c); },\n\t      \"selectObjectType\": _vm.changeMode\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 687 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    ref: \"gridParent\",\n\t    class: {\n\t      'reduce-ticks': _vm.reduceTicks\n\t    },\n\t    style: ({\n\t      'pointer-events': (_vm.currentTool === 'Drag' || _vm.currentTool === 'Map') ? 'none' : 'auto'\n\t    }),\n\t    attrs: {\n\t      \"id\": \"grid\"\n\t    }\n\t  }, [_c('svg', {\n\t    ref: \"grid\",\n\t    attrs: {\n\t      \"id\": \"svg-grid\"\n\t    }\n\t  }, [_c('g', {\n\t    staticClass: \"axis axis--x\"\n\t  }), _vm._v(\" \"), _c('g', {\n\t    staticClass: \"axis axis--y\"\n\t  }), _vm._v(\" \"), _c('g', {\n\t    staticClass: \"images\",\n\t    attrs: {\n\t      \"data-transform-plz\": \"\"\n\t    }\n\t  }), _vm._v(\" \"), _c('g', {\n\t    staticClass: \"polygons\",\n\t    attrs: {\n\t      \"data-transform-plz\": \"\"\n\t    }\n\t  }), _vm._v(\" \"), _c('g', {\n\t    staticClass: \"walls\",\n\t    attrs: {\n\t      \"data-transform-plz\": \"\"\n\t    }\n\t  })])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 688 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    class: (\"tool_\" + (_vm.tool.toLowerCase())),\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_c('toolbar', {\n\t    class: {\n\t      'disabled-component': _vm.tool === 'Map'\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      'nav-on-top': _vm.navigationExpanded\n\t    },\n\t    attrs: {\n\t      \"id\": \"layout-main\"\n\t    }\n\t  }, [_c('navigation', {\n\t    class: {\n\t      'disabled-component': _vm.tool === 'Map'\n\t    },\n\t    on: {\n\t      \"expanded\": function (val) {\n\t        _vm.navigationExpanded = val;\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), _c('main', [_c('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.error || _vm.success),\n\t      expression: \"error || success\"\n\t    }],\n\t    class: {\n\t      error: _vm.error, success: _vm.success\n\t    },\n\t    attrs: {\n\t      \"id\": \"alert-text\"\n\t    }\n\t  }, [_c('p', [_vm._v(_vm._s(_vm.error || _vm.success))])]), _vm._v(\" \"), _c('canvas-view'), _vm._v(\" \"), _c('grid-view')], 1)], 1), _vm._v(\" \"), _c('ImageUpload'), _vm._v(\" \"), _c('Textures'), _vm._v(\" \"), _c('PortalTarget', {\n\t    attrs: {\n\t      \"name\": \"texture-options\"\n\t    }\n\t  }), _vm._v(\" \"), _c('PortalTarget', {\n\t    attrs: {\n\t      \"name\": \"color-picker\"\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 689 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('aside', [_c('div', {\n\t    staticClass: \"overlay\"\n\t  }), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"modal\"\n\t  }, [_vm._m(0), _vm._v(\" \"), _c('NonChromeWarning'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"content\"\n\t  }, [_c('p', [_c('a', {\n\t    staticClass: \"quickstart-action new-floorplan\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.mapEnabled = false;\n\t        _vm.mapVisible = false;\n\t        _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"title\"\n\t  }, [_vm._v(\"New\")]), _vm._v(\" \"), _c('QuickstartIconNewFloorplan'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"explanation\"\n\t  }, [_vm._v(\"Create a new floorplan\")])], 1)]), _vm._v(\" \"), _c('p', [_c('a', {\n\t    staticClass: \"quickstart-action\",\n\t    attrs: {\n\t      \"disabled\": !_vm.online\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.mapEnabled = true;\n\t        _vm.tool = 'Map';\n\t        _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"title\"\n\t  }, [_vm._v(\"New With Map\")]), _vm._v(\" \"), _c('QuickstartIconNewMapFloorplan'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"explanation\"\n\t  }, [_vm._v(\"Create a new floorplan with a map\")])], 1)]), _vm._v(\" \"), _c('p', [_c('a', {\n\t    staticClass: \"quickstart-action open-floorplan\",\n\t    attrs: {\n\t      \"id\": \"import\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        return _vm.$refs.importInput.click()\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"title\"\n\t  }, [_vm._v(\"Open\")]), _vm._v(\" \"), _c('QuickstartIconOpenFloorplan'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"explanation\"\n\t  }, [_vm._v(\"Open an existing floorplan\")])], 1)]), _vm._v(\" \"), _c('input', {\n\t    ref: \"importInput\",\n\t    attrs: {\n\t      \"id\": \"importInput\",\n\t      \"type\": \"file\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.importFloorplanAsFile\n\t    }\n\t  })])], 1)])\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('header', [_c('h2', [_vm._v(\"Quickstart\")])])\n\t}]}\n\n/***/ }),\n/* 690 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18.4 17.7V5H.6v13h18.2l-.4-.3zM1.6 6h15.8v11L13 13.7l-2.3 1.7L7 11.5 1.8 17h-.2V6z\",\"fill\":\"#fff\"}}),_c('circle',{attrs:{\"cx\":\"9.7\",\"cy\":\"5.4\",\"fill\":\"#39b54a\",\"r\":\"5\"}}),_c('path',{attrs:{\"d\":\"M11.5 4.5h-1.2V3.3c0-.3-.2-.5-.5-.5h-.6c-.3 0-.5.2-.5.5v1.2H7.5c-.3 0-.5.2-.5.5v.6c0 .2.2.4.5.4h1.2v1.2c0 .3.2.5.5.5h.6c.3 0 .5-.2.5-.5V6h1.2c.3 0 .5-.2.5-.5V5c-.1-.3-.3-.5-.5-.5z\",\"fill\":\"#58595b\"}})])}}};\n\n/***/ }),\n/* 691 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"10.5\",\"cy\":\"10\",\"fill\":\"#39b54a\",\"r\":\"7.9\"}}),_c('path',{attrs:{\"d\":\"M13.6 8.8h-1.9V6.9c0-.4-.3-.8-.8-.8H10c-.4 0-.8.3-.8.8v1.9H7.3c-.4 0-.8.3-.8.8v.9c0 .4.3.8.8.8h1.9v1.9c0 .4.3.8.8.8h.9c.4 0 .8-.3.8-.8v-1.9h1.9c.4 0 .8-.3.8-.8v-1c-.1-.4-.4-.7-.8-.7z\",\"fill\":\"#58595b\"}})])}}};\n\n/***/ }),\n/* 692 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM12.9 5.1c0-.9-.7-1.7-1.7-1.7-.9 0-1.7.7-1.7 1.7 0 .9.7 1.7 1.7 1.7.9 0 1.7-.8 1.7-1.7zm5.3 15.5h-2.9v1.1h7v-1.1h-1.7v-7.3h1.7v-1.1h-9.7v1.1h5.6v7.3zM6 16.7v.1c0 .3.2.5.5.5h1.6v1.5h.3v1l-2 .6v.5h.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1l1.6-.2v.1h.1v.6h.2v.4H9v-1h.1v-.1l1.5.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1h.2v-.5l-2-.5v-1h.3v-1.5h1.9c.3 0 .5-.2.5-.5v-.1c0-.2-.1-.3-.2-.4h1.3l-.8 4c-.1.5.3 1.1.8 1.2.6.1 1.1-.2 1.2-.8l1.1-5.3v-.4c-.1-.6-.5-1-1.1-1h-3.2l.4-1.9h3.9c.2 0 .3 0 .5-.1h4.2v-.5c.1 0 .1-.1.2-.1l.5.2 1.9-5-.6-.2-1.9 4.9h-.1c-.1 0-.2.1-.2.2H16v-.1c0-.5-.4-.9-.9-.9h-3.5l.2-1c.2-.9-.4-1.7-1.3-1.9l-.5-.1c-.8-.4-1.6.1-1.8 1L7.7 11l-.1.7V10c0-.3-.2-.5-.5-.5h-.5c-.3 0-.6.2-.6.5v3.8c0 .3.2.5.5.5v1.8c-.3.1-.5.3-.5.6zm1-1c.1.2.3.4.5.5H7v-.5z\"}})])}}};\n\n/***/ }),\n/* 693 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zm-8.5-.2H6v-19h13v19zm-12.1-.9H18v-17H6.9v17z\"}}),_c('path',{attrs:{\"d\":\"M11.8 15.9h5.8v4.3h-5.8zm0-5.7h5.8v4.3h-5.8zm0-5.8h5.8v4.3h-5.8z\"}})])}}};\n\n/***/ }),\n/* 694 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM20.6 6.6c0-.1-.1-.2-.1-.3-.1.1-.1.2-.2.2-.7.8-1.3 1.7-2 2.5-.4.5-1 .6-1.5.2-.1-.1-.2-.2-.4-.3-.2-.2-.3-.4-.4-.7 0-.3.1-.6.3-.8.7-.8 1.3-1.7 2-2.5.1-.1.1-.2.2-.2-.1 0-.2 0-.3-.1-1.2-.2-2.5.3-3.4 1.3-.8 1-1 2.4-.6 3.6-.6.8-1.3 1.7-1.9 2.5L9.2 7.7c.2-.1.4-.3.6-.5 1.9-1.4 2.4-.2 2.9-.8.5-.6-2-2.2-4.1-.7-.1.2-.3.4-.5.5-.3-.2-.7-.3-1 0-.2.2-.3.5-.2.8-.6.5-1.1.8-1.3 1l-.1-.1c-.2-.3-.6-.3-.8-.1l-.7.5c-.3.2-.4.5-.2.8L5 10.8c.2.3.6.3.9.1l.7-.5c.3-.2.3-.6.1-.9.2-.2.7-.5 1.3-.9l3.4 4.7-.1.1c-.2.1-.3.3-.3.5-1.2 1.5-2.4 3.1-3.6 4.6-.2.3-.4.7-.3 1.1 0 .4.2.7.5 1 .1.1.2.2.4.3.6.5 1.5.4 2-.3.9-1.2 1.9-2.4 2.8-3.6l2.3 3.5c.3.4.8.4 1.1.2l2.2-1.6c.4-.3.4-.8.2-1.1l-3.4-4.1c.6-.7 1.1-1.5 1.7-2.2 1.2.2 2.4-.3 3.2-1.4.8-1.1 1-2.5.5-3.7z\"}})])}}};\n\n/***/ }),\n/* 695 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM15.6 10.3l5.4 5.2L10.2 17zm-6.5 6.8l6-7.4-7.4-4-5.9 7.4z\"}})])}}};\n\n/***/ }),\n/* 696 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM3 2.9v18h21v-18H3zm14.6 4H8.8l-2.6-2h14.1l-2.7 2zm-.6 2v6h-7v-6h7zm-9 .6v5.6l-3 2.6V7l3 2.5zm1.6 7.4h8.2l2.6 2H6.9l2.7-2zm9.4-1.8V8.8l3-2.6v11.4l-3-2.5z\"}})])}}};\n\n/***/ }),\n/* 697 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zm-6.4-8.9h-1.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm-15.3 0H4.3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm6.9-6.3c-.3 0-.5-.2-.5-.5V4.8c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm0 14.8c-.3 0-.5-.2-.5-.5v-1.5c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm4.9-4.1l1.1 1m0 .5c-.1 0-.2 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.1.1-.3.1-.4.1zM6.8 7l1.1 1.1m0 .5c-.1 0-.3 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.2 0-.3.1-.4.1zm9.5-.7l1-1m-1 1.5c-.1 0-.3-.1-.4-.2-.2-.2-.2-.5 0-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.3.2zm-10.9 10l1.1-1m-1.1 1.5c-.1 0-.3-.1-.4-.2-.1-.1-.1-.5.1-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.4.2z\"}}),_c('ellipse',{attrs:{\"cx\":\"12.8\",\"cy\":\"12.9\",\"rx\":\"4.8\",\"ry\":\"4.6\"}})])}}};\n\n/***/ }),\n/* 698 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 2.9v19h13v-19H6zm12 1v8H7v-8h11zm-11 17v-8h11v8H7zM27.5 22l-3.3-5.5h6.7z\"}})])}}};\n\n/***/ }),\n/* 699 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.5 6.3l-7.65-4.35v8.7zm-13.35 0L4.5 1.95v8.7z\",\"fill\":\"#39b54a\"}})])}}};\n\n/***/ }),\n/* 700 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M17.6 12V0h-12v12h12zM16 1.6v8.8H7.2V1.6H16zM3.2 13.6H1.6V16H4v-1.6h-.8zM1.6 5.6h1.6v-.8H4V3.2H1.6zM12.8 14.4H12V16h2.4v-2.4h-1.6zM5.6 14.4h1.6V16H5.6zM8.8 14.4h1.6V16H8.8zM1.6 10.4h1.6V12H1.6zM1.6 7.2h1.6v1.6H1.6z\"}})])}}};\n\n/***/ }),\n/* 701 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 99.999\"}},[_c('path',{attrs:{\"d\":\"M31.001 54.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4zM31.001 35.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4z\"}}),_c('path',{attrs:{\"d\":\"M95.001 70.007h-13V31.192c0-1.85-.853-3.594-2.31-4.73L53.812 6.269a5.999 5.999 0 0 0-7.36-.018l-26.12 20.193a6.003 6.003 0 0 0-2.33 4.748V70.006h-13v4h3v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v14.99c0 3.312 2.687 6 6 6h52c3.313 0 6-2.688 6-6v-14.99h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h3v-3.999zm-71-38.815l26.12-20.193 25.88 20.193V69.998h-52V31.192z\"}})])}}};\n\n/***/ }),\n/* 702 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{staticStyle:{\"text-indent\":\"0\",\"text-transform\":\"none\",\"block-progression\":\"tb\"},attrs:{\"d\":\"M20.3 8.5c-2.96 0-5.4 2.44-5.4 5.4v52.2c0 2.96 2.44 5.4 5.4 5.4h59.4c2.96 0 5.4-2.44 5.4-5.4V13.9c0-2.96-2.44-5.4-5.4-5.4zm0 3.6h59.4c1.028 0 1.8.772 1.8 1.8v37.04L70.166 39.607c-.684-.677-1.934-.65-2.588.056L56.244 51.784 38.666 34.206a1.814 1.814 0 0 0-2.475-.056L18.5 50.294V13.9c0-1.028.772-1.8 1.8-1.8zm35.1 3.6c-4.95 0-9 4.05-9 9s4.05 9 9 9 9-4.05 9-9-4.05-9-9-9zm0 3.6c3.004 0 5.4 2.396 5.4 5.4 0 3.004-2.396 5.4-5.4 5.4a5.373 5.373 0 0 1-5.4-5.4c0-3.004 2.396-5.4 5.4-5.4zM37.344 37.975l17.69 17.69c.684.678 1.934.65 2.588-.055l11.334-12.122L81.5 56.03V66.1c0 1.028-.772 1.8-1.8 1.8H20.3c-1.028 0-1.8-.772-1.8-1.8V55.188z\",\"overflow\":\"visible\",\"color\":\"#000\"}})])}}};\n\n/***/ }),\n/* 703 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11.6 18.4c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.8-.9-2.9 1.1-.2 1.5-.2 2.8-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M19.9 7.6c-.5-.7-1-.9-1.3-.6-.2.1-.3.4-.4.8 0 .3-.2.6-.4.8-.5.4-1.3.3-2-.7v-.1c-.7-1-.6-1.9-.1-2.2.2-.2.5-.2.9-.2.4.1.7 0 .9-.1.3-.2.3-.7-.2-1.4-.1-.2-.3-.4-.5-.6-1-1-1.5-1.2-2.5-1.8-.1.1-.1.2-.2.4-.4.8-.6 1.2-1.6 2.1-.2.2-.4.4-.6.5-.9.6-1.4.5-1.6.2-.1-.2-.2-.5-.1-.9.1-.3 0-.7-.2-.9-.3-.4-1.1-.6-2.1.1h-.1c-1 .8-1.1 1.6-.8 2.1.2.2.4.4.8.4s.7.2.8.4c.3.4.2.8-.6 1.4-.2.1-.4.3-.7.4-1.3.7-1.7.7-2.9.9.2 1.1.2 1.6.9 2.9.1.3.3.5.4.7.5.7 1 .9 1.3.6.2-.1.3-.4.4-.8 0-.3.2-.6.4-.8.6-.3 1.4-.2 2.2.8v.1c.7 1 .6 1.8.1 2.2-.2.2-.6.2-.9.2-.4-.1-.7 0-.9.1-.3.2-.3.7.2 1.4.1.2.3.4.5.6 1 1 1.5 1.2 2.5 1.8l9.7-7.1c-.2-1.2-.2-1.7-.8-3-.2-.2-.3-.5-.5-.7zm-4.5.5c.3.4.7.7 1 .9.4.2.8.2 1.1.1.3-.1.5-.2.7-.5.2-.2.3-.5.3-.8 0-.3.2-.5.2-.5.1 0 .3.1.7.6.1.2.3.4.4.6.5 1 .6 1.5.8 2.2 0 .1 0 .2.1.3l-9.3 6.8c-.1 0-.2-.1-.2-.1-.7-.4-1.1-.6-1.9-1.4-.2-.2-.4-.4-.5-.6-.4-.5-.4-.8-.3-.8 0-.1.2-.1.6-.1.3.1.6 0 .9-.1.3-.1.5-.3.7-.6.2-.3.3-.7.2-1.1-.1-.4-.2-.8-.6-1.3v-.1c-.3-.3-.7-.6-1.1-.7-.4-.2-.8-.2-1.1-.1-.6.2-1 .7-1 1.3 0 .3-.2.5-.2.5-.1 0-.3-.1-.7-.6-.1-.2-.3-.4-.4-.6-.5-1-.6-1.5-.8-2.3V9h.1c.8-.2 1.4-.3 2.5-.9 1-.5 1.5-1 1.6-1.6.1-.3 0-.6-.2-.8-.2-.3-.6-.5-1.1-.5-.2 0-.4-.1-.5-.3-.1-.1-.1-.3-.1-.6.1-.2.2-.6.7-.9.5-.3.9-.5 1.3-.4.2 0 .3.1.4.2.1.2.1.4.1.6-.1.5 0 .9.2 1.2.2.2.4.4.7.4.5 0 1.2-.3 2-1.1.9-.9 1.2-1.4 1.6-2.1 0 0 0-.1.1-.1 0 0 .1 0 .1.1.7.4 1.1.6 1.9 1.4.2.2.4.4.5.6.4.5.4.8.3.8 0 .1-.2.1-.6.1-.6-.1-1.2.1-1.5.6-.2.3-.3.7-.2 1.1 0 .4.2.8.5 1.3z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M11.7 18.1c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.7-1-2.9 1.1-.2 1.6-.2 2.9-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z\",\"fill\":\"#878787\"}}),_c('ellipse',{attrs:{\"cx\":\"18.9\",\"cy\":\"18.6\",\"fill\":\"#fff\",\"rx\":\"6.6\",\"ry\":\"6.6\",\"transform\":\"rotate(-45.001 18.912 18.561)\"}}),_c('path',{attrs:{\"d\":\"M16.4 20.9l5.2.4-.4-5.2-1.5 1.5-2.5-2.5-1.8 1.8 2.5 2.5z\"}})])}}};\n\n/***/ }),\n/* 704 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{attrs:{\"d\":\"M64.433 16.857l-1.932.693-1.527.913-1.024 1.091-.477 1.122v1.138l.489 1.084L60.997 24l1.55.95 1.937.688 2.186.331h2.301l2.192-.368 1.944-.69 1.512-.914 1.029-1.096.49-1.117-.016-1.139-.491-1.122-1.027-1.06-1.558-.955-1.937-.689-2.186-.331h-2.3z\"}}),_c('path',{attrs:{\"d\":\"M75.752 25.386c-.034.03-.057.066-.097.09L73.962 26.5c-.04.023-.083.036-.124.053-.015.006-.024.019-.04.024l-2.107.749c-.03.01-.06.008-.09.016-.021.005-.04.02-.062.023l-2.343.395a.936.936 0 0 1-.149.012h-2.442-.001a.842.842 0 0 1-.134-.01l-2.342-.356c-.025-.004-.043-.019-.067-.023-.033-.009-.066-.007-.1-.018l-2.106-.748c-.017-.007-.027-.02-.043-.026-.043-.018-.087-.03-.128-.055l-1.731-1.063c-.038-.023-.06-.059-.094-.087-.03-.024-.066-.036-.094-.065l-.294-.314v1.202l.492 1.123 1.027 1.093 1.548.914 1.95.694 2.185.367 2.302-.038 2.195-.333 1.932-.686 1.509-.947 1.035-1.103.492-1.124v-1.16l-.293.312c-.027.03-.063.041-.093.065zM43.926 2.813c.022-.002.04-.015.063-.015l1.358-.022-1.588-.838-1.612 1.145 1.715-.273c.022-.004.043.004.064.002z\"}}),_c('path',{attrs:{\"d\":\"M77.758 19.894l.087.197c.035.08.046.17.055.258.004.03.02.061.02.093l.018 1.515v4.408c-.002.06-.024.12-.038.18-.012.056-.014.118-.037.17v.005l-.63 1.437a.9.9 0 0 1-.16.243c-.003.004-.004.01-.009.013l-1.22 1.3c-.026.028-.061.04-.091.064-.032.025-.052.059-.087.081l-1.694 1.063c-.041.026-.087.04-.13.058-.019.008-.03.022-.047.028l-2.106.749c-.034.011-.068.01-.101.018-.024.005-.042.02-.066.023l-2.344.355a.788.788 0 0 1-.111.009l-.01.001-2.44.04H66.6a.916.916 0 0 1-.148-.013l-2.342-.394c-.024-.003-.042-.019-.063-.024-.03-.007-.059-.005-.09-.015l-2.106-.75c-.016-.005-.025-.018-.042-.023-.037-.017-.077-.027-.114-.05l-1.733-1.022c-.04-.024-.065-.062-.1-.091-.032-.025-.07-.038-.098-.069l-1.22-1.3c-.004-.004-.005-.01-.009-.013a.886.886 0 0 1-.16-.242l-.63-1.437-.001-.006c-.023-.053-.024-.113-.037-.17-.013-.06-.037-.12-.037-.18V20.491c0-.067.024-.134.04-.202.012-.05.011-.104.03-.15l.612-1.438c.021-.051.06-.087.091-.131.028-.044.045-.093.082-.132l1.22-1.3c.03-.03.068-.045.101-.071.033-.027.055-.062.093-.085l1.713-1.023c.025-.016.055-.016.08-.029.029-.013.048-.035.077-.046l2.091-.749c.026-.01.054-.004.08-.011s.048-.025.075-.03l2.342-.393c.026-.005.05.004.075.002s.049-.015.075-.015h1.356L55.183 7.97l.1.229.001.005c.023.054.025.114.038.17.013.06.035.12.036.18l.001.006V14.468c0 .067-.025.135-.041.203-.012.05-.012.102-.03.148h-.001l-.61 1.438a.88.88 0 0 1-.16.245c-.004.004-.005.01-.009.013l-1.2 1.299c-.027.03-.065.042-.096.067-.035.029-.059.068-.1.093l-1.733 1.043c-.035.022-.074.032-.111.049-.016.006-.026.019-.042.025l-2.088.768c-.031.013-.065.01-.096.018-.025.007-.046.022-.072.027l-2.342.374a.832.832 0 0 1-.141.012h-2.423a.84.84 0 0 1-.142-.012l-2.343-.374c-.023-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.125-.748c-.017-.006-.028-.019-.044-.026-.045-.019-.09-.032-.132-.058l-1.713-1.063c-.033-.02-.052-.054-.08-.077-.03-.022-.064-.034-.091-.061l-1.22-1.26c-.006-.005-.007-.013-.013-.018a.888.888 0 0 1-.166-.247l-.63-1.438c-.034-.08-.044-.167-.056-.255-.003-.031-.02-.063-.02-.095l-.019-1.515.002-.009-.002-.009.02-2.896v-.007l-.02-1.47.002-.012c0-.057.021-.115.034-.172.011-.06.015-.124.038-.179.001-.003 0-.007.002-.01l.134-.307-12.603 8.952 1.71-.274c.026-.004.048.005.073.003.025-.002.045-.014.07-.014h2.402c.025 0 .047.012.07.014.025.002.048-.006.072-.003l2.344.375c.026.004.046.02.072.027.026.006.052 0 .077.01l2.126.729c.031.01.054.035.083.05.03.013.062.015.09.03l1.732 1.044c.038.022.06.057.093.085.033.027.074.043.103.075l1.202 1.299c.034.037.048.083.075.124.026.04.063.07.084.116l.65 1.437c.002.004 0 .008.002.011.024.055.028.117.04.177.013.057.034.115.035.172l.002.011v5.912c0 .06-.024.12-.038.18-.012.057-.014.118-.037.17v.006l-.63 1.438a.906.906 0 0 1-.16.241c-.003.005-.004.01-.009.015l-1.2 1.28c-.028.028-.064.04-.095.065-.033.027-.056.064-.094.087l-1.712 1.043c-.038.023-.08.035-.119.052-.015.007-.025.02-.04.025l-2.107.768c-.033.011-.065.01-.097.017-.024.006-.044.021-.07.026l-2.344.374a.84.84 0 0 1-.14.012H24.612h-.002a.821.821 0 0 1-.14-.012l-2.363-.374c-.022-.004-.04-.018-.06-.023-.032-.007-.064-.005-.094-.016l-2.087-.728c-.016-.005-.026-.019-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.024-.062-.06-.097-.088-.03-.025-.067-.037-.095-.067l-1.202-1.28c-.002-.003-.003-.008-.007-.011a.896.896 0 0 1-.158-.239l-.65-1.456c0-.003 0-.006-.002-.007-.024-.056-.028-.122-.04-.182-.012-.057-.034-.113-.034-.17l-.002-.008V22.403c0-.051.021-.1.03-.151.012-.068.016-.139.042-.202l.131-.309-9.362 6.651L49.24 50.924c.3-.107.624-.05.868.154l36.973-26.26-9.322-4.924zm-19.27 15.875V40.16c0 .054-.021.099-.03.15-.011.066-.013.132-.039.198l-.002.002-.608 1.454a.895.895 0 0 1-.168.254c-.005.006-.007.014-.012.019l-1.22 1.28c-.026.027-.06.038-.089.06-.03.024-.048.058-.083.08l-1.712 1.082c-.046.029-.095.045-.143.064-.017.006-.027.02-.044.025l-2.107.73c-.027.009-.056.006-.083.014-.02.004-.035.018-.055.02l-2.343.413a.843.843 0 0 1-.155.015H47.173h-.001a.843.843 0 0 1-.156-.015l-2.344-.413c-.018-.003-.033-.016-.052-.02-.028-.007-.056-.005-.083-.014l-2.125-.729c-.017-.005-.026-.019-.042-.024-.045-.02-.092-.032-.134-.058l-1.713-1.043c-.038-.023-.062-.06-.095-.09-.03-.022-.065-.035-.092-.063l-1.22-1.299c-.003-.002-.004-.007-.006-.01a.881.881 0 0 1-.159-.235l-.65-1.439c-.001-.003 0-.007-.002-.01-.024-.055-.027-.117-.04-.177-.013-.057-.035-.115-.036-.173l-.002-.01V34.29l.001-.005c0-.06.024-.12.037-.18.013-.057.014-.118.038-.17v-.006l.63-1.437c.02-.046.057-.077.084-.118.03-.046.045-.096.084-.137l1.2-1.28c.03-.03.068-.045.1-.07.031-.025.053-.06.089-.083l1.713-1.043c.028-.018.062-.019.092-.033.03-.015.05-.038.082-.049l2.107-.729c.024-.008.049-.003.073-.01.022-.006.041-.02.065-.025l2.342-.413c.027-.005.054.004.08.002.027-.003.05-.016.076-.016h2.422c.025 0 .047.012.071.014.024.002.046-.006.07-.003l2.362.374c.026.004.047.02.072.027.027.006.055 0 .082.01l2.106.73c.034.012.057.037.09.053.032.016.066.018.096.037l1.713 1.082c.032.02.051.053.079.077.03.023.065.035.092.063l1.22 1.28c.036.037.052.085.08.127.027.04.064.07.085.116l.65 1.398.003.014c.026.056.03.119.044.179.012.057.033.114.035.17l.002.016v1.516z\"}}),_c('path',{attrs:{\"d\":\"M55.144 32.278l-1.532-.969-1.936-.67-2.207-.349h-2.277l-2.19.387-1.95.675-1.526.928-1.012 1.079-.492 1.122v1.133l.505 1.119 1.033 1.066 1.536.954 1.959.689 2.19.349h2.274l2.187-.386 1.953-.693 1.53-.915 1.024-1.089.475-1.122v-1.135l-.501-1.08zM50.831 77.08L87.893 50.7V26.449L50.831 52.772zM37.424 11.011l1.029 1.096 1.526.93 1.97.675 2.183.386 2.276-.037 2.197-.351 1.92-.67 1.544-.966 1.012-1.078.478-1.14V8.752l-.49-1.12-1.031-1.08-1.53-.931-1.95-.675-2.181-.385-2.296.037-2.198.351-1.94.67-1.523.947-1.014 1.098-.492 1.12.014 1.099z\"}}),_c('path',{attrs:{\"d\":\"M56.32 39.188c-.036.029-.06.066-.1.09l-1.713 1.025c-.038.022-.08.034-.12.051-.015.006-.024.02-.04.024l-2.108.748c-.028.01-.056.008-.086.016-.02.005-.038.019-.058.022l-2.343.413a.843.843 0 0 1-.156.015h-2.422a.829.829 0 0 1-.14-.012l-2.345-.373c-.022-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.126-.748c-.017-.006-.028-.019-.044-.026-.044-.019-.09-.032-.131-.058l-1.713-1.063c-.034-.021-.054-.055-.084-.08-.028-.021-.062-.033-.088-.06l-.324-.333v1.207l.509 1.126 1.032 1.099 1.526.93 1.971.675 2.19.386h2.27l2.19-.386 1.943-.672 1.53-.968 1.031-1.079.475-1.136v-1.15l-.275.293c-.028.027-.065.04-.095.064zM37.42 15.433l1.032 1.066 1.534.952 1.959.69 2.19.35h2.28l2.184-.35 1.926-.708 1.55-.933 1.007-1.09.478-1.125v-1.166l-.255.272c-.026.028-.062.04-.092.064-.031.025-.053.06-.088.083l-1.732 1.083c-.044.027-.091.04-.136.06-.016.006-.027.02-.044.026l-2.088.729c-.03.01-.062.009-.094.016-.02.006-.039.019-.061.023l-2.342.374a.88.88 0 0 1-.118.01l-.009.002-2.422.038h-.015a.826.826 0 0 1-.156-.014l-2.342-.413c-.02-.004-.034-.016-.053-.02-.028-.007-.055-.005-.082-.014l-2.126-.73c-.016-.005-.026-.018-.042-.024-.045-.018-.091-.031-.134-.057l-1.712-1.043c-.04-.024-.063-.06-.096-.09-.03-.023-.065-.035-.092-.063l-.313-.333.015 1.216.49 1.12zM19.002 25.907l1.545.932 1.929.672 2.216.389h2.265l2.19-.387 1.943-.671 1.528-.966 1.017-1.084.492-1.123v-1.093l-.51-1.128-1.014-1.098-1.54-.927-1.966-.673-2.192-.351h-2.262l-2.192.35-1.935.67-1.531.968-1.032 1.082-.473 1.116v1.118l.507 1.124zM5.707 54.46L49.03 77.333V52.85L5.707 29.997z\"}}),_c('path',{attrs:{\"d\":\"M19.002 30.337l1.545.932 1.925.671 2.21.35h2.282l2.186-.349 1.94-.707 1.534-.934 1.012-1.078.492-1.123v-1.2l-.274.293c-.027.027-.06.038-.09.062-.031.026-.052.06-.087.083l-1.713 1.082c-.045.03-.094.045-.143.064-.016.006-.027.02-.043.025l-2.107.729c-.028.01-.056.007-.083.014-.02.004-.035.018-.054.02l-2.344.415a.836.836 0 0 1-.156.014h-2.422a.889.889 0 0 1-.155-.014l-2.362-.414c-.022-.003-.038-.018-.059-.022-.027-.007-.055-.005-.082-.014l-2.087-.729c-.016-.005-.026-.018-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.023-.062-.06-.097-.088-.03-.024-.067-.037-.095-.067l-.295-.314v1.201l.508 1.141 1.014 1.08z\"}})])}}};\n\n/***/ }),\n/* 705 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"14.9\",\"cy\":\"8.4\",\"fill\":\"#fff\",\"r\":\"6.6\"}}),_c('path',{attrs:{\"d\":\"M11.6 8.3l3.3 4 3.4-4h-2.1V4.7h-2.5v3.6z\"}})])}}};\n\n/***/ }),\n/* 706 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M26 14.4c-.3-1.2-1.7-.4-1.7-.5l-4.2 1c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-4.2c.5-.4.5-1 .2-1.5-.4-.5-1-.5-1.5-.2l-6.6 4.2c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-5.8c.5-.4.5-1.4.2-1.9-.4-.5-1-.5-1.5-.2L16.9 11c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l3.9-5.5c.5-.4.8-1 .5-1.5-.4-.5-1.3-.5-1.8-.2L15 9l-2.7 2.1c-.1.1-.3.1-.3 0s-.1-.1 0-.2l.6-4.5c.1-.6-.3-1.1-.9-1.2-.6-.1-1.1.3-1.2.9 0 0-1.2 5.7-1.3 6.7-.1.9.4 1.7.5 1.9l4.6 5.9c.4.5 1.3.6 1.9.1l3.5-2.7.6-.5 5.2-1.9c.4-.4.6-.7.5-1.2z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 707 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11.4 26.8H52v28.7H11.4zm13 28.6V41.2m15.7-.2V26.8m5.3 14.1H52m-40.6-1.5H18\",\"fill\":\"none\",\"stroke\":\"#878787\",\"stroke-miterlimit\":\"10\",\"stroke-width\":\"3.252\"}}),_c('path',{attrs:{\"d\":\"M43.3 13.6c0-6.8-5.5-12.3-12.3-12.3-6.8 0-12.3 5.4-12.3 12.2 0 1.4.3 3 .7 4L31 50.4l10.7-30.6c1-1.9 1.6-4 1.6-6.2z\",\"fill\":\"#39b54a\"}}),_c('path',{attrs:{\"d\":\"M36.4 9.6h-3.1V6.5c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2v-3.1h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c0-.7-.5-1.2-1.2-1.2z\",\"fill\":\"#58595b\"}})])}}};\n\n/***/ }),\n/* 708 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M52.9 52.6H9V20.7h43.9v31.9zm-40.7-3.2h37.4V24H12.2v25.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M22 36.8h3.3V51H22zm15.7-14.4H41v14.2h-3.3zm6.9 12.5h6.6v3.3h-6.6zm-34-1.5h6.6v3.3h-6.6z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"30.2\",\"cy\":\"20.6\",\"fill\":\"#39b54a\",\"r\":\"12.9\"}}),_c('path',{attrs:{\"d\":\"M34.9 18.1h-3.1V15c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2V22h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c.1-.6-.5-1.2-1.2-1.2z\",\"fill\":\"#58595b\"}})])}}};\n\n/***/ }),\n/* 709 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M52.9 54.3H9V22.4h43.9v31.9zm-40.7-3.2h37.4V25.7H12.2v25.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M22 38.5h3.3v14.2H22zM37.7 24H41v14.2h-3.3zM10.6 35.1h6.6v3.3h-6.6z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"31.8\",\"cy\":\"19.5\",\"fill\":\"#fff\",\"r\":\"13.5\"}}),_c('path',{attrs:{\"d\":\"M24.1 19.3l6.8 8.2 6.9-8.2h-4.3v-7.2h-5.2v7.2z\"}})])}}};\n\n/***/ }),\n/* 710 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.2 13.2L14.8 4.6V10H7.1c-1.4 0-2.5 1.3-2.5 2.9v.5c0 1.6 1.1 2.9 2.5 2.9h7.7v5.3l10.4-8.4z\",\"fill\":\"#39b54a\"}})])}}};\n\n/***/ }),\n/* 711 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"14.9\",\"cy\":\"8.4\",\"fill\":\"#fff\",\"r\":\"6.6\"}}),_c('path',{attrs:{\"d\":\"M11.6 8.7l3.3-4 3.4 4h-2.1v3.6h-2.5V8.7z\"}})])}}};\n\n/***/ }),\n/* 712 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z\",\"fill\":\"#aaa\"}})])}}};\n\n/***/ }),\n/* 713 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M14.3 15.2c.8.4 1.6.6 2.6.4-.1.1-.1.2-.2.2L14 18.5c-1.2 1.2-2.7 1.8-4.4 1.3-3.1-.9-3.9-4.6-1.7-7 .9-1 1.9-1.9 2.8-2.8.4-.4.8-.8 1.2-1.1 1.6-1.2 3.9-1.2 5.3 0 .6.5.7 1.2.3 1.7-.4.5-1.1.5-1.7 0-.9-.7-2-.6-2.9.3-1.2 1.1-2.3 2.3-3.4 3.4-.2.2-.3.3-.4.5-.3.5-.4 1-.3 1.5.2 1.1 1.4 1.7 2.4 1.3.4-.2.8-.4 1.2-.7.7-.5 1.2-1.1 1.9-1.7-.1 0 0 0 0 0z\",\"fill\":\"#aaa\"}}),_c('path',{attrs:{\"d\":\"M16.7 7.2c-1-.2-1.8-.3-2.6-.5l.2-.2 2.8-2.8c1.7-1.6 4.1-1.7 5.7-.3 1.8 1.5 1.9 4.2.3 6-1.2 1.4-2.6 2.6-3.9 3.9-1.6 1.5-4 1.5-5.6.2-.2-.2-.4-.5-.5-.8-.1-.5.1-.9.5-1.1.4-.2.8-.2 1.2.1 1.3.9 2.2.8 3.3-.3l3.2-3.2c.4-.5.7-1.1.7-1.8-.1-1.4-1.6-2.2-2.9-1.5-.3.2-.5.4-.8.6-.5.6-1.1 1.2-1.6 1.7z\",\"fill\":\"#aaa\"}})])}}};\n\n/***/ }),\n/* 714 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z\",\"fill\":\"#aaa\"}})])}}};\n\n/***/ }),\n/* 715 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M4 3v16h22V3H4zm8 14v-6h-2v6H6v-6h2V9H6V5h12v6h2V5h4v5h-2v2h2v5H12z\",\"fill\":\"#b2b2b2\"}})])}}};\n\n/***/ }),\n/* 716 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13.1 18.4H1.5l9.7-14.8h11.6z\",\"fill\":\"#aaa\"}}),_c('path',{attrs:{\"d\":\"M18.8 18.4H7.2l9.7-14.8h11.6z\",\"fill\":\"#aaa\"}})])}}};\n\n/***/ }),\n/* 717 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 21.5c-3.5 0-6.3-3.1-6.3-7.1 0-4 5.6-10.7 5.9-11L18 3l.4.5c.2.3 5.9 7 5.9 11 0 3.9-2.8 7-6.3 7zm0-16.9c-1.3 1.6-5.3 6.8-5.3 9.9 0 3.5 2.3 6.1 5.3 6.1s5.3-2.6 5.3-6.1c0-3.1-4-8.3-5.3-9.9z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 718 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18.6 6.9l-4 4.9-7.9-9.3-3.5 2.7 8.6 10.1-5.3 6.5h23.8l3.2-6.6-14.9-8.3zm11 14h-21l3.9-4.7.6.8 6 3.6-2.4-6.3-1.3-1.5L19 8.4l13.3 7.5-2.7 5z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 719 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M16.3 7.9l-4.7-5.4L8 5.1l2.4 2.8H8v13h21v-13H16.3zM9 8.9h2.3l6.6 7.7 5.6 3.3H9v-11zm19 11h-4.2l-2.3-6-4.3-5H28v11z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 720 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"data-name\":\"Layer 1\",\"viewBox\":\"0 0 512 512\"}},[_c('g',{attrs:{\"transform\":\"matrix(.8 0 0 .8 1.6 0)\"}},[_c('title',[_v(\"eraser\")]),_c('path',{attrs:{\"d\":\"M509.42 69.18a12.3 12.3 0 0 0-9.77-4.81H254.73a12.18 12.18 0 0 0-6.16 1.72l-.42-.37L41.63 284l-2.19 2.46.26.31a10.6 10.6 0 0 0-1 2.51L.41 432.16a12.31 12.31 0 0 0 11.91 15.46h245c3.92 0 7.42-1.67 11-5.28l201.45-213.4a20.06 20.06 0 0 0 3.55-6.22l36.93-137.87 1.36-5a12.37 12.37 0 0 0-2.19-10.67zM279.55 304.74l-31.71 118.33H28.31L60 304.74h219.55zM473.06 88.93L292.19 280.14h-213L260 88.93h213z\"}})])])}}};\n\n/***/ }),\n/* 721 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 2.7l2.2 3.1h-4.4zM7.3 12l3.2-2.2v4.4zM18 21.9l-2.2-3.2h4.4zM28.7 12l-3.2 2.2V9.8z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M9.5 11.5h17.1v1H9.5z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M17.5 3.7h1v17.1h-1z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 722 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M4.7 13.2L15 21.7v-5.3h7.7c1.4 0 2.5-1.3 2.5-2.9V13c0-1.6-1.1-2.9-2.5-2.9H15V4.6L4.7 13.2z\",\"fill\":\"#bf0049\"}})])}}};\n\n/***/ }),\n/* 723 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20.3 2.4c-4 0-7.2 3.2-7.2 7.1 0 1.6.5 3.1 1.5 4.3l-6.1 6s-.1 2 1.8 1.8c.2-.2 6.2-6.1 6.2-6.1 1.1.7 2.5 1.1 3.9 1.1 4 0 7.2-3.2 7.2-7.1 0-3.9-3.3-7.1-7.3-7.1zm0 13.2c-3.4 0-6.2-2.7-6.2-6s2.8-6 6.2-6c3.4 0 6.2 2.7 6.2 6 0 3.2-2.8 6-6.2 6z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M17.1 8.4h1.8V6.7c0-.4.3-.7.7-.7h.9c.4 0 .7.3.7.7v1.8H23c.4 0 .7.3.7.7v.8c0 .4-.3.7-.7.7h-1.8v1.8c0 .4-.3.7-.7.7h-.9c-.4 0-.7-.3-.7-.7v-1.8h-1.8c-.4 0-.7-.3-.7-.7v-.8c0-.4.4-.8.7-.8z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 724 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21.4 13.8c.9-1.2 1.4-2.6 1.4-4.2 0-3.9-3.2-7-7.1-7-3.9 0-7.1 3.1-7.1 7s3.2 7 7.1 7c1.4 0 2.7-.4 3.9-1.1 0 0 5.9 5.7 6.1 6 1.9.2 1.8-1.8 1.8-1.8l-6.1-5.9zM9.7 9.6c0-3.3 2.7-5.9 6.1-5.9 3.3 0 6.1 2.7 6.1 5.9 0 3.3-2.7 5.9-6.1 5.9-3.4 0-6.1-2.7-6.1-5.9z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M18.9 8.5h-6.4c-.4 0-.8.4-.8.8v1c0 .4.4.8.8.8h6.4c.4 0 .8-.4.8-.8v-1c0-.4-.3-.8-.8-.8z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 725 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 256 256\"}},[_c('path',{attrs:{\"d\":\"M201.896 183.169l-53.23-53.23a71.682 71.682 0 0 1-18.728 18.727l53.23 53.23a9 9 0 0 0 12.729 0l6-6a9 9 0 0 0 0-12.727z\"}}),_c('path',{attrs:{\"d\":\"M153.668 89.768c0-35.234-28.666-63.9-63.901-63.9-35.234 0-63.9 28.666-63.9 63.9 0 35.234 28.666 63.9 63.9 63.9 35.236 0 63.9-28.666 63.9-63.9zm-63.9 48.6c-26.84 0-48.6-21.76-48.6-48.6s21.76-48.6 48.6-48.6c26.841 0 48.6 21.76 48.6 48.6s-21.759 48.6-48.6 48.6z\"}}),_c('path',{attrs:{\"d\":\"M63 117h54V63H63v54zm10.8-43.2h32.4v32.4H73.8V73.8z\"}})])}}};\n\n/***/ }),\n/* 726 */,\n/* 727 */,\n/* 728 */,\n/* 729 */,\n/* 730 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {XMLHttpRequest:XMLHttpRequest};\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.9ab3d288efa6b9b8c444.js","// Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport 'babel-polyfill';\nimport Vue from 'vue';\nimport store from './store/index';\n\nimport timetravel from './store/timetravel';\nimport App from './App.vue';\nimport PrettySelect from './components/PrettySelect.vue';\nimport GenericInput from './components/GenericInput.vue';\n\nVue.component('pretty-select', PrettySelect);\nVue.component('generic-input', GenericInput);\n\nwindow.eventBus = new Vue();\n\n// mount the root vue instance\nwindow.application = new Vue({\n  store,\n  el: '#app',\n  template: '<App/>',\n  components: { App },\n});\n\ntimetravel.init(store);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import _ from 'lodash';\nimport * as turf from '@turf/helpers';\nimport area from 'area-polygon'\nimport { union, difference, intersection } from 'polygon-clipping';\nimport booleanPointInPolygon from '@turf/boolean-point-in-polygon';\nimport { dropConsecutiveDups } from '../../../utilities';\nimport idFactory from './../../utilities/generateId';\n\nfunction toTurfPoly(vertices) {\n  const coords = vertices.map(v => [v.x, v.y]);\n  if (\n    coords[0][0] !== coords[coords.length - 1][0] ||\n    coords[0][1] !== coords[coords.length - 1][1]\n  ) {\n      coords.push(coords[0]);\n  }\n  return turf.polygon([coords]);\n}\n\nfunction ringEqualsWithSameWindingOrder(vs, ws) {\n  const pivotVert = vs[0];\n  const pivotIx = _.findIndex(ws, _.pick(pivotVert, ['x', 'y']));\n\n  if (pivotIx === -1) return false;\n  const wsp = _.map([...ws.slice(pivotIx), ...ws.slice(0, pivotIx)], w => _.pick(w, ['x', 'y']));\n  return _.isEqualWith(vs, wsp, (v, w) => _.isMatch(v, w));\n}\n\nfunction dropClosingVertex(vs) {\n  // a ring is \"self-closing\" if it's final vertex is the same as it's initial one.\n  // This is the way most of our geometry is stored, but for this algorithm it's easier to\n  // work with non-self-closing rings.\n  if (vs.length <= 3) return vs; // a polygon must have at least 3 pts, not including a closing vert.\n  if (_.isEqual(vs[0], vs[vs.length - 1])) return vs.slice(0, -1);\n  return vs;\n}\n\nexport function ringEquals(vs_, ws_) {\n  if (vs_.length !== ws_.length) return false;\n  if (vs_.length === 0) return true;\n\n  const vs = dropClosingVertex(vs_);\n  const ws = dropClosingVertex(ws_);\n  return (\n    ringEqualsWithSameWindingOrder(vs, ws) ||\n    ringEqualsWithSameWindingOrder(vs, [...ws].reverse())\n  );\n}\n\n\nexport function distanceBetweenPoints(p1, p2) {\n  const\n    dx = p1.x - p2.x,\n    dy = p1.y - p2.y;\n  return Math.sqrt((dx * dx) + (dy * dy));\n}\n\nexport function fitToAspectRatio(xExtent, yExtent, widthOverHeight, adjustToFit = 'expand') {\n  const\n    xSpan = xExtent[1] - xExtent[0],\n    ySpan = yExtent[1] - yExtent[0],\n    xAccordingToY = ySpan * widthOverHeight,\n    yAccordingToX = xSpan / widthOverHeight,\n    xDiff = xAccordingToY - xSpan,\n    yDiff = yAccordingToX - ySpan;\n\n  // xDiff and yDiff are either both zero (already have correct aspect ratio),\n  // or they have opposite signs.\n\n  if ((xDiff > 0) === (adjustToFit === 'expand')) {\n    // xDiff > 0 and adjustToFit === 'expand ==> this expands region\n    // xDiff <= 0 and adjustToFit !== 'expand' ==> this contracts region\n    return {\n      xExtent: [xExtent[0] - xDiff / 2, xExtent[1] + xDiff / 2],\n      yExtent,\n    };\n  }\n  return {\n    xExtent,\n    yExtent: [yExtent[0] - yDiff / 2, yExtent[1] + yDiff / 2],\n  };\n}\n\nexport function edgeDirection({ start, end }) {\n  // return the angle from east, in radians.\n  const\n    deltaX = end.x - start.x,\n    deltaY = end.y - start.y;\n  return deltaX === 0 ? 0.5 * Math.PI : Math.atan(deltaY / deltaX);\n}\n\nexport function haveSimilarAngles(edge1, edge2) {\n  const\n    angleDiff = edgeDirection(edge1) - edgeDirection(edge2),\n    correctedDiff = Math.min(\n      Math.abs(angleDiff),\n      Math.PI - angleDiff, // To catch angles that are very similar, but opposite directions\n    );\n  return correctedDiff < 0.05 * Math.PI;\n}\nfunction normalize({ dx, dy }) {\n  if (dx === 0 && dy === 0) {\n    return { dx: 0, dy: 0 };\n  }\n  const normalization = Math.sqrt((dx * dx) + (dy * dy));\n  return {\n    dx: dx / normalization,\n    dy: dy / normalization,\n  };\n}\nexport function unitPerpVector(p1, p2) {\n  let dx, dy;\n  if (p1.x !== p2.x) {\n    dy = 1;\n    dx = ((p1.y - p2.y)) / (p1.x - p2.x);\n  } else if (p1.y !== p2.y) {\n    dx = 1;\n    dy = ((p1.x - p2.x)) / (p1.y - p2.y);\n  } else {\n    dx = dy = 1;\n  }\n  return normalize({ dx, dy });\n}\n\nexport function unitVector(p1, p2) {\n  const\n    dx = p2.x - p1.x,\n    dy = p2.y - p1.y;\n  return normalize({ dx, dy });\n}\n\n\n/*\n * given a point and a line (object with two points p1 and p2)\n * return the coordinates of the projection of the point onto the line\n */\nexport function projectionOfPointToLine(point, line) {\n  const { p1: { x: x1, y: y1 }, p2: { x: x2, y: y2 } } = line;\n  const\n    A = point.x - x1,\n    B = point.y - y1,\n    C = x2 - x1,\n    D = y2 - y1,\n    dot = (A * C) + (B * D),\n    lenSq = (C * C) + (D * D) || 2,\n    param = dot / lenSq;\n\n  // projection is an endpoint\n  if (param <= 0) {\n    return line.p1;\n  } else if (param > 1) {\n    return line.p2;\n  }\n\n  return {\n    x: x1 + (param * C),\n    y: y1 + (param * D),\n  };\n}\n\nexport function pointDistanceToSegment(pt, { start, end }) {\n  const proj = projectionOfPointToLine(pt, { p1: start, p2: end });\n  return {\n    dist: distanceBetweenPoints(pt, proj),\n    proj,\n  };\n}\n\nexport function ptsAreCollinear(p1, p2, p3) {\n  const\n    [a, b] = [p1.x, p1.y],\n    [m, n] = [p2.x, p2.y],\n    { x, y } = p3;\n  return Math.abs(((n - b) * (x - m)) - ((y - n) * (m - a))) < 0.00001;\n}\n\nexport function repeatingWindowCenters({ start, end, spacing, width }) {\n  const\n    maxDist = distanceBetweenPoints(start, end),\n    centers = [],\n    direction = unitVector(start, end);\n\n  let nextCenterDist = width / 2;\n  while (nextCenterDist + width / 2 < maxDist) {\n    // we have room to place another window\n    const\n      offX = direction.dx * nextCenterDist,\n      offY = direction.dy * nextCenterDist;\n    centers.push({ x: start.x + offX, y: start.y + offY, distFromStart: nextCenterDist });\n    nextCenterDist += width + (spacing || 1);\n  }\n  if (centers.length === 0) return [];\n  const\n    margin = (\n      (distanceBetweenPoints(centers[centers.length - 1], end) - width / 2)\n      / 2),\n    totalDist = distanceBetweenPoints(start, end),\n    offX = direction.dx * margin,\n    offY = direction.dy * margin;\n\n  // center the group by adjusting each center by margin\n  return centers.map(c => ({\n    x: c.x + offX,\n    y: c.y + offY,\n    alpha: (c.distFromStart + margin) / totalDist,\n  }));\n}\n\nexport function cleanInvalidPoly(vertices) {\n  for (let ix = 1; ix < vertices.length - 1; ix ++) {\n    const\n      a = vertices[ix - 1],\n      b = vertices[ix],\n      c = vertices[ix + 1];\n    if (!ptsAreCollinear(a, b, c)) continue;\n    // if the points *are* collinear, is a between b and c?\n    const positionAlongEdge = _.reject(\n      [\n        (a.x - b.x) / (c.x - b.x),\n        (a.y - b.y) / (c.y - b.y),\n      ],\n      isNaN)[0];\n    // positionAlongEdge = 0 implies v == v1\n    // positionAlongEdge = 1 implies v == v2\n    // positionAlongEdge > 1 or < 0 implies not on the line segment\n    if (positionAlongEdge > 1 || positionAlongEdge < 0) continue;\n    // Uh oh! we have a redundant vertex.\n    // going from a -> b -> c produces a zero-area region. Here's a picture:\n    //              b----------a--------c\n    // faster to just go a -> c.\n    return cleanInvalidPoly([\n      ...vertices.slice(0, ix),\n      ...vertices.slice(ix + 1),\n    ]);\n  }\n  // got to end of loop without returning, so no edits necessary\n  return vertices;\n}\n\nconst helpers = {\n  /*\n  * given two sets of points defining two faces\n  * perform the specified operation (intersection, difference, union), return the resulting set of points\n  * error if the result contains multiple faces (a face was divided in two during the operation), or holes\n  */\n  setOperation(type, f1Points, f2Points) {\n    const\n      f1Poly = toTurfPoly(f1Points).geometry.coordinates,\n      f2Poly = toTurfPoly(f2Points).geometry.coordinates;\n    const operation =\n      type === 'union' ? union :\n      type === 'intersection' ? intersection :\n      type === 'difference' ? difference :\n      null;\n    if (operation === null) {\n      throw new Error(`invalid operation \"${type}\". expected union, intersection, or difference`);\n    }\n    const result = operation(f1Poly, f2Poly);\n    if (result === null || result.length === 0) {\n      return [];\n    }\n    if (result.length > 1) return { error: 'no split faces' };\n    if (result[0].length > 1) return { error: 'no holes' };\n    return dropClosingVertex(result[0][0].map(([x, y]) => ({ x, y })));\n  },\n  // convenience functions for setOperation\n  intersection(f1, f2) {\n    return this.setOperation('intersection', f1, f2);\n  },\n  union(f1, f2) {\n    return this.setOperation('union', f1, f2);\n  },\n  difference(f1, f2) {\n    return this.setOperation('difference', f1, f2);\n  },\n\n  // given an array of points return the area of the space they enclose\n  areaOfSelection(points) {\n    if (points.length < 3) return 0;\n\t\treturn area(points);\n\t},\n\n    // ************************************ PROJECTIONS ************************************ //\n    /*\n     * return the set of saved vertices directly on an edge, not including edge endpoints\n     */\n  splittingVerticesForEdgeId(edge, geometry, spacing, vertices) {\n    // Use a memoized cache of all the vertices to quickly find the necessary vertices\n    // If the vertex can't be found in the map, fall back to searching the entire array with find\n    const vertexMap = createEdgeMap(geometry, true)[2];\n    if (!vertices) {\n      vertices = geometry.vertices;\n    }\n\n    let v1 = vertexMap[edge.v1];\n    if (!v1) {\n      v1 = geometry.vertices.find(v => v.id === edge.v1);\n    }\n\n    let v2 = vertexMap[edge.v2];\n    if (!v2) {\n      v2 = geometry.vertices.find(v => v.id === edge.v2);\n    }\n    const denormalizedEdge = {\n      ...edge,\n      v1,\n      v2,\n    };\n\n    if (!denormalizedEdge.v1 || !denormalizedEdge.v2) {\n      return [];\n    }\n\n    return vertices.filter((vertex) => {\n\n      const\n        vertexIsEndpointById = denormalizedEdge.v1.id === vertex.id || denormalizedEdge.v2.id === vertex.id,\n        vertexIsLeftEndpointByValue = denormalizedEdge.v1.x === vertex.x && denormalizedEdge.v1.y === vertex.y,\n        vertexIsRightEndpointByValue = denormalizedEdge.v2.x === vertex.x && denormalizedEdge.v2.y === vertex.y,\n        vertexIsEndpoint = vertexIsEndpointById || vertexIsLeftEndpointByValue || vertexIsRightEndpointByValue;\n\n      if (vertexIsEndpoint) {\n        return false;\n      }\n      // vertex is not an endpoint, consider for splitting\n      const projection = this.projectionOfPointToLine(vertex, {\n        p1: denormalizedEdge.v1,\n        p2: denormalizedEdge.v2,\n      });\n      const distBetween = this.distanceBetweenPoints(vertex, projection);\n      const shouldSplit = distBetween <= spacing / 20;\n      return shouldSplit;\n    });\n  },\n\n  projectionOfPointToLine,\n\n    /*\n     * given two points return the distance between them\n     */\n  distanceBetweenPoints,\n\n\tintersectionOfLines(p1, p2, p3, p4) {\n\t    var eps = 0.0000001;\n\n\t    const between = (a, b, c) => {\n\t\t\treturn ((a - eps) <= b) && (b <= (c + eps));\n\t\t}\n\n        var x = ((p1.x * p2.y - p1.y * p2.x) * (p3.x - p4.x) - (p1.x - p2.x) * (p3.x * p4.y - p3.y * p4.x)) /\n            ((p1.x - p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x - p4.x));\n        var y = ((p1.x * p2.y - p1.y * p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x * p4.y - p3.y * p4.x)) /\n            ((p1.x - p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x - p4.x));\n\n        if (isNaN(x) || isNaN(y) ||\n\t\t\tthis.distanceBetweenPoints({ x, y }, p1) < eps ||\n\t\t\tthis.distanceBetweenPoints({ x, y }, p2) < eps ||\n\t\t\tthis.distanceBetweenPoints({ x, y }, p3) < eps ||\n\t\t\tthis.distanceBetweenPoints({ x, y }, p4) < eps) {\n            return false;\n        } else {\n            if (p1.x >= p2.x) {\n                if (!between(p2.x, x, p1.x)) {\n                    return false;\n                }\n            } else {\n                if (!between(p1.x, x, p2.x)) {\n                    return false;\n                }\n            }\n            if (p1.y >= p2.y) {\n                if (!between(p2.y, y, p1.y)) {\n                    return false;\n                }\n            } else {\n                if (!between(p1.y, y, p2.y)) {\n                    return false;\n                }\n            }\n            if (p3.x >= p4.x) {\n                if (!between(p4.x, x, p3.x)) {\n                    return false;\n                }\n            } else {\n                if (!between(p3.x, x, p4.x)) {\n                    return false;\n                }\n            }\n            if (p3.y >= p4.y) {\n                if (!between(p4.y, y, p3.y)) {\n                    return false;\n                }\n            } else {\n                if (!between(p3.y, y, p4.y)) {\n                    return false;\n                }\n            }\n        }\n        return {\n            x: x,\n            y: y\n        };\n\n\t},\n\n\n    // ************************************ GEOMETRY LOOKUP ************************************ //\n\n    // given a vertex id, find the vertex on the geometry set with that id\n    vertexForId(vertex_id, geometry) {\n        return geometry.vertices.find(v => v.id === vertex_id);\n    },\n\n    // given a set of coordinates, find the vertex on the geometry set within their tolerance zone\n  vertexForCoordinates(coordinates, geometry) {\n    return geometry.vertices.find(v => this.distanceBetweenPoints(v, coordinates) < 0.00001)\n  },\n\n    // given a face id, returns the populated vertex objects reference by edges on that face\n    verticesForFaceId(face_id, geometry) {\n        return geometry.faces.find(f => f.id === face_id)\n            .edgeRefs.map((edgeRef) => {\n                const edge = this.edgeForId(edgeRef.edge_id, geometry),\n                    // look up the vertex associated with v1 unless the edge reference on the face is reversed\n                    vertexId = edgeRef.reverse ? edge.v2 : edge.v1;\n                return this.vertexForId(vertexId, geometry);\n            });\n    },\n\n\n    // given an edge id, find the edge on the geometry set with that id\n    edgeForId(edge_id, geometry) {\n        return geometry.edges.find(e => e.id === edge_id);\n    },\n\n    // given a vertex id returns edges referencing that vertex\n    edgesForVertexId(vertex_id, geometry) {\n        return geometry.edges.filter(e => (e.v1 === vertex_id) || (e.v2 === vertex_id));\n    },\n\n    // given a face id, return the populated edge objects referenced by that face\n    edgesForFaceId(face_id, geometry) {\n        return geometry.faces.find(f => f.id === face_id)\n            .edgeRefs.map(eR => this.edgeForId(eR.edge_id, geometry));\n    },\n\n\n    // given a face id, find the face on the geometry set with that id\n    faceForId(face_id, geometry) {\n        return geometry.faces.find(f => f.id === face_id);\n    },\n\n    // given a vertex id returns all faces with an edge referencing that vertex\n    facesForVertexId(vertex_id, geometry) {\n        return geometry.faces.filter((face) => {\n            return face.edgeRefs.find((edgeRef) => {\n                const edge = this.edgeForId(edgeRef.edge_id, geometry);\n                return (edge.v1 === vertex_id || edge.v2 === vertex_id);\n            });\n        });\n    },\n\n    // given an edge id returns all faces referencing that edge\n    facesForEdgeId(edge_id, geometry) {\n        return geometry.faces.filter(face => face.edgeRefs.find(eR => eR.edge_id === edge_id));\n    },\n\n    pointInFace(point, faceVertices) {\n      const facePoly = toTurfPoly(faceVertices);\n      const testPoint = turf.point([point.x, point.y]);\n      return booleanPointInPolygon(testPoint, facePoly);\n    },\n\n  ptsAreCollinear,\n  syntheticRectangleSnaps(points, rectStart, cursorPt) {\n    // create synthetic snapping points by considering\n    // points that are near to the corners we're not drawing.\n    // Consider the diagram below. We're drawing a rectangle from the top-left\n    // corner  to the bottom-right corner . The top-right, and bottom-left\n    // _could_ snap to nearby points @, but they're not where the cursor is.\n    // so we'll make synthetic points * and snap to those, even though they're\n    // not really part of the geometry.\n    /*\n\n       -------------------------------------   @\n       |                                     |    \\\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |    /\n        -------------------------------------  *\n\n\n       @                                     *\n        \\                                   /\n         -----------------------------------\n    */\n\n    // We will reflect each point across both the horizontal and vertical\n    // midlines of the rectangle.\n    const xMid = (rectStart.x + cursorPt.x) / 2;\n    const yMid = (rectStart.y + cursorPt.y) / 2;\n\n    return [\n      ...points.map(({ x, y }) => (\n        { y, x: x + (2 * (xMid - x)), synthetic: true, originalPt: { x, y } })),\n      ...points.map(({ x, y }) => (\n        { x, y: y + (2 * (yMid - y)), synthetic: true, originalPt: { x, y } })),\n    ];\n  },\n  edgeDirection,\n  haveSimilarAngles,\n  pointDistanceToSegment,\n\n  exceptFace(geometry, face_id) {\n    if (!face_id) { return geometry; }\n    return {\n      ...geometry,\n      faces: _.reject(geometry.faces, { id: face_id }),\n    };\n  },\n\n  denormalize(geometry) {\n    const [edges, edgeMap] = createEdgeMap(geometry);\n    const\n      faces = geometry.faces.map(face => ({\n        id: face.id,\n        edges: face.edgeRefs.map(({ edge_id, reverse }) => ({\n          ...edgeMap[edge_id],\n          edge_id,\n          reverse,\n        })),\n        get vertices() {\n          return dropConsecutiveDups(\n            _.flatMap(this.edges, e => {\n              return e.reverse ? [e.v2, e.v1] : [e.v1, e.v2];\n            }),\n            v => v.id);\n        },\n      }));\n    return {\n      ...geometry,\n      edges,\n      faces,\n    };\n  },\n\n  // probably best to use this only for testing\n  normalize(geometry) {\n    const\n      edges = _.uniqBy(\n        [\n          ...geometry.edges,\n          ..._.flatMap(geometry.faces, f => f.edges),\n        ], 'id'),\n      vertices = _.uniqBy(\n        [\n          ...geometry.vertices,\n          ..._.flatMap(edges, e => [e.v1, e.v2]),\n        ], 'id');\n    return {\n      id: geometry.id,\n      vertices: vertices.map(v => _.pick(v, ['id', 'x', 'y'])),\n      edges: edges.map(e => ({\n        id: e.id,\n        v1: e.v1.id,\n        v2: e.v2.id,\n      })),\n      faces: geometry.faces.map(f => ({\n        id: f.id,\n        edgeRefs: f.edges.map(er => ({ edge_id: er.id, reverse: er.reverse })),\n      })),\n    };\n  },\n};\n\nlet lastEdges = null;\nlet lastVertices = null;\nlet lastMap = null;\nlet lastArr = null;\nlet lastVertexMap = null;\n\n/**\n * Creates a map of all edges and vertices from the geometry\n * Will attempt to memoize the results if the flag is passed in\n *\n * @param {*} geometry Geometry to create the map from\n * @param {*} memoize Flag to use a memoized version or not\n * @returns \n */\nfunction createEdgeMap(geometry, memoize) {\n  if (!memoize || lastEdges !== geometry.edges || lastVertices !== geometry.vertices) {\n    const vertexMap = geometry.vertices.reduce((acc, cur) => {\n      acc[cur.id] = cur;\n      return acc;\n    }, {});\n\n    lastMap = {};\n    lastArr = geometry.edges.map((edge) => {\n      const newObj = {\n        ...edge,\n        v1: vertexMap[edge.v1],\n        v2: vertexMap[edge.v2],\n      };\n      lastMap[edge.id] = newObj;\n      return newObj;\n    });\n\n    if (memoize) {\n      lastEdges = geometry.edges;\n      lastVertices = geometry.vertices;\n      lastVertexMap = vertexMap;\n    }\n  }\n\n  return [lastArr, lastMap, lastVertexMap];\n}\n\nfunction isPointCoord(coord) {\n  return coord.length === 2 && _.isNumber(coord[0]) && _.isNumber(coord[1]);\n}\n\nfunction isRingCoords(coords) {\n  return coords.length >= 1 && _.every(coords, isPointCoord);\n}\n\nfunction isPolygonCoords(coords) {\n  return coords.length >= 1 && _.every(coords, isRingCoords);\n}\n\n// Many of the below geometry functions are copyright 2017 TurfJS, MIT License.\n\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\n// modified from: https://github.com/Turfjs/turf/blob/master/packages/turf-inside/index.js\n// which was modified from https://github.com/substack/point-in-polygon/blob/master/index.js\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\nhelpers.inside = function (pt, poly, ignoreBoundary = false) {\n  // validation\n  if (!isPointCoord(pt)) throw new Error(`point does not have correct coords: ${pt}`);\n  if (!isPolygonCoords(poly)) throw new Error(`polygon does not have correct coords: ${poly}`);\n\n  const bbox = helpers.bboxOfRing(poly[0]);\n\n  // Quick elimination if point is not inside bbox\n  if (bbox && helpers.inBBox(pt, bbox) === false) return false;\n\n  let insidePoly = false;\n  for (let i = 0; i < poly.length && !insidePoly; i++) {\n    // check if it is in the outer ring first\n    if (helpers.inRing(pt, poly[0], ignoreBoundary)) {\n      let inHole = false;\n      let k = 1;\n      // check for the point in any of the holes\n      while (k < poly.length && !inHole) {\n        if (helpers.inRing(pt, poly[k], !ignoreBoundary)) {\n          inHole = true;\n        }\n        k++;\n      }\n      if (!inHole) insidePoly = true;\n    }\n  }\n  return insidePoly;\n};\n\nhelpers.bboxOfRing = function (ring) {\n  // a bbox is [west, south, east, north]\n  return [\n    _.min(_.map(ring, 0)),\n    _.min(_.map(ring, 1)),\n    _.max(_.map(ring, 0)),\n    _.max(_.map(ring, 1)),\n  ];\n};\n\n/**\n * inRing\n *\n * @private\n * @param {[number, number]} pt [x,y]\n * @param {Array<[number, number]>} ring [[x,y], [x,y],..]\n * @param {boolean} ignoreBoundary ignoreBoundary\n * @returns {boolean} inRing\n */\nhelpers.inRing = function (pt, ring, ignoreBoundary) {\n  let isInside = false;\n  if (ring[0][0] === ring[ring.length - 1][0] && ring[0][1] === ring[ring.length - 1][1]) ring = ring.slice(0, ring.length - 1);\n\n  for (let i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n    const xi = ring[i][0], yi = ring[i][1];\n    const xj = ring[j][0], yj = ring[j][1];\n    const onBoundary = (pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0) &&\n      ((xi - pt[0]) * (xj - pt[0]) <= 0) && ((yi - pt[1]) * (yj - pt[1]) <= 0);\n    if (onBoundary) return !ignoreBoundary;\n    const intersect = ((yi > pt[1]) !== (yj > pt[1])) &&\n      (pt[0] < (xj - xi) * (pt[1] - yi) / (yj - yi) + xi);\n    if (intersect) isInside = !isInside;\n  }\n  return isInside;\n};\n\nexport function vertInRing(vert, ring) {\n  const toLst = ({ x, y }) => [x, y];\n  return helpers.inRing(toLst(vert), ring.map(toLst));\n}\n\n/**\n * Given a story we're duplicating this method deep clones the object\n * Generates new ids for the vertices, edges and faces\n * Assigns those ids to the clonedGeometry as well an idMap\n * Returns the clonedGeometry and idMap\n *\n * @param {'Story'} newStory\n */\nexport function replaceIdsForCloning(newStory) {\n  const clonedGeometry = _.cloneDeep(newStory);\n  const idMap = {};\n  const origVertexIDs = Object.values(newStory.vertices).map(vertex => vertex.id);\n  origVertexIDs.forEach((origID) => {\n    const vertex = clonedGeometry.vertices.find(clonedVertex => clonedVertex.id === origID);\n    const newID = idFactory.generate();\n    idMap[origID] = newID;\n    vertex.id = newID;\n    const index = clonedGeometry.vertices.findIndex(vertexByIndex => vertexByIndex.id === newID);\n    clonedGeometry.vertices[index] = vertex;\n  });\n  clonedGeometry.edges.forEach((edge) => {\n    const newID = idFactory.generate();\n    idMap[edge.id] = newID;\n    edge.id = newID;\n    edge.v1 = idMap[edge.v1];\n    edge.v2 = idMap[edge.v2];\n  });\n  clonedGeometry.faces.forEach((face) => {\n    face.edgeRefs.forEach((edge) => {\n      edge.edge_id = idMap[edge.edge_id];\n    });\n    const newID = idFactory.generate();\n    idMap[face.id] = newID;\n    face.id = newID;\n  });\n\n  return { clonedGeometry, idMap };\n}\n\nexport default helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/helpers.js","\nexport const assignableProperties = ['building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs', 'building_types'];\nexport const componentTypes = ['window_definitions', 'daylighting_control_definitions', 'door_definitions'];\nexport const libraryTypes = [...assignableProperties, ...componentTypes];\nexport const textures = [\n  'circles-2', 'circles-5', 'circles-8', 'diagonal-stripe-1',\n  'diagonal-stripe-4', 'diagonal-stripe-6', 'dots-5', 'dots-8',\n  'vertical-line', 'crosshatch',\n];\n\nconst config = {\n  // map modes to displaynames\n  modes: {\n    stories: 'Story',\n    images: 'Image',\n    spaces: 'Space',\n    shading: 'Shading',\n    building_units: 'Building Unit',\n    building_types: 'Building Type',\n    thermal_zones: 'Thermal Zone',\n    space_types: 'Space Type',\n    pitched_roofs: 'Pitched Roof',\n    construction_sets: 'Construction Set',\n    window_definitions: 'Window Definitions',\n    daylighting_control_definitions: 'Daylighting Control Definitions',\n  },\n  componentTypes,\n  assignableProperties,\n  palette: {\n    shading: '#E8E3E5',\n    neutral: '#bbc3c7',\n    // colors to associate with new models\n    colors: [\n      '#aa4499',\n      '#88ccee',\n      '#332288',\n      '#117733',\n      '#999933',\n      '#ddcc77',\n      '#cc6677',\n      '#882255',\n      '#44aa99',\n      '#6699cc',\n      '#661100',\n      '#aa4466',\n    ],\n  },\n};\n\nexport default config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/appconfig.js","import _ from 'lodash';\nimport map from './libconfig';\nimport idFactory from './../../utilities/generateId';\n\nconst helpers = {\n\n  /*\n  * each library object type has\n  * displayName - for use in the type dropdown\n  * init - method to initialize a new object of the parent type (story and space do not have init functions and will be omitted from the CreateO)\n  * keymap - contains displayName and accessor for each property on objects of parent type\n  */\n  map: map,\n\n  /*\n  * returns the displayName for a given key on an object type\n  * return null if the key is private\n  * return the unchanged keyname for custom user defined keys\n  */\n  displayNameForKey(type, key) {\n    if (this.map[type].keymap[key]) {\n      return this.map[type].keymap[key].private ? null : this.map[type].keymap[key].displayName;\n    }\n    return key;\n  },\n\n  /*\n  * returns the value for a given key on an object type\n  * if the keymap includes a get() method for the key, its return value will be used\n  */\n  valueForKey(object, state, type, key) {\n    if (this.map[type].keymap[key] && this.map[type].keymap[key].get) {\n      return this.map[type].keymap[key].get(object, state);\n    }\n    return object[key];\n  },\n\n  /*\n  * dispatches an action to set the value for a key on an object\n  * if a validator is defined for the object type + key being changed, call the validator before dispatching the action\n  * if validation fails, return { success: false, error: 'validator error message' }\n  * if validation passes or no validator exists (custom user defined keys), return { success: true }\n  */\n  setValueForKey(object, store, type, key, value) {\n    const result = { success: true };\n\n    if (this.map[type].keymap[key] && this.map[type].keymap[key].converter) {\n      value = this.map[type].keymap[key].converter(value, this.map[type].keymap[key]);\n    }\n\n    // if a validator is defined for the key, run it and store the result\n    if (this.map[type].keymap[key] && this.map[type].keymap[key].validator) {\n      const validationResult = this.map[type].keymap[key].validator(object, store, value, type);\n      result.success = validationResult.success;\n      if (!validationResult.success) {\n        result.error = validationResult.error;\n        return result;\n      }\n    }\n    // dispatch the correct action to update the specified type\n    if (type === 'stories') {\n      store.dispatch('models/updateStoryWithData', {\n        story: object,\n        [key]: value,\n      });\n    } else if (type === 'spaces') {\n      store.dispatch('models/updateSpaceWithData', {\n        space: object,\n        [key]: value,\n      });\n    } else if (type === 'shading') {\n      store.dispatch('models/updateShadingWithData', {\n        shading: object,\n        [key]: value,\n      });\n    } else if (type === 'images') {\n      store.dispatch('models/updateImageWithData', {\n        image: object,\n        [key]: value,\n      });\n    } else if (type === 'window_definitions') {\n      store.dispatch('models/updateWindowDefinitionWithData', {\n        object,\n        [key]: value,\n      });\n    } else {\n      store.dispatch('models/updateObjectWithData', {\n        object,\n        [key]: value,\n      });\n    }\n\n    return result;\n  },\n\n  inputTypeForKey(type, key) {\n    return this.map[type].keymap[key] && !this.map[type].keymap[key].readonly ? this.map[type].keymap[key].input_type : null;\n  },\n\n  selectOptionsForKey(object, state, type, key) {\n    return this.map[type].keymap[key] && !this.map[type].keymap[key].readonly && this.map[type].keymap[key].input_type === 'select' ? this.map[type].keymap[key].select_data(object, state) : [];\n  },\n\n\n  /*\n  * searches local state's library, stories, spaces, and shading for an object with a given id\n  */\n  libraryObjectWithId(state, id) {\n    var result;\n    // search the library\n    for (var type in state.library) {\n      if (state.library.hasOwnProperty(type) && !result && state.library[type].find(i => i.id === id)) {\n        result = state.library[type].find(i => i.id === id);\n        result.type = type;\n      }\n    }\n    // search stories\n    if (!result && state.stories.find(s => s.id === id)) {\n      result = state.stories.find(s => s.id === id);\n      result.type = 'story';\n    }\n    // search spaces, shading, and images\n    if (!result) {\n      for (var i = 0; i < state.stories.length; i++) {\n        const story = state.stories[i];\n        if (!result && story.spaces.find(s => s.id === id)) {\n          result = story.spaces.find(s => s.id === id);\n          result.type = 'space';\n        }\n        if (!result && story.shading.find(s => s.id === id)) {\n          result = story.shading.find(s => s.id === id);\n          result.type = 'shading';\n        }\n        if (!result && story.images.find(i => i.id === id)) {\n          result = story.images.find(i => i.id === id);\n          result.type = 'image';\n        }\n      }\n    }\n    return result;\n  },\n\n  /*\n  * searches local state's stories, shading, and spaces for an object with a given face id\n  */\n  modelForFace(state, face_id) {\n    for (var i = 0; i < state.stories.length; i++) {\n      const story = state.stories[i],\n        shading = story.shading.find(s => s.face_id === face_id),\n        space = story.spaces.find(s => s.face_id === face_id);\n      if (shading) {\n        shading.type = 'shading';\n        return shading;\n      } else if (space) {\n        space.type = 'space';\n        return space;\n      }\n    }\n  },\n\n  /*\n  * Generate new unique name\n  */\n  generateName(state, type, story) {\n    const models = this.modelsForType(state, type);\n    let prefix = `${map[type].displayName} `;\n    if (story) {\n      const level = state.stories.findIndex(s => s.id === story.id) + 1;\n      prefix = prefix.concat(`${level} - `);\n    }\n\n    let name = '';\n    let i = 1;\n    while (!name) {\n      name = prefix + i;\n      if (models.find(m => { return m.name === name; })) { name = ''; }\n      i += 1;\n    }\n    return name;\n  },\n\n  /*\n  * return all models in the library for a given type\n  * if type is shading, spaces, or images\n  */\n  modelsForType(state, type) {\n    switch (type) {\n      case 'stories':\n        return state.stories;\n      // accumulate from all stories\n      case 'shading':\n      case 'spaces':\n      case 'images':\n        return state.stories.reduce((accum, s) => accum.concat(s[type]), []);\n      // 'building_units', 'thermal_zones', 'space_types', 'construction_sets', 'window_definitions', 'daylighting_control_definitions':\n      default:\n        return state.library[type];\n    }\n  },\n\n  /**\n   * Generates a hash containing all the space types for the given building type\n   *\n   * @param {string} building_type Type of building to generate space types for\n   * @param {string} template Template that the space is following\n   * @param {boolean} wholeBuilding Whether or not the space types are generated for the whole building\n   * @returns {{[key: string]: string}}\n   */\n  spaceTypesForBuilding(building_type, template, wholeBuilding = false) {\n    const hash = {};\n\n    if (building_type == 'SecondarySchool') {\n      hash['Auditorium'] = 'Auditorium';\n      hash['Cafeteria'] = 'Cafeteria';\n      hash['Classroom'] = 'Classroom';\n      hash['Computer Room'] = 'ComputerRoom';\n      hash['Corridor'] = 'Corridor';\n      hash['Gym'] = 'Gym';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Library'] = 'Library';\n      hash['Lobby'] = 'Lobby';\n      hash['Mechanical'] = 'Mechanical';\n      hash['Office'] = 'Office';\n      hash['Restroom'] = 'Restroom';\n\n      if (['DOE Ref Pre-1980', 'DOE Ref 1980-2004', 'ComStock DOE Ref Pre-1980', 'ComStock DOE Ref 1980-2004'].indexOf(template) !== -1) {\n        hash['Corridor'] = 'Corridor';\n        hash['Gym - audience'] = 'Gym - audience';\n      }\n\n    } else if (building_type == 'PrimarySchool') {\n      hash['Cafeteria'] = 'Cafeteria';\n      hash['Classroom'] = 'Classroom';\n      hash['Computer Room'] = 'ComputerRoom';\n      hash['Corridor'] = 'Corridor';\n      hash['Gym'] = 'Gym';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Library'] = 'Library';\n      hash['Lobby'] = 'Lobby';\n      hash['Mechanical'] = 'Mechanical';\n      hash['Office'] = 'Office';\n      hash['Restroom'] = 'Restroom';\n\n      if (['DOE Ref Pre-1980', 'DOE Ref 1980-2004', 'ComStock DOE Ref Pre-1980', 'ComStock DOE Ref 1980-2004'].indexOf(template) === -1) {\n        hash['Computer Room'] = 'ComputerRoom';\n      }\n\n    } else if (building_type == 'SmallOffice') {\n      if (wholeBuilding) {\n        hash['Whole Building - Sm Office'] = 'WholeBuilding - Sm Office';\n      } else {\n        hash['Small Office - Breakroom'] = 'SmallOffice - Breakroom';\n        hash['Small Office - ClosedOffice'] = 'SmallOffice - ClosedOffice';\n        hash['Small Office - Conference'] = 'SmallOffice - Conference';\n        hash['Small Office - Corridor'] = 'SmallOffice - Corridor';\n        hash['Small Office - Elec/Mech Room'] = 'SmallOffice - Elec/MechRoom';\n        hash['Small Office - Lobby'] = 'SmallOffice - Lobby';\n        hash['Small Office - OpenOffice'] = 'SmallOffice - OpenOffice';\n        hash['Small Office - Restroom'] = 'SmallOffice - Restroom';\n        hash['Small Office - Stair'] = 'SmallOffice - Stair';\n        hash['Small Office - Storage'] = 'SmallOffice - Storage';\n        hash['Small Office - Classroom'] = 'SmallOffice - Classroom';\n        hash['Small Office - Dining'] = 'SmallOffice - Dining';\n        hash['Whole Building - Sm Office'] = 'WholeBuilding - Sm Office';\n      }\n\n    } else if (building_type == 'MediumOffice') {\n      if (wholeBuilding) {\n        hash['Whole Building - Md Office'] = 'WholeBuilding - Md Office';\n      } else {\n        hash['Medium Office - Breakroom'] = 'MediumOffice - Breakroom';\n        hash['Medium Office - ClosedOffice'] = 'MediumOffice - ClosedOffice';\n        hash['Medium Office - Conference'] = 'MediumOffice - Conference';\n        hash['Medium Office - Corridor'] = 'MediumOffice - Corridor';\n        hash['Medium Office - Elec/Mech Room'] = 'MediumOffice - Elec/MechRoom';\n        hash['Medium Office - Lobby'] = 'MediumOffice - Lobby';\n        hash['Medium Office - OpenOffice'] = 'MediumOffice - OpenOffice';\n        hash['Medium Office - Restroom'] = 'MediumOffice - Restroom';\n        hash['Medium Office - Stair'] = 'MediumOffice - Stair';\n        hash['Medium Office - Storage'] = 'MediumOffice - Storage';\n        hash['Medium Office - Classroom'] = 'MediumOffice - Classroom';\n        hash['Medium Office - Dining'] = 'MediumOffice - Dining';\n        hash['Whole Building - Md Office'] = 'WholeBuilding - Md Office';\n      }\n\n    } else if (building_type == 'LargeOffice') {\n      if (wholeBuilding) {\n        hash['Whole Building - Lg Office'] = 'WholeBuilding - Lg Office';\n      }\n\n      hash['Break Room'] = 'BreakRoom';\n      hash['Closed Office'] = 'ClosedOffice';\n      hash['Conference'] = 'Conference';\n      hash['Corridor'] = 'Corridor';\n      hash['Elec/Mech Room'] = 'Elec/MechRoom';\n      hash['IT Room'] = 'IT_Room';\n      hash['Lobby'] = 'Lobby';\n      hash['Open Office'] = 'OpenOffice';\n      hash['Print Room'] = 'PrintRoom';\n      hash['Restroom'] = 'Restroom';\n      hash['Stair'] = 'Stair';\n      hash['Storage'] = 'Storage';\n      hash['Vending'] = 'Vending';\n      hash['Whole Building - Lg Office'] = 'WholeBuilding - Lg Office';\n\n      if (['DOE Ref Pre-1980', 'DOE Ref 1980-2004', 'ComStock DOE Ref Pre-1980', 'ComStock DOE Ref 1980-2004'].indexOf(template) === -1) {\n        if (wholeBuilding) {\n          hash['Office - Large Data Center'] = 'OfficeLarge Data Center';\n          hash['Office - Large Main Data Center'] = 'OfficeLarge Main Data Center';\n        } else {\n          hash['Office - Large Data Center'] = 'OfficeLarge Data Center';\n          hash['Office - Large Main Data Center'] = 'OfficeLarge Main Data Center';\n        }\n      }\n\n    } else if (building_type == 'SmallHotel') {\n      hash['Corridor'] = 'Corridor';\n      hash['Elec/Mech Room'] = 'Elec/MechRoom';\n      hash['Elevator Core'] = 'ElevatorCore';\n      hash['Exercise'] = 'Exercise';\n      hash['Guest Lounge'] = 'GuestLounge';\n      hash['Laundry'] = 'Laundry';\n      hash['Mechanical'] = 'Mechanical';\n      hash['Meeting'] = 'Meeting';\n      hash['Office'] = 'Office';\n      hash['Public Restroom'] = 'PublicRestroom';\n      hash['Staff Lounge'] = 'StaffLounge';\n      hash['Stair'] = 'Stair';\n      hash['Storage'] = 'Storage';\n\n      if (['DOE Ref Pre-1980', 'DOE Ref 1980-2004', 'ComStock DOE Ref Pre-1980', 'ComStock DOE Ref 1980-2004'].indexOf(template) !== -1) {\n        hash['Guest Room'] = 'GuestRoom';\n      } else {\n        hash['Guest Room 123O cc'] = 'GuestRoom123Occ';\n        hash['Guest Room 123V ac'] = 'GuestRoom123Vac';\n      }\n    } else if (building_type == 'LargeHotel') {\n      hash['Banquet'] = 'Banquet';\n      hash['Basement'] = 'Basement';\n      hash['Cafe'] = 'Cafe';\n      hash['Corridor'] = 'Corridor';\n      hash['Guest Room'] = 'GuestRoom';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Laundry'] = 'Laundry';\n      hash['Lobby'] = 'Lobby';\n      hash['Mechanical'] = 'Mechanical';\n      hash['Retail'] = 'Retail';\n      hash['Storage'] = 'Storage';\n    } else if (building_type == 'Warehouse') {\n      hash['Bulk'] = 'Bulk';\n      hash['Fine'] = 'Fine';\n      hash['Office'] = 'Office';\n    } else if (building_type == 'RetailStandalone') {\n      hash['Back Space'] = 'Back_Space';\n      hash['Entry'] = 'Entry';\n      hash['Point of Sale'] = 'Point_of_Sale';\n      hash['Retail'] = 'Retail';\n    } else if (building_type == 'RetailStripmall') {\n      hash['Strip mall - type 1'] = 'Strip mall - type 1';\n      hash['Strip mall - type 2'] = 'Strip mall - type 2';\n      hash['Strip mall - type 3'] = 'Strip mall - type 3';\n    } else if (building_type == 'QuickServiceRestaurant') {\n      hash['Dining'] = 'Dining';\n      hash['Kitchen'] = 'Kitchen';\n    } else if (building_type == 'FullServiceRestaurant') {\n      hash['Dining'] = 'Dining';\n      hash['Kitchen'] = 'Kitchen';\n    } else if (building_type == 'MidriseApartment') {\n      hash['Apartment'] = 'Apartment';\n      hash['Corridor'] = 'Corridor';\n      hash['Office'] = 'Office';\n    } else if (building_type == 'HighriseApartment') {\n      hash['Apartment'] = 'Apartment';\n      hash['Corridor'] = 'Corridor';\n      hash['Office'] = 'Office';\n    } else if (building_type == 'Hospital') {\n      hash['Basement'] = 'Basement';\n      hash['Corridor'] = 'Corridor';\n      hash['Dining'] = 'Dining';\n      hash['ER Exam'] = 'ER_Exam';\n      hash['ER Nurse Station'] = 'ER_NurseStn';\n      hash['ER Trauma'] = 'ER_Trauma';\n      hash['ER Triage'] = 'ER_Triage';\n      hash['ICU Nurse Station'] = 'ICU_NurseStn';\n      hash['ICU Open'] = 'ICU_Open';\n      hash['ICU Patient Room'] = 'ICU_PatRm';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Lab'] = 'Lab';\n      hash['Lobby'] = 'Lobby';\n      hash['Nurse Station'] = 'NurseStn';\n      hash['Office'] = 'Office';\n      hash['OR'] = 'OR';\n      hash['Patient Corridor'] = 'PatCorridor';\n      hash['Patient Room'] = 'PatRoom';\n      hash['Physical Therapy'] = 'PhysTherapy';\n      hash['Radiology'] = 'Radiology';\n    } else if (building_type == 'Outpatient') {\n      hash['Anesthesia'] = 'Anesthesia';\n      hash['BioHazard'] = 'BioHazard';\n      hash['Cafe'] = 'Cafe';\n      hash['Clean Work'] = 'CleanWork';\n      hash['Conference'] = 'Conference';\n      hash['Dressing Room'] = 'DresingRoom';\n      hash['Elec/Mech Room'] = 'Elec/MechRoom';\n      hash['Elevator Pump Room'] = 'ElevatorPumpRoom';\n      hash['Exam'] = 'Exam';\n      hash['Hall'] = 'Hall';\n      hash['IT Room'] = 'IT_Room';\n      hash['Janitor'] = 'Janitor';\n      hash['Lobby'] = 'Lobby';\n      hash['Locker Room'] = 'LockerRoom';\n      hash['Lounge'] = 'Lounge';\n      hash['Med Gas'] = 'MedGas';\n      hash['MRI'] = 'MRI';\n      hash['MRI Control'] = 'MRI_Control';\n      hash['Nurse Station'] = 'NurseStation';\n      hash['Office'] = 'Office';\n      hash['OR'] = 'OR';\n      hash['PACU'] = 'PACU';\n      hash['Physical Therapy'] = 'PhysicalTherapy';\n      hash['PreOp'] = 'PreOp';\n      hash['Procedure Room'] = 'ProcedureRoom';\n      hash['Reception'] = 'Reception';\n      hash['Soil Work'] = 'Soil Work';\n      hash['Stair'] = 'Stair';\n      hash['Toilet'] = 'Toilet';\n      hash['Undeveloped'] = 'Undeveloped';\n      hash['Xray'] = 'Xray';\n    } else if (building_type == 'SuperMarket') {\n      hash['Bakery'] = 'Bakery';\n      hash['Deli'] = 'Deli';\n      hash['Dry Storage'] = 'DryStorage';\n      hash['Office'] = 'Office';\n      hash['Produce'] = 'Produce';\n      hash['Sales'] = 'Sales';\n      hash['Corridor'] = 'Corridor';\n      hash['Dining'] = 'Dining';\n      hash['Elec/Mech Room'] = 'Elec/MechRoom';\n      hash['Meeting'] = 'Meeting';\n      hash['Restroom'] = 'Restroom';\n      hash['Vestibule'] = 'Vestibule';\n    } else if (building_type == 'Laboratory') {\n      hash['Office'] = 'Office';\n      hash['Open Lab'] = 'Open lab';\n      hash['Equipment Corridor'] = 'Equipment corridor';\n      hash['Lab with Fume Hood'] = 'Lab with fume hood';\n    } else if (building_type == 'LargeDataCenterHighITE') {\n      hash['Standalone Data Center'] = 'StandaloneDataCenter';\n    } else if (building_type == 'LargeDataCenterLowITE') {\n      hash['Standalone Data Center'] = 'StandaloneDataCenter';\n    } else if (building_type == 'SmallDataCenterHighITE') {\n      hash['Computer Room'] = 'ComputerRoom';\n    } else if (building_type == 'SmallDataCenterLowITE') {\n      hash['Computer Room'] = 'ComputerRoom';\n    } else if (building_type == 'Asm') {\n      hash['Auditorium'] = 'Auditorium';\n      hash['Office General'] = 'OfficeGeneral';\n    } else if (building_type == 'ECC') {\n      hash['Classroom'] = 'Classroom';\n      hash['Computer Room Classroom'] = 'CompRoomClassRm';\n      hash['Shop'] = 'Shop';\n      hash['Dining'] = 'Dining';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Office General'] = 'OfficeGeneral';\n    } else if (building_type == 'EPr') {\n      hash['Classroom'] = 'Classroom';\n      hash['Corridor Stairway'] = 'CorridorStairway';\n      hash['Dining'] = 'Dining';\n      hash['Gymnasium'] = 'Gymnasium';\n      hash['Kitchen'] = 'Kitchen';\n    } else if (building_type == 'ERC') {\n      hash['Classroom'] = 'Classroom';\n    } else if (building_type == 'ESe') {\n      hash['Classroom'] = 'Classroom';\n      hash['Computer Room Classroom'] = 'CompRoomClassRm';\n      hash['Corridor Stairway'] = 'CorridorStairway';\n      hash['Dining'] = 'Dining';\n      hash['Gymnasium'] = 'Gymnasium';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Office General'] = 'OfficeGeneral';\n    } else if (building_type == 'EUn') {\n      hash['Dining'] = 'Dining';\n      hash['Classroom'] = 'Classroom';\n      hash['Office General'] = 'OfficeGeneral';\n      hash['Computer Room Classroom'] = 'CompRoomClassRm';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Corridor Stairway'] = 'CorridorStairway';\n      hash['FacMaint'] = 'FacMaint';\n      hash['Dormitory Room'] = 'DormitoryRoom';\n    } else if (building_type == 'Gro') {\n      hash['Grocery Sales'] = 'GrocSales';\n      hash['Ref Walk In Cool'] = 'RefWalkInCool';\n      hash['Office General'] = 'OfficeGeneral';\n      hash['Ref Food Prep'] = 'RefFoodPrep';\n      hash['Ref Walk In Freeze'] = 'RefWalkInFreeze';\n      hash['Ind Load Dock'] = 'IndLoadDock';\n    } else if (building_type == 'Hsp') {\n      hash['Hsp Surg Outpt Lab'] = 'HspSurgOutptLab';\n      hash['Dining'] = 'Dining';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Office General'] = 'OfficeGeneral';\n      hash['Patient Room'] = 'PatientRoom';\n    } else if (building_type == 'Htl') {\n      hash['Dining'] = 'Dining';\n      hash['Bar Casino'] = 'BarCasino';\n      hash['Hotel Lobby'] = 'HotelLobby';\n      hash['Office General'] = 'OfficeGeneral';\n      hash['Guest Rm Corrid'] = 'GuestRmCorrid';\n      hash['Laundry'] = 'Laundry';\n      hash['Guest Rm Occ'] = 'GuestRmOcc';\n      hash['Guest Rm Un Occ'] = 'GuestRmUnOcc';\n      hash['Kitchen'] = 'Kitchen';\n    } else if (building_type == 'MBT') {\n      hash['Computer Room Classroom'] = 'CompRoomData';\n      hash['Laboratory'] = 'Laboratory';\n      hash['Corridor Stairway'] = 'CorridorStairway';\n      hash['Conference'] = 'Conference';\n      hash['Dining'] = 'Dining';\n      hash['Office Open'] = 'OfficeOpen';\n      hash['Kitchen'] = 'Kitchen';\n    } else if (building_type == 'MFm') {\n      hash['Res Living'] = 'ResLiving';\n      hash['Res Public Area'] = 'ResPublicArea';\n    } else if (building_type == 'MLI') {\n      hash['Stock Room'] = 'StockRoom';\n      hash['Work'] = 'Work';\n    } else if (building_type == 'Mtl') {\n      hash['Office General'] = 'OfficeGeneral';\n      hash['Guest Rm Corrid'] = 'GuestRmCorrid';\n      hash['Laundry'] = 'Laundry';\n      hash['Guest Rm Occ'] = 'GuestRmOcc';\n      hash['Guest Rm Un Occ'] = 'GuestRmUnOcc';\n    } else if (building_type == 'Nrs') {\n      hash['Corridor Stairway'] = 'CorridorStairway';\n      hash['Dining'] = 'Dining';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Office General'] = 'OfficeGeneral';\n      hash['Patient Room'] = 'PatientRoom';\n    } else if (building_type == 'OfL') {\n      hash['Lobby Waiting'] = 'LobbyWaiting';\n      hash['Office Small'] = 'OfficeSmall';\n      hash['Office Open'] = 'OfficeOpen';\n      hash['Mech Elec Room'] = 'MechElecRoom';\n    } else if (building_type == 'OfS') {\n      hash['Hall'] = 'Hall';\n      hash['Office Small'] = 'OfficeSmall';\n    } else if (building_type == 'RFF') {\n      hash['Dining'] = 'Dining';\n      hash['Kitchen'] = 'Kitchen';\n      hash['Lobby Waiting'] = 'LobbyWaiting';\n      hash['Restroom'] = 'Restroom';\n    } else if (building_type == 'RSD') {\n      hash['Restroom'] = 'Restroom';\n      hash['Dining'] = 'Dining';\n      hash['Lobby Waiting'] = 'LobbyWaiting';\n      hash['Kitchen'] = 'Kitchen';\n    } else if (building_type == 'Rt3') {\n      hash['Retail Sales'] = 'RetailSales';\n    } else if (building_type == 'RtL') {\n      hash['Office General'] = 'OfficeGeneral';\n      hash['Work'] = 'Work';\n      hash['Stock Room'] = 'StockRoom';\n      hash['Retail Sales'] = 'RetailSales';\n      hash['Kitchen'] = 'Kitchen';\n    } else if (building_type == 'RtS') {\n      hash['Retail Sales'] = 'RetailSales';\n      hash['Stock Room'] = 'StockRoom';\n    } else if (building_type == 'SCn') {\n      hash['Warehouse Cond'] = 'WarehouseCond';\n    } else if (building_type == 'SUn') {\n      hash['Warehouse Un Cond'] = 'WarehouseUnCond';\n    } else if (building_type == 'WRf') {\n      hash['Ind Load Dock'] = 'IndLoadDock';\n      hash['Office General'] = 'OfficeGeneral';\n      hash['Ref Stor Freezer'] = 'RefStorFreezer';\n      hash['Ref Stor Cooler'] = 'RefStorCooler';\n    }\n\n    return hash;\n  },\n\n  /**\n   * Given a story\n   * Generates new ids for the doors, windows, spaces and shading\n   * Assigns those ids to the clonedStory based on the idMap\n   * Returns the clonedStory\n   *\n   * @param {'Story'} story\n   * @param {*} idMap\n   */\n  replaceIdsUpdateInfoForCloning(story, idMap) {\n    const clonedStory = _.cloneDeep(story);\n    clonedStory.doors = clonedStory.doors.map((door) => {\n      const newID = idFactory.generate();\n      idMap[door.id] = newID;\n      door.id = newID;\n      return door;\n    });\n    clonedStory.windows = clonedStory.windows.map((window) => {\n      const newID = idFactory.generate();\n      idMap[window.id] = newID;\n      window.id = newID;\n      return window;\n    });\n    clonedStory.spaces = clonedStory.spaces.map((space) => {\n      const newID = idFactory.generate();\n      idMap[space.id] = newID;\n      space.id = newID;\n      space.name = '';\n      space.face_id = idMap[space.face_id];\n      return space;\n    });\n    clonedStory.shading = clonedStory.shading.map((shade) => {\n      const newID = idFactory.generate();\n      idMap[shade.id] = newID;\n      shade.id = newID;\n      shade.name = '';\n      shade.face_id = idMap[shade.face_id];\n      return shade;\n    });\n    return { clonedStory };\n  },\n\n  replaceSpaceNamesForCloning(state, type, story) {\n    story.spaces = story.spaces.map((space) => {\n      space.name = this.generateName(state, type, story);\n      return space;\n    });\n  },\n};\nexport default helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/helpers.js","var id = 1;\nexport default {\n    setId (newVal) {\n        id = newVal;\n    },\n\n    generate: (function () {\n        return () => String(id++)\n    })()\n}\n\nconst nameCounts = {};\nexport function genName(prefix) {\n  const nextSuffix = (nameCounts[prefix] || 0) + 1;\n  nameCounts[prefix] = nextSuffix;\n  return `${prefix} - ${nextSuffix}`;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/generateId.js","import _ from 'lodash';\nimport map, { assignableProperties } from './appconfig';\n\nexport function displayNameForMode(mode) {\n  return map.modes[mode];\n}\n\nconst helpers = {\n  // TODO: refactor\n  // returns the displayName for a given mode\n  displayNameForMode,\n  config: map,\n};\nexport default helpers;\n\n\nexport function componentInstanceById(currStory, compInstId) {\n  const windew = _.find(currStory.windows, { id: compInstId });\n  if (windew) { return { ...windew, type: 'windows' }; }\n\n  const dc = _.find(_.flatMap(currStory.spaces, s => s.daylighting_controls), { id: compInstId });\n  if (dc) { return { ...dc, type: 'daylighting_controls' }; }\n\n  const door = _.find(currStory.doors, { id: compInstId });\n  if (door) { return { ...door, type: 'doors' }; }\n\n  return null;\n}\n\nexport function spacePropertyById(library, spacePropId) {\n  let type, prop;\n  assignableProperties.some((ap) => {\n    if ((prop = _.find(library[ap], { id: spacePropId }))) {\n      type = ap;\n    }\n    return !!prop;\n  });\n\n  return prop ? { ...prop, type } : null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/helpers.js","import _ from 'lodash';\nimport factory, { allowableTypes, getDefaults } from './factory';\nimport helpers from './helpers';\nimport validators from './validators';\nimport * as converters from './converters';\nimport { textures } from '../application/appconfig';\n\n/*\n* each library object type has\n* displayName - for use in the library Type dropdown\n* init - method to initialize a new object of the given type\n* keymap - contains displayName and accessor for each property on objects of the given type\n*/\nconst map = {\n  building_units: {\n    displayName: 'Building Unit',\n    definitionName: 'BuildingUnit',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n    init: factory.BuildingUnit,\n  },\n  building_types: {\n    displayName: 'Building Type',\n    definitionName: 'BuildingType',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n    init: factory.BuildingType,\n  },\n  thermal_zones: {\n    displayName: 'Thermal Zone',\n    definitionName: 'ThermalZone',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n    init: factory.ThermalZone,\n  },\n  door_definitions: {\n    displayName: 'Door',\n    definitionName: 'DoorDefinition',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'height',\n        displayName: 'Height',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'width',\n        displayName: 'Width',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'door_type',\n        displayName: 'Type',\n        input_type: 'select',\n        select_data() {\n          const options = ['Door', 'Glass Door', 'Overhead Door'];\n          return _.zipObject(options, options);\n        },\n        validator: validators.oneOf('Door', 'Glass Door', 'Overhead Door'),\n      },\n      {\n        name: 'texture',\n        displayName: 'Texture',\n        input_type: 'texture',\n        validator: validators.oneOf(...textures),\n      },\n    ],\n    init: factory.DoorDefinition,\n  },\n  window_definitions: {\n    displayName: 'Window',\n    definitionName: 'WindowDefinition',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'window_definition_mode',\n        displayName: 'Mode',\n        input_type: 'select',\n        select_data() {\n          const options = ['Single Window', 'Repeating Windows', 'Window to Wall Ratio'];\n          return _.zipObject(options, options);\n        },\n        validator: validators.oneOf('Single Window', 'Repeating Windows', 'Window to Wall Ratio'),\n      },\n      {\n        name: 'wwr',\n        displayName: 'Window to Wall ratio',\n        input_type: 'text',\n        validator: validators.halfOpenInterval(0, 1),\n        converter: converters.number,\n        numeric: true,\n        enabled(row) {\n          return row.window_definition_mode === 'Window to Wall Ratio';\n        },\n      },\n      {\n        name: 'height',\n        displayName: 'Height',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n        enabled(row) {\n          return row.window_definition_mode === 'Single Window' ||\n                 row.window_definition_mode === 'Repeating Windows';\n        },\n      },\n      {\n        name: 'width',\n        displayName: 'Width',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n        enabled(row) {\n          return row.window_definition_mode === 'Single Window' ||\n                 row.window_definition_mode === 'Repeating Windows';\n        },\n      },\n      {\n        name: 'sill_height',\n        displayName: 'Sill Height',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'window_spacing',\n        displayName: 'Spacing',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n        enabled(row) {\n          return row.window_definition_mode === 'Repeating Windows';\n        },\n      },\n      {\n        name: 'window_type',\n        displayName: 'Window Type',\n        input_type: 'select',\n        select_data() {\n          const options = ['Fixed', 'Operable'];\n          return _.zipObject(options, options);\n        },\n        validator: validators.oneOf('Fixed', 'Operable'),\n      },\n      {\n        name: 'overhang_projection_factor',\n        displayName: 'Overhang Projection Factor',\n        input_type: 'text',\n        validator: validators.gt0orNull,\n        converter: converters.gt0orNull,\n        numeric: true,\n      },\n      {\n        name: 'fin_projection_factor',\n        displayName: 'Fin Projection Factor',\n        input_type: 'text',\n        validator: validators.gt0orNull,\n        converter: converters.gt0orNull,\n        numeric: true,\n      },\n      {\n        name: 'texture',\n        displayName: 'Texture',\n        input_type: 'texture',\n        validator: validators.oneOf(...textures),\n        enabled(row) {\n          return row.window_definition_mode === 'Window to Wall Ratio';\n        },\n      },\n      {\n        name: 'total_count',\n        displayName: 'Total Count',\n        readonly: true,\n        numeric: true,\n        get(windowDefn, state) {\n          return _.chain(state.models.stories)\n            .flatMap('windows')\n            .filter({ window_definition_id: windowDefn.id })\n            .value()\n            .length;\n        },\n      },\n    ],\n    init: factory.WindowDefn,\n  },\n  space_types: {\n    displayName: 'Space Type',\n    definitionName: 'SpaceType',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n    init: factory.SpaceType,\n  },\n  construction_sets: {\n    displayName: 'Construction Set',\n    definitionName: 'ConstructionSet',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n    init: factory.ConstructionSet,\n  },\n  daylighting_control_definitions: {\n    displayName: 'Daylighting Control',\n    definitionName: 'DaylightingControlDefinition',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'height',\n        displayName: 'Height',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'illuminance_setpoint',\n        displayName: 'Illuminance Setpoint (lux)',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'total_count',\n        displayName: 'Total Count',\n        readonly: true,\n        numeric: true,\n        get(dcDefn, state) {\n          return _.chain(state.models.stories)\n            .flatMap('spaces')\n            .flatMap('daylighting_controls')\n            .filter({ daylighting_control_definition_id: dcDefn.id })\n            .value()\n            .length;\n        },\n      },\n    ],\n    init: factory.DaylightingControlDefn,\n  },\n  stories: {\n    displayName: 'Story',\n    definitionName: 'Story',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'handle',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'geometry_id',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'below_floor_plenum_height',\n        displayName: 'Below Floor Plenum Height',\n        input_type: 'text',\n        converter: converters.number,\n        numeric: true,\n        validator: validators.number,\n      },\n      {\n        name: 'above_ceiling_plenum_height',\n        displayName: 'Above Ceiling Plenum Height',\n        input_type: 'text',\n        converter: converters.number,\n        numeric: true,\n        validator: validators.number,\n      },\n      {\n        name: 'floor_to_ceiling_height',\n        displayName: 'Floor To Ceiling Height',\n        input_type: 'text',\n        converter: converters.number,\n        numeric: true,\n        validator: validators.gt0,\n      },\n      {\n        name: 'multiplier',\n        displayName: 'Multiplier',\n        input_type: 'text',\n        converter: converters.number,\n        numeric: true,\n        validator: validators.gt0,\n      },\n      {\n        name: 'spaces',\n        displayName: 'Spaces',\n        readonly: true,\n        numeric: true,\n        get(story, state) {\n          return story.spaces.length;\n        },\n      },\n      {\n        name: 'shading',\n        displayName: 'Shading',\n        readonly: true,\n        numeric: true,\n        get(story, state) {\n          return story.shading.length;\n        },\n      },\n      {\n        name: 'images',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n  },\n  spaces: {\n    displayName: 'Space',\n    definitionName: 'Space',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'handle',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'face_id',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'daylighting_controls',\n        displayName: 'Daylighting Controls',\n        readonly: true,\n        private: true,\n        get(space, state) {\n          return space.daylighting_controls.map(d => d.name)\n          .join(', ');\n        },\n      },\n      {\n        name: 'story',\n        displayName: 'Story',\n        readonly: true,\n        get(space, state) {\n          const story = state.models.stories.find((story) => {\n            return ~story.spaces.map(s => s.id)\n            .indexOf(space.id);\n          });\n          return story.name;\n        },\n      },\n      {\n        name: 'building_unit_id',\n        displayName: 'Building Unit',\n        input_type: 'select',\n        select_data(space, state) {\n          const options = { '(none)': null };\n          state.models.library.building_units.forEach((b) => { options[b.name] = b.id; });\n          return options;\n        },\n        get(space, state) {\n          const buildingUnit = state.models.library.building_units.find(b => b.id === space.building_unit_id);\n          return buildingUnit ? buildingUnit.name : null;\n        },\n        editable: true,\n        type: 'building_units',\n      },\n      {\n        name: 'building_type_id',\n        displayName: 'Building Type',\n        input_type: 'select',\n        select_data(_space, state) {\n          const options = { '(none)': null };\n          state.models.library.building_types.forEach((b) => { options[b.name] = b.id; });\n          return options;\n        },\n        get(space, state) {\n          const buildingType = state.models.library.building_types.find(b => b.id === space.building_type_id);\n          return buildingType ? buildingType.name : null;\n        },\n        editable: true,\n        type: 'thermal_zones',\n      },\n      {\n        name: 'space_type_id',\n        displayName: 'Space Type',\n        input_type: 'select',\n        select_data(space, state) {\n          const options = { '(none)': null };\n          state.models.library.space_types.forEach((s) => { options[s.name] = s.id; });\n          return {\n            ...options,\n            ...helpers.spaceTypesForBuilding(space.building_type_id, space.template),\n          };\n        },\n        get(space, state) {\n          const spaceType = state.models.library.space_types.find(s => s.id === space.space_type_id);\n          return spaceType ? spaceType.name : null;\n        },\n        editable: true,\n        type: 'space_types',\n      },\n      {\n        name: 'template',\n        displayName: 'Template',\n        input_type: 'text',\n      },\n      {\n        name: 'thermal_zone_id',\n        displayName: 'Thermal Zone',\n        input_type: 'select',\n        select_data(_space, state) {\n          const options = { '(none)': null };\n          state.models.library.thermal_zones.forEach((t) => { options[t.name] = t.id; });\n          return options;\n        },\n        get(space, state) {\n          const thermalZone = state.models.library.thermal_zones.find(b => b.id === space.thermal_zone_id);\n          return thermalZone ? thermalZone.name : null;\n        },\n      },\n      {\n        name: 'construction_set_id',\n        displayName: 'Construction Set',\n        input_type: 'select',\n        select_data(space, state) {\n          const options = { '(none)': null };\n          state.models.library.construction_sets.forEach((c) => { options[c.name] = c.id; });\n          return options;\n        },\n        get(space, state) {\n          const constructionSet = state.models.library.construction_sets.find(c => c.id === space.construction_set_id);\n          return constructionSet ? constructionSet.name : null;\n        },\n        editable: true,\n        type: 'construction_sets',\n      },\n      {\n        name: 'pitched_roof_id',\n        displayName: 'Pitched Roof',\n        input_type: 'select',\n        select_data(space, state) {\n          return {\n            '(none)': null,\n            ..._.fromPairs(\n              state.models.library.pitched_roofs\n              .map(prt => [prt.name, prt.id])),\n          };\n        },\n        get(space, state) {\n          const prt = _.find(state.models.library.pitched_roofs, { id: space.pitched_roof_id });\n          return prt ? prt.name : null;\n        },\n        editable: true,\n        type: 'pitched_roofs',\n      },\n      {\n        name: 'below_floor_plenum_height',\n        displayName: 'Below Floor Plenum Height',\n        input_type: 'text',\n        numeric: true,\n        validator: validators.number,\n        converter: converters.number,\n      },\n      {\n        name: 'floor_to_ceiling_height',\n        displayName: 'Floor to Ceiling Height',\n        input_type: 'text',\n        numeric: true,\n        validator: validators.number,\n        converter: converters.number,\n      },\n      {\n        name: 'above_ceiling_plenum_height',\n        displayName: 'Above Ceiling Plenum Height',\n        input_type: 'text',\n        numeric: true,\n        validator: validators.number,\n        converter: converters.number,\n      },\n      {\n        name: 'floor_offset',\n        displayName: 'Floor Offset',\n        input_type: 'text',\n        numeric: true,\n        validator: validators.number,\n        converter: converters.number,\n      },\n      {\n        name: 'open_to_below',\n        displayName: 'Open To Below',\n        input_type: 'select',\n        select_data() {\n          return { False: false, True: true };\n        },\n        converter: converters.bool,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n  },\n  shading: {\n    displayName: 'Shading',\n    definitionName: 'Shading',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'handle',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'face_id',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'color',\n        readonly: true,\n        private: true,\n      },\n    ],\n  },\n  images: {\n    displayName: 'Image',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'width',\n        displayName: 'Width',\n        input_type: 'text',\n        validator: validators.number,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'height',\n        displayName: 'Height',\n        input_type: 'text',\n        validator: validators.number,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'z',\n        displayName: 'z',\n        input_type: 'text',\n        validator: validators.number,\n        private: true,\n      },\n      {\n        name: 'scale',\n        displayName: 'Scale',\n        input_type: 'text',\n        validator: validators.number,\n        converter: converters.number,\n        numeric: true,\n        get(img) {\n          return img.width / img.naturalWidth;\n        },\n      },\n      {\n        name: 'opacity',\n        displayName: 'opacity',\n        input_type: 'text',\n        validator: validators.closedInterval(0, 1),\n        converter: converters.number,\n        numeric: true,\n      },\n\n      {\n        name: 'x',\n        displayName: 'x',\n        input_type: 'text',\n        validator: validators.number,\n        converter: converters.number,\n        numeric: true,\n      },\n\n      {\n        name: 'y',\n        displayName: 'y',\n        input_type: 'text',\n        validator: validators.number,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'src',\n        readonly: true,\n        private: true,\n      },\n    ],\n  },\n  windows: {\n    displayName: 'Window',\n    columns: [\n      {\n        name: 'id',\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n      },\n      {\n        name: 'window_definition_id',\n        displayName: 'Definition',\n        input_type: 'select',\n        select_data(space, state) {\n          return _.fromPairs(state.models.library.window_definitions.map(b => [b.name, b.id]));\n        },\n      },\n    ],\n  },\n  daylighting_controls: {\n    displayName: 'Daylighting Control',\n    columns: [\n      {\n        name: 'id',\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n      },\n      {\n        name: 'daylighting_control_definition_id',\n        displayName: 'Definition',\n        input_type: 'select',\n        select_data(space, state) {\n          return _.fromPairs(state.models.library.daylighting_control_definitions.map(b => [b.name, b.id]));\n        },\n      },\n    ],\n  },\n  doors: {\n    displayName: 'Door',\n    columns: [\n      {\n        name: 'id',\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n      },\n      {\n        name: 'door_definition_id',\n        displayName: 'Definition',\n        input_type: 'select',\n        select_data(space, state) {\n          return _.fromPairs(state.models.library.door_definitions.map(b => [b.name, b.id]));\n        },\n      },\n    ],\n  },\n  pitched_roofs: {\n    displayName: 'Pitched Roof',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n      },\n      {\n        name: 'pitched_roof_type',\n        displayName: 'Type',\n        input_type: 'select',\n        select_data() {\n          const options = ['Gable', 'Hip', 'Shed'];\n          return _.zipObject(options, options);\n        },\n        validator: validators.oneOf('Gable', 'Hip', 'Shed'),\n      },\n      {\n        name: 'pitch',\n        displayName: 'Pitch',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'shed_direction',\n        displayName: 'Shed Direction',\n        input_type: 'text',\n        validator: validators.number,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n      },\n    ],\n    init: factory.PitchedRoof,\n  },\n};\n\nObject.keys(map).forEach((k) => {\n  map[k].keymap = _.zipObject(\n    _.map(map[k].columns, 'name'),\n    map[k].columns);\n\n  map[k].columns.forEach((col) => {\n    if (\n      _.has(map[k], 'definitionName') &&\n      _.get(allowableTypes, map[k].definitionName) &&\n      _.includes(allowableTypes[map[k].definitionName][col.name], 'null')\n    ) {\n      col.nullable = true;\n    }\n\n    if (\n      _.has(map[k], 'definitionName') &&\n      getDefaults(map[k].definitionName) &&\n      _.has(getDefaults(map[k].definitionName), col.name)\n    ) {\n      col.default = getDefaults(map[k].definitionName)[col.name];\n    }\n  });\n});\n\nexport default map;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/libconfig.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-8f6e6820&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PrettySelect.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PrettySelect.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-8f6e6820!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PrettySelect.vue\"),\n  /* scopeId */\n  \"data-v-8f6e6820\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PrettySelect.vue\n// module id = 121\n// module chunks = 2","import _ from 'lodash';\nimport { distanceBetweenPoints, pointDistanceToSegment, edgeDirection, vertInRing } from '../../store/modules/geometry/helpers';\n\nexport function gridSnapTargets(gridSpacing, { x, y }) {\n  return [\n    { x: Math.floor(x / gridSpacing) * gridSpacing, y: Math.floor(y / gridSpacing) * gridSpacing },\n    { x: (Math.floor(x / gridSpacing) + 1) * gridSpacing, y: Math.floor(y / gridSpacing) * gridSpacing },\n    { x: Math.floor(x / gridSpacing) * gridSpacing, y: (Math.floor(y / gridSpacing) + 1) * gridSpacing },\n    { x: (Math.floor(x / gridSpacing) + 1) * gridSpacing, y: (Math.floor(y / gridSpacing) + 1) * gridSpacing },\n  ].map(t => ({ ...t, type: 'grid' }));\n}\n\nexport function vertexSnapTargets(vertices, gridSpacing, location) {\n  return vertices\n    .filter(v => distanceBetweenPoints(location, v) <= gridSpacing)\n    .map(v => ({ ...v, type: 'vertex' }));\n}\n\nexport function snapTargets(vertices, gridSpacing, cursor) {\n  const targets = [\n    ...gridSnapTargets(gridSpacing, cursor),\n    ...vertexSnapTargets(vertices, gridSpacing, cursor),\n  ].map(\n    target => ({\n      ...target,\n      dist: distanceBetweenPoints(target, cursor),\n      dx: cursor.x - target.x,\n      dy: cursor.y - target.y,\n    }));\n\n  return _.orderBy(targets, ['dist', 'origin', 'type'], ['asc', 'asc', 'desc']);\n}\n\nexport function expandWindowAlongEdge(edge, center, { width, spacing, window_definition_mode, texture }) {\n  if (window_definition_mode === 'Window to Wall Ratio' ||\n      window_definition_mode === 'Repeating Windows'\n  ) {\n    return {\n      edge_id: edge.id,\n      center: {\n        x: (edge.v1.x + edge.v2.x) / 2,\n        y: (edge.v1.y + edge.v2.y) / 2,\n      },\n      edge_start: edge.v1,\n      alpha: 0.5,\n      start: edge.v1,\n      end: edge.v2,\n      window_definition_mode,\n      width,\n      spacing,\n      texture,\n    };\n  }\n  const\n    theta = edgeDirection({ start: edge.v1, end: edge.v2 }),\n    windowDeltaX = (width * Math.cos(theta)) / 2,\n    windowDeltaY = (width * Math.sin(theta)) / 2,\n    alpha = edge.v2.x === edge.v1.x ?\n      (center.y - edge.v1.y) / (edge.v2.y - edge.v1.y) :\n      (center.x - edge.v1.x) / (edge.v2.x - edge.v1.x);\n  return {\n    edge_id: edge.id,\n    center,\n    edge_start: edge.v1,\n    alpha,\n    start: {\n      x: center.x - windowDeltaX,\n      y: center.y - windowDeltaY,\n    },\n    end: {\n      x: center.x + windowDeltaX,\n      y: center.y + windowDeltaY,\n    },\n    window_definition_mode,\n  };\n}\n\nexport function findClosestEdge(edges, cursor) {\n  // Use two references to defer creation of the object until the final return\n  let edge = undefined;\n  let dist = undefined;\n  let smallest = Infinity;\n  for (let e of edges) {\n    const d = pointDistanceToSegment(cursor, { start: e.v1, end: e.v2 });\n\n    if (d.dist < smallest) {\n      // Negative distances aren't possible, so getting a 0 is assured to be the closest\n      if (d.dist === 0) {\n        return {\n          ...e,\n          ...d,\n        };\n      }\n\n      smallest = d.dist;\n      edge = e;\n      dist = d;\n    }\n  }\n\n  if (edge) {\n    return {\n      ...edge,\n      ...dist,\n    };\n  } else {\n    return undefined;\n  }\n}\n\nexport function findClosestWindow(windows, cursor) {\n  const withDistance = windows.map((w) => {\n    // single windows calculate distance to center,\n    // repeating and wwr calculate distance to the edge they live on\n    const dist = w.window_definition_mode === 'Single Window' ?\n      { dist: distanceBetweenPoints(cursor, w.center), proj: w.center } :\n      pointDistanceToSegment(cursor, w);\n\n    return {\n      ...w,\n      ...dist,\n      // alias start, end to v1, v2 so we can make this thing look like an edge.\n      // Then we can use the same code to display the distance markers from\n      // daylighting control to either closest window or closest edge.\n      v1: w.start,\n      v2: w.end,\n    };\n  });\n  return _.minBy(withDistance, 'dist');\n}\n\nfunction snapWindowToEdgeAnywhere(edges, cursor, windowDefn, maxSnapDist) {\n  const closestEdge = findClosestEdge(edges, cursor);\n  if (!closestEdge || closestEdge.dist > maxSnapDist) {\n    return null;\n  }\n  return expandWindowAlongEdge(closestEdge, closestEdge.proj, windowDefn);\n}\n\nfunction snapWindowToEdgeAtGridIntervals(edges, cursor, windowDefn, maxSnapDist, gridSpacing) {\n  const closestEdge = findClosestEdge(edges, cursor);\n  if (!closestEdge || closestEdge.dist > maxSnapDist) {\n    return null;\n  }\n\n  const\n    dist = distanceBetweenPoints(closestEdge.v1, closestEdge.proj),\n    roundedDist = Math.round(dist / gridSpacing) * gridSpacing,\n    dx = (closestEdge.v2.x - closestEdge.v1.x),\n    dy = (closestEdge.v2.y - closestEdge.v1.y),\n    norm = Math.sqrt((dx * dx) + (dy * dy)),\n    snapLoc = {\n      x: closestEdge.v1.x + (roundedDist * (dx / norm)),\n      y: closestEdge.v1.y + (roundedDist * (dy / norm)),\n    };\n\n  return expandWindowAlongEdge(closestEdge, snapLoc, windowDefn);\n}\n\nexport function snapWindowToEdge(snapMode, ...args) {\n  if (snapMode === 'grid-strict') {\n    return snapWindowToEdgeAtGridIntervals(...args);\n  }\n  return snapWindowToEdgeAnywhere(...args);\n}\n\nexport function snapToVertexWithinFace(snapMode, faces, cursor, gridSpacing) {\n  const existingVerts = snapMode === 'grid-strict' ? [] : [cursor];\n  // We'll pretend `cursor` is an existing vert when we're not in strict snapping mode.\n  // That way, we will suggest the exact location of the cursor.\n  return _.chain(snapTargets(existingVerts, gridSpacing, cursor))\n    .map(g => ({\n      ...g,\n      face_id: _.find(faces, f => vertInRing(g, f.vertices)),\n    }))\n    .filter('face_id')\n    .map(g => ({ ...g, face_id: g.face_id.id }))\n    .first()\n    .value();\n}\n\nexport function windowLocation(edge, windw) {\n  const alpha = windw.alpha || 0.5; // if not given, assume center\n  // (this is useful for repeating window groups and window-wall-ratios\n  return {\n    x: edge.v1.x + (alpha * (edge.v2.x - edge.v1.x)),\n    y: edge.v1.y + (alpha * (edge.v2.y - edge.v1.y)),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Grid/snapping.js","import idFactory from './../../utilities/generateId'\nimport helpers from './helpers'\n\nexport default {\n    Vertex (x, y) {\n        return {\n            id: idFactory.generate(),\n            x: x,\n            y: y\n        }\n    },\n    Edge (v1, v2) {\n        return {\n            id: idFactory.generate(),\n            v1: v1,\n            v2: v2\n        }\n    },\n    Face (edgeRefs) {\n        return {\n            id: idFactory.generate(),\n            edgeRefs: edgeRefs\n        }\n    },\n    Geometry () {\n        return {\n            id: idFactory.generate(),\n            vertices: [],\n            edges: [],\n            faces: []\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/factory.js","import _ from 'lodash';\nimport idFactory from './../../utilities/generateId';\nimport generateColor from './../../utilities/generateColor';\nimport generateTexture from './../../utilities/generateTexture';\nimport appconfig from './../application/appconfig';\nimport schema from '../../../../schema/geometry_schema.json';\nimport { getConverter } from '../../utilities/unitConversion';\n\nconst makeReadPropertyAttr = (attribute) => {\n  const readPropertyAttr = (definition) => {\n    if (_.has(definition, 'default')) return definition[attribute];\n    if (definition.type === 'null') return null;\n    if (definition.type === 'array') return [];\n    if (definition.type === 'object') {\n      return _.mapValues(definition.properties, readPropertyAttr);\n    }\n    if (_.has(definition, attribute)) return definition[attribute];\n    return null;\n  };\n  return readPropertyAttr;\n};\n\nconst readPropertyAttrs = attr =>\n  _.mapValues(schema.definitions, makeReadPropertyAttr(attr));\n\nconst ip_defaults = readPropertyAttrs('default');\nif (ip_defaults.Project.config.units !== 'ip') {\n  // We're assuming the defaults in the schema are all in ip units.\n  // if that is not the case, we need to swap around which of\n  // `ip_defaults` and `si_defaults` is read directly from the schema and\n  // which is converted using getConverter\n  throw new Error(\n      'Expected default units to be ip. Code changes are required to change the default units');\n}\nconst si_defaults = _.mapValues(\n  ip_defaults,\n  (value, key) => getConverter(key, 'ip', 'si')(value));\n\nexport const getDefaults = key =>\n    _.cloneDeep(_.get(window, 'application.$store.state.project.config.units', 'ip') === 'ip' ?\n        ip_defaults[key] :\n        si_defaults[key]);\n\nexport const allowableTypes = readPropertyAttrs('type');\n\nexport default {\n  Story(name) {\n    return {\n      ...getDefaults('Story'),\n      id: idFactory.generate(),\n      name,\n      color: generateColor('story'),\n    };\n  },\n  Space(name) {\n    return {\n      ...getDefaults('Space'),\n      id: idFactory.generate(),\n      name,\n      color: generateColor('space'),\n      type: 'space',\n    };\n  },\n  Shading(name) {\n    return {\n      ...getDefaults('Shading'),\n      id: idFactory.generate(),\n      name,\n      color: appconfig.palette.shading,\n    };\n  },\n  Image(name, src) {\n    return {\n      id: idFactory.generate(),\n      src,\n      name,\n      visible: true,\n      height: 0,\n      width: 0,\n      x: 0,\n      y: 0,\n      z: 0,\n      r: 0,\n      opacity: 0.6,\n      naturalWidth: 0,\n      naturalHeight: 0,\n    };\n  },\n  BuildingUnit(opts = {}) {\n    return {\n      id: idFactory.generate(),\n      color: generateColor('building_unit'),\n      name: opts.name,\n      handle: opts.handle || null,\n    };\n  },\n  ThermalZone(opts = {}) {\n    return {\n      ...getDefaults('ThermalZone'),\n      id: idFactory.generate(),\n      color: generateColor('thermal_zone'),\n      name: opts.name,\n    };\n  },\n  SpaceType(opts = {}) {\n    return {\n      ...getDefaults('SpaceType'),\n      id: idFactory.generate(),\n      color: generateColor('space_type'),\n      name: opts.name,\n    };\n  },\n  ConstructionSet(opts = {}) {\n    return {\n      ...getDefaults('ConstructionSet'),\n      id: idFactory.generate(),\n      name: opts.name,\n      color: generateColor('construction_set'),\n    };\n  },\n  WindowDefn(opts = {}) {\n    return {\n      ...getDefaults('WindowDefinition'),\n      id: idFactory.generate(),\n      name: opts.name,\n      wwr: null,\n      window_spacing: null,\n      texture: generateTexture('window_definition'),\n    };\n  },\n  DaylightingControlDefn(opts = {}) {\n    return {\n      ...getDefaults('DaylightingControlDefinition'),\n      id: idFactory.generate(),\n      name: opts.name,\n    };\n  },\n  DoorDefinition(opts = {}) {\n    return {\n      ...getDefaults('DoorDefinition'),\n      id: idFactory.generate(),\n      name: opts.name,\n      texture: generateTexture('door_definition'),\n    };\n  },\n  PitchedRoof(opts = {}) {\n    return {\n      ...getDefaults('PitchedRoof'),\n      id: idFactory.generate(),\n      name: opts.name,\n      color: generateColor('pitched_roof'),\n    };\n  },\n  BuildingType({ name } = {}) {\n    return {\n      ...getDefaults('BuildingType'),\n      id: idFactory.generate(),\n      name,\n      color: generateColor('building_type'),\n    };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/factory.js","import _ from 'lodash';\nimport schema from '../../../schema/geometry_schema.json';\nimport { libraryTypes } from '../modules/application/appconfig';\nimport deepFreeze from '../../utilities/deepFreeze';\n\nconst readUnits = (definition) => {\n  if (_.has(definition, 'si_units')) {\n    return _.pick(definition, ['si_units', 'ip_units']);\n  }\n  if (definition.type === 'object') {\n    const res = _.pickBy(\n      _.mapValues(definition.properties, readUnits),\n      _.identity);\n    if (_.isEmpty(res)) {\n      return null;\n    }\n    return res;\n  }\n  if (definition.type === 'array' && _.get(definition, 'items.$ref')) {\n    return {\n      arrayOf: definition.items.$ref.replace('#/definitions/', ''),\n    };\n  }\n  if (definition.$ref) {\n    return {\n      $ref: definition.$ref.replace('#/definitions/', ''),\n    };\n  }\n  return null;\n};\n\nconst rawUnits = {\n  $schema: _.pickBy(_.mapValues(schema.properties, readUnits), _.identity),\n  ..._.pickBy(\n    _.mapValues(schema.definitions, readUnits),\n    _.identity),\n};\n\nrawUnits.$state = _.pickBy({\n  application: rawUnits.Application,\n  project: rawUnits.Project,\n  geometry: { arrayOf: 'Geometry' },\n  models: {\n    stories: { arrayOf: 'Story' },\n    library: _.fromPairs(\n      libraryTypes.map(lt => [lt, rawUnits.$schema[lt]])),\n  },\n}, _.identity);\n\nexport const units = deepFreeze(rawUnits);\n\nconst factorTable = {\n  'm -> ft': 3.280839895,\n  'ft -> m': 0.3048,\n  'fc -> lux': 10.7639,\n  'lux -> fc': 0.092903,\n};\nexport const conversionFactor = (fromUnits, toUnits) => {\n  const factor = factorTable[`${fromUnits} -> ${toUnits}`];\n  if (!factor) {\n    throw new Error(\n      `Unable to find conversion from ${fromUnits} to ${toUnits}`);\n  }\n  return factor;\n};\n\nexport const getConverter = (path, _fromSystem, _toSystem) => {\n  // this because we don't have a type system\n  if (!_.includes(['si', 'ip'], _fromSystem)) {\n    throw new Error(`expected fromSystem to be 'si' or 'ip'. received ${_fromSystem}`);\n  }\n  if (!_.includes(['si', 'ip'], _toSystem)) {\n    throw new Error(`expected toSystem to be 'si' or 'ip'. received ${_toSystem}`);\n  }\n\n  if (_fromSystem === _toSystem) { return _.identity; }\n\n  const fromSystem = `${_fromSystem}_units`;\n  const toSystem = `${_toSystem}_units`;\n\n  const pathUnits = _.get(units, path);\n  if (\n    !pathUnits ||\n    _.has(pathUnits, 'si_units') && pathUnits.si_units === pathUnits.ip_units\n  ) {\n    return _.identity;\n  }\n  if (_.has(pathUnits, 'si_units')) {\n    const factor = conversionFactor(pathUnits[fromSystem], pathUnits[toSystem]);\n    return val => (typeof val === typeof 0 ? val * factor : val);\n  }\n  if (pathUnits.$ref) {\n    return getConverter(pathUnits.$ref, _fromSystem, _toSystem);\n  }\n  if (pathUnits.arrayOf) {\n    const converter = getConverter(pathUnits.arrayOf, _fromSystem, _toSystem);\n    return arr => arr.map(converter);\n  }\n  if (_.isObject(pathUnits)) {\n    const converters = _.mapValues(\n      pathUnits,\n      (val, key) => getConverter(`${path}.${key}`, _fromSystem, _toSystem));\n    return obj => _.mapValues(obj, (val, key) => (converters[key] || _.identity)(val));\n  }\n  throw new Error(`Path ${path} did not lead to a useful spot in 'units'`);\n};\n\nexport const convertSchema = (data, fromSystem, toSystem) =>\n  getConverter('$schema', fromSystem, toSystem)(data);\n\nexport const convertState = (data, fromSystem, toSystem) =>\n  getConverter('$state', fromSystem, toSystem)(data);\n\n// a library is just a version of schema with fewer keys.\nexport const convertLibrary = convertSchema;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/unitConversion.js","// Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nimport _ from 'lodash';\n\nexport function debounce(func, wait) {\n    var timeout;\n\n    return function(...args) {\n        clearTimeout(timeout);\n\n        timeout = setTimeout(() => {\n            timeout = null;\n            func.apply(this, args);\n        }, wait);\n    };\n};\n\nexport function uniq(arr, key = JSON.stringify) {\n  const alreadySeen = {};\n  return arr.filter((elem) => {\n    const theKey = key(elem);\n    if (alreadySeen[theKey]) {\n      return false;\n    } else {\n      alreadySeen[theKey] = true;\n      return true;\n    }\n  });\n}\n\nexport function allPairs(elems) {\n  return _.flatten(\n    elems.map(\n      (p, ix) => elems.slice(ix + 1).map(\n        p2 => ([p, p2]))));\n}\n\nexport function dropConsecutiveDups(arr, key = JSON.stringify) {\n  return arr.filter((item, pos) => (\n    pos === 0 || key(item) !== key(arr[pos - 1])\n  ));\n}\n\n// get all siblings for a node\nexport function getSiblings(el) {\n  const siblings = [];\n  for (let sibling = el.parentNode.firstChild; sibling; sibling = sibling.nextSibling) {\n    if (sibling.nodeType === 1 && sibling !== el) { siblings.push(sibling); }\n  }\n  return siblings;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities.js","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"10\",\"cy\":\"10\",\"fill\":\"#bf0049\",\"r\":\"5.6\"}}),_c('path',{attrs:{\"d\":\"M10.8 9.9L12.7 8c.2-.2.2-.6 0-.8-.2-.2-.6-.2-.8 0L10 9 8.1 7.1c-.2-.2-.6-.2-.8 0s-.3.7-.1.9l1.9 1.9-1.9 1.9c-.2.2-.2.6 0 .8.1.1.3.2.4.2s.3-.1.4-.2l1.9-1.9 1.9 1.9c.1.1.3.2.4.2s.3-.1.4-.2c.2-.2.2-.6 0-.8l-1.8-1.9z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/delete.svg\n// module id = 178\n// module chunks = 2","// Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport Vue from 'vue'\nexport default new Vue();\n\n\n// WEBPACK FOOTER //\n// ./src/components/Resize/ResizeEvents.js","// Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport ResizeEvents from './ResizeEvents'\nexport {\n  ResizeEvents,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Resize/index.js","import openFloorplanSvg from './../assets/svg-icons/open_floorplan.svg';\nimport saveFloorplanSvg from './../assets/svg-icons/save_floorplan.svg';\nimport importLibrarySvg from './../assets/svg-icons/import_library.svg';\n\nimport undoSvg from './../assets/svg-icons/undo.svg';\nimport redoSvg from './../assets/svg-icons/redo.svg';\n\nimport floorplanTabSvg from './../assets/svg-icons/tab_floorplan.svg';\nimport shadingTabSvg from './../assets/svg-icons/tab_shading.svg';\nimport assignTabSvg from './../assets/svg-icons/tab_assign.svg';\nimport componentsTabSvg from './../assets/svg-icons/tab_components.svg';\n\nimport toolDrawRectangleSvg from './../assets/svg-icons/tool_draw_rectangle.svg';\nimport toolDrawPolygonSvg from './../assets/svg-icons/tool_draw_polygon.svg';\nimport toolEraseSvg from './../assets/svg-icons/tool_erase.svg';\nimport toolMoveSizeSvg from './../assets/svg-icons/tool_move_size.svg';\nimport toolColorSvg from './../assets/svg-icons/tool_color.svg';\nimport toolImageSvg from './../assets/svg-icons/image_icon.svg';\nimport toolFillSvg from './../assets/svg-icons/fill_icon.svg';\nimport toolPlaceComponent from './../assets/svg-icons/lego_brick_icon.svg';\n\nimport ZoomToFitSvg from './../assets/svg-icons/zoom_to_fit.svg';\nimport zoomInSvg from './../assets/svg-icons/zoom_in.svg';\nimport zoomOutSvg from './../assets/svg-icons/zoom_out.svg';\nimport panSvg from './../assets/svg-icons/pan.svg';\nimport addImage from './../assets/svg-icons/add_image.svg';\nimport GroundPropertiesIcon from './../assets/svg-icons/ground_props_icon.svg';\n\nimport ComponentsWindow from './../assets/svg-icons/components_window.svg';\nimport ComponentsDaylighting from './../assets/svg-icons/components_daylighting.svg';\n\nconst ComponentIcon = {\n  name: 'ComponentIcon',\n  props: ['which'],\n  template: `\n    <ComponentsWindow v-if=\"which === 'window_definitions'\" class=\"button\" />\n    <ComponentsDaylighting v-else-if=\"which === 'daylighting_control_definitions'\" class=\"button\" />\n  `,\n  components: {\n    ComponentsWindow,\n    ComponentsDaylighting,\n  },\n};\n\nimport AssignBldgModule from './../assets/svg-icons/assign_bldgmodule.svg';\nimport AssignConstructions from './../assets/svg-icons/assign_constructions.svg';\nimport AssignActivity from './../assets/svg-icons/assign_activity.svg';\nimport AssignThermalZone from './../assets/svg-icons/assign_thermalzone.svg';\nimport AssignRoof from './../assets/svg-icons/assign_roof.svg';\n\nconst AssignSpacePropIcon = {\n  name: 'AssignSpacePropIcon',\n  props: ['which'],\n  template: `\n    <AssignBldgModule v-if=\"which === 'building_units'\" class=\"button\" />\n    <AssignThermalZone v-else-if=\"which === 'thermal_zones'\" class=\"button\" />\n    <AssignActivity v-else-if=\"which === 'space_types'\" class=\"button\" />\n    <AssignRoof v-else-if=\"which === 'pitched_roofs'\" class=\"button\" />\n  `,\n  components: {\n    AssignBldgModule,\n    AssignThermalZone,\n    AssignActivity,\n    AssignRoof,\n  },\n};\n\nimport QuickstartIconNewMapFloorplan from './../assets/svg-icons/quickstart_icon_new_map_floorplan.svg';\nimport QuickstartIconNewFloorplan from './../assets/svg-icons/quickstart_icon_newfloorplan.svg';\nimport QuickstartIconOpenFloorplan from './../assets/svg-icons/quickstart_icon_openfloorplan.svg';\n\nimport InfoIcon from './../assets/svg-icons/info_icon.svg';\nimport SettingsGear from './../assets/svg-icons/settings_gear.svg';\n\nexport default {\n  'open-floorplan-svg': openFloorplanSvg,\n  'save-floorplan-svg': saveFloorplanSvg,\n  'import-library-svg': importLibrarySvg,\n  'undo-svg': undoSvg,\n  'redo-svg': redoSvg,\n  'tab-floorplan-svg': floorplanTabSvg,\n  'tab-shading-svg': shadingTabSvg,\n  'tab-assign-svg': assignTabSvg,\n  'tab-components-svg': componentsTabSvg,\n\n  'tool-color-svg': toolColorSvg,\n  'tool-draw-rectangle-svg': toolDrawRectangleSvg,\n  'tool-draw-polygon-svg': toolDrawPolygonSvg,\n  'tool-erase-svg': toolEraseSvg,\n  'tool-move-size-svg': toolMoveSizeSvg,\n  'tool-image-svg': toolImageSvg,\n  'tool-fill-svg': toolFillSvg,\n  'tool-component-svg': toolPlaceComponent,\n\n  'zoom-in-svg': zoomInSvg,\n  'zoom-out-svg': zoomOutSvg,\n  'pan-svg': panSvg,\n  'add-image': addImage,\n  ZoomToFitSvg,\n\n  ComponentIcon,\n  AssignSpacePropIcon,\n\n  QuickstartIconNewMapFloorplan,\n  QuickstartIconNewFloorplan,\n  QuickstartIconOpenFloorplan,\n\n  InfoIcon,\n  SettingsGear,\n  GroundPropertiesIcon,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/svgs.js","import _ from 'lodash';\nimport geometryHelpers from './../helpers';\nimport { snapWindowToEdge, snapToVertexWithinFace, windowLocation } from '../../../../components/Grid/snapping';\n\nfunction facesContainingEdge(faces, edge_id) {\n  const containingFaces = [];\n  for (let face of faces) {\n    for (let edge of face.edges) {\n      if (edge.id === edge_id) {\n        containingFaces.push(face);\n        break;\n      }\n    }\n  }\n\n  return containingFaces;\n}\n\nfunction componentsOnStory(state, geometry_id) {\n  const\n    geom = geometryHelpers.denormalize(state.geometry.find(g => g.id === geometry_id)),\n    story = state.models.stories.find(s => s.geometry_id === geometry_id);\n\n  const perFaceComponents = story.spaces.map(space => ({\n    daylighting_controls: space.daylighting_controls\n      .map(d => ({ ...d, vertex: _.find(geom.vertices, { id: d.vertex_id }) })),\n    space_id: space.id,\n    face_id: space.face_id,\n  }));\n  return {\n    geometry_id,\n    story_id: story.id,\n    windows: story.windows\n      .map((w) => {\n        const\n          edge = _.find(geom.edges, { id: w.edge_id }),\n          faces = facesContainingEdge(geom.faces, w.edge_id);\n        return {\n          ...w,\n          originalLoc: windowLocation(edge, w),\n          originalFaceIds: _.map(faces, 'id'),\n        };\n      }),\n    doors: story.doors\n      .map((d) => {\n        const\n          edge = _.find(geom.edges, { id: d.edge_id }),\n          faces = facesContainingEdge(geom.faces, d.edge_id);\n        return {\n          ...d,\n          originalLoc: windowLocation(edge, d),\n          originalFaceIds: _.map(faces, 'id'),\n        };\n      }),\n    perFaceComponents,\n  };\n}\n\nfunction replaceComponents(\n  context,\n  components,\n  movementsByFaceId = {},\n) {\n  const\n    { geometry_id, story_id, windows, doors, perFaceComponents } = components,\n    geometry = geometryHelpers.denormalize(_.find(context.rootState.geometry, { id: geometry_id })),\n    story = _.find(context.rootState.models.stories, { id: story_id }),\n    spaceFaces = geometry.faces.filter(f => _.find(story.spaces, { face_id: f.id })),\n    spacing = context.rootState.project.grid.spacing;\n\n  context.dispatch('models/destroyAllComponents', { story_id }, { root: true });\n\n  const edgesPresentOnFaces = _.flatMap(spaceFaces, 'edges');\n  /**\n   * Replaces all windows or doors.  Batches everything together.\n   * This is probably intended to verify that all windows and doors are in a good state after modifying the edges\n   *\n   * @param {*} arr Array of windows or doors to be replaced\n   * @param {'Window' | 'Door'} windowOrDoor \n   */\n  const replaceWindowOrDoor = (arr, windowOrDoor) => {\n    const windowsOrDoors = [];\n    arr.forEach((w) => {\n      const\n        { dx, dy } = movementsByFaceId[w.originalFaceIds[0]] || { dx: 0, dy: 0 },\n        newLoc = { x: w.originalLoc.x + dx, y: w.originalLoc.y + dy },\n        loc = snapWindowToEdge(/* snapMode */ 'nonstrict', edgesPresentOnFaces, newLoc, { width: 1 }, spacing / 4);\n      if (!loc) { return; }\n\n      const facesWithEdge = facesContainingEdge(spaceFaces, loc.edge_id).map(f => f.id);\n      if (w.originalFaceIds.length !== facesWithEdge.length ||\n          (w.originalFaceIds.length > 1 && _.intersection(Object.keys(movementsByFaceId), w.originalFaceIds))) {\n        // Suppose we add some windows to an edge that's shared between two spaces.\n        // What happens when we move one of the spaces?\n        // Should we just duplicate the windows?\n\n        // dan's response:\n        // Remove that window.\n        // also, if you have a window on an exterior wall, then draw another space\n        // so it becomes interior, id delete the window too.\n        return;\n      }\n\n      windowsOrDoors.push({\n        story_id,\n        edge_id: loc.edge_id,\n        alpha: loc.alpha,\n        [`${windowOrDoor.toLowerCase()}_definition_id`]: w.window_definition_id || w.door_definition_id,\n      });\n    });\n\n    context.dispatch(`models/create${windowOrDoor}s`, windowsOrDoors, { root: true });\n  };\n\n  replaceWindowOrDoor(windows, 'Window');\n  replaceWindowOrDoor(doors, 'Door');\n\n  perFaceComponents.forEach(({ face_id, daylighting_controls }) => {\n    daylighting_controls.forEach((d) => {\n      const\n        { dx, dy } = movementsByFaceId[face_id] || { dx: 0, dy: 0 },\n        newLoc = { x: d.vertex.x + dx, y: d.vertex.y + dy },\n        loc = snapToVertexWithinFace(/* snapMode */ 'nonstrict', spaceFaces, newLoc, spacing / 4);\n      if (!loc) { return; }\n\n      context.dispatch('models/createDaylightingControl', {\n        daylighting_control_definition_id: d.daylighting_control_definition_id,\n        x: loc.x,\n        y: loc.y,\n        story_id,\n        face_id: loc.face_id,\n      }, { root: true });\n    });\n  });\n}\n\nexport function withPreservedComponents(...args) {\n  let context, geometry_id, action, movementsByFaceId;\n  if (args.length === 3) {\n    [context, geometry_id, action] = args;\n    movementsByFaceId = {};\n  } else if (args.length === 4) {\n    [context, geometry_id, movementsByFaceId, action] = args;\n  } else {\n    throw new Error('usage: withPreservedComponents(context, geometry_id, action [,movementsByFaceId])');\n  }\n\n  const components = componentsOnStory(context.rootState, geometry_id);\n  action();\n  replaceComponents(context, components, movementsByFaceId);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/actions/componentPreservationSociety.js","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nexport default {\n  namespaced: true,\n  state: {\n    // project\n    config: {\n      units: 'ip',\n      unitsEditable: true,\n      language: 'EN-US',\n    },\n    north_axis: 0,\n    ground: {\n      floor_offset: 0,\n      azimuth_angle: 0,\n      tilt_slope: 0,\n    },\n    grid: {\n      visible: true,\n      spacing: 5,\n    },\n    view: {\n      // grid boundaties in rwu\n      min_x: -250,\n      min_y: -150,\n      max_x: 250,\n      max_y: 150,\n    },\n    map: {\n      initialized: false,\n      enabled: true,\n      visible: true,\n      latitude: 39.7653,\n      longitude: -104.9863,\n      zoom: 4.5, // 18,\n      rotation: 0, //.791,\n      elevation: 0\n    },\n    previous_story: {\n      visible: true\n    },\n    show_import_export: true,\n  },\n  actions: actions,\n  mutations: mutations,\n  getters: getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/project/index.js","module.exports = {\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"version\":\"0.7.0\",\"description\":\"Comment describing your JSON Schema\",\"type\":\"object\",\"properties\":{\"version\":{\"description\":\"File format version\",\"type\":\"string\"},\"application\":{\"$ref\":\"#/definitions/Application\"},\"project\":{\"$ref\":\"#/definitions/Project\"},\"stories\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Story\"}},\"building_units\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/BuildingUnit\"}},\"thermal_zones\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/ThermalZone\"}},\"space_types\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/SpaceType\"}},\"construction_sets\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/ConstructionSet\"}},\"window_definitions\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/WindowDefinition\"}},\"door_definitions\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/DoorDefinition\"}},\"daylighting_control_definitions\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/DaylightingControlDefinition\"}},\"pitched_roofs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/PitchedRoof\"}}},\"required\":[\"version\",\"application\",\"project\",\"stories\",\"building_units\",\"thermal_zones\",\"space_types\",\"construction_sets\",\"window_definitions\",\"door_definitions\",\"daylighting_control_definitions\",\"pitched_roofs\"],\"definitions\":{\"Application\":{\"description\":\"Reserved for application data, not for external use\",\"type\":\"object\"},\"Project\":{\"description\":\"Information that applies to the entire project\",\"type\":\"object\",\"properties\":{\"config\":{\"type\":\"object\",\"properties\":{\"units\":{\"type\":[\"string\",\"null\"],\"enum\":[\"ip\",\"si\"],\"default\":\"ip\"},\"language\":{\"type\":[\"string\",\"null\"],\"default\":\"EN-US\"}},\"required\":[\"units\",\"language\"]},\"north_axis\":{\"description\":\"Angle between building north and true north in degrees (clockwise is positive)\",\"type\":[\"number\",\"null\"],\"default\":0,\"si_units\":\"deg\",\"ip_units\":\"deg\"},\"ground\":{\"type\":\"object\",\"properties\":{\"floor_offset\":{\"description\":\"Specifies the vertical offset between the building floor and the ground plane. Use a value < 0 for buildings with below-grade spaces, or a value > 0 for, e.g., buildings on piers.\",\"type\":[\"number\",\"null\"],\"default\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"azimuth_angle\":{\"description\":\"Direction of the ground plane, in clockwise degrees from the positive y-axis when viewed from above.\",\"type\":[\"number\",\"null\"],\"default\":0,\"si_units\":\"deg\",\"ip_units\":\"deg\"},\"tilt_slope\":{\"description\":\"Slope of the ground plane from horizontal. For example, a value of 1 implies a 45-deg angle.\",\"type\":[\"number\",\"null\"],\"default\":0}},\"required\":[\"floor_offset\",\"azimuth_angle\",\"tilt_slope\"]},\"grid\":{\"type\":\"object\",\"properties\":{\"visible\":{\"type\":[\"boolean\",\"null\"]},\"spacing\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"}},\"required\":[\"visible\",\"spacing\"]},\"view\":{\"type\":\"object\",\"properties\":{\"min_x\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"min_y\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"max_x\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"max_y\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"}},\"required\":[\"min_x\",\"min_y\",\"max_x\",\"max_y\"]},\"map\":{\"type\":\"object\",\"properties\":{\"visible\":{\"type\":[\"boolean\",\"null\"]},\"latitude\":{\"type\":[\"number\",\"null\"]},\"longitude\":{\"type\":[\"number\",\"null\"]},\"zoom\":{\"type\":[\"number\",\"null\"]},\"elevation\":{\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"enabled\":{\"type\":[\"boolean\",\"null\"]},\"initialized\":{\"type\":[\"boolean\",\"null\"]},\"rotation\":{\"type\":[\"number\",\"null\"],\"si_units\":\"deg\",\"ip_units\":\"deg\"}},\"required\":[\"visible\",\"latitude\",\"longitude\",\"zoom\",\"elevation\",\"enabled\",\"initialized\",\"rotation\"]},\"previous_story\":{\"type\":\"object\",\"properties\":{\"visible\":{\"type\":[\"boolean\",\"null\"]}},\"required\":[\"visible\"]},\"show_import_export\":{\"type\":[\"boolean\",\"null\"]}},\"required\":[\"config\",\"north_axis\",\"ground\",\"grid\",\"view\",\"map\",\"previous_story\",\"show_import_export\"]},\"Geometry\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"vertices\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Vertex\"}},\"edges\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Edge\"}},\"faces\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Face\"}}},\"required\":[\"id\",\"vertices\",\"edges\",\"faces\"]},\"Vertex\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"x\":{\"type\":\"number\",\"si_units\":\"m\",\"ip_units\":\"ft\"},\"y\":{\"type\":\"number\",\"si_units\":\"m\",\"ip_units\":\"ft\"},\"edge_ids\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"id\",\"x\",\"y\",\"edge_ids\"]},\"Edge\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"vertex_ids\":{\"type\":\"array\",\"minItems\":2,\"maxItems\":2,\"uniqueItems\":true,\"items\":{\"type\":\"string\"}},\"face_ids\":{\"type\":\"array\",\"minItems\":1,\"maxItems\":2,\"items\":{\"type\":\"string\"}}},\"required\":[\"id\",\"vertex_ids\",\"face_ids\"]},\"Face\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"edge_ids\":{\"type\":\"array\",\"minItems\":3,\"items\":{\"type\":\"string\"}},\"edge_order\":{\"type\":\"array\",\"minItems\":3,\"items\":{\"type\":\"number\",\"enum\":[0,1]}}},\"required\":[\"id\",\"edge_ids\",\"edge_order\"]},\"Story\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"image_visible\":{\"type\":[\"boolean\",\"null\"],\"default\":true},\"below_floor_plenum_height\":{\"type\":[\"number\",\"null\"],\"minimum\":0,\"default\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"floor_to_ceiling_height\":{\"type\":[\"number\",\"null\"],\"minimum\":0,\"default\":8,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"above_ceiling_plenum_height\":{\"type\":[\"number\",\"null\"],\"minimum\":0,\"default\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"multiplier\":{\"type\":[\"integer\",\"null\"],\"minimum\":1,\"multipleOf\":1,\"default\":1},\"color\":{\"$ref\":\"#/definitions/HexColor\"},\"geometry\":{\"$ref\":\"#/definitions/Geometry\"},\"images\":{\"type\":\"array\"},\"spaces\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Space\"}},\"shading\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Shading\"}},\"windows\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"window_definition_id\":{\"type\":\"string\"},\"edge_id\":{\"type\":\"string\"},\"alpha\":{\"description\":\"Distance along edge to center point of window, starting from first vertex of edge at a = 0 and ending at second vertex of edge at a =1.  v = v1 + a*(v2-v1).  Does not apply if window_definition_mode is \\\"Window to Wall Ratio\\\". Will be an array of such values if window_definition_mode is \\\"Repeating Windows\\\".\",\"type\":[\"array\",\"number\",\"null\"],\"minimum\":0,\"maximum\":1,\"items\":{\"type\":\"number\",\"minimum\":0,\"maximum\":1}}},\"required\":[\"window_definition_id\",\"edge_id\",\"alpha\"]}},\"doors\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"door_definition_id\":{\"type\":\"string\"},\"edge_id\":{\"type\":\"string\"},\"alpha\":{\"description\":\"Distance along edge to center point of door, starting from first vertex of edge at a = 0 and ending at second vertex of edge at a =1.  v = v1 + a*(v2-v1). \",\"type\":\"number\",\"minimum\":0,\"maximum\":1}},\"required\":[\"door_definition_id\",\"edge_id\",\"alpha\"]}}},\"required\":[\"id\",\"handle\",\"name\",\"image_visible\",\"below_floor_plenum_height\",\"floor_to_ceiling_height\",\"above_ceiling_plenum_height\",\"multiplier\",\"color\",\"geometry\",\"images\",\"spaces\",\"shading\",\"windows\",\"doors\"]},\"Space\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"face_id\":{\"type\":[\"string\",\"null\"]},\"building_unit_id\":{\"type\":[\"string\",\"null\"]},\"thermal_zone_id\":{\"type\":[\"string\",\"null\"]},\"space_type_id\":{\"type\":[\"string\",\"null\"]},\"construction_set_id\":{\"type\":[\"string\",\"null\"]},\"pitched_roof_id\":{\"type\":[\"string\",\"null\"]},\"daylighting_controls\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"daylighting_control_definition_id\":{\"type\":\"string\"},\"vertex_id\":{\"type\":\"string\"}},\"required\":[\"daylighting_control_definition_id\",\"vertex_id\"]}},\"below_floor_plenum_height\":{\"description\":\"If provided, overrides the story below_floor_plenum_height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"floor_to_ceiling_height\":{\"description\":\"If provided, overrides the story floor_to_ceiling_height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"above_ceiling_plenum_height\":{\"description\":\"If provided, overrides the story above_ceiling_plenum_height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"floor_offset\":{\"description\":\"If provided, specifies the vertical offset between the space floor and the story floor.\",\"type\":[\"number\",\"null\"],\"si_units\":\"m\",\"ip_units\":\"ft\"},\"open_to_below\":{\"description\":\"If true, defines a space that is open to below (has no floor).\",\"type\":[\"boolean\",\"null\"]},\"building_type_id\":{\"description\":\"Standard space type\",\"type\":[\"string\",\"null\"]},\"template\":{\"description\":\"Template for the space to follow\",\"type\":[\"string\",\"null\"]}},\"required\":[\"id\",\"handle\",\"name\",\"face_id\",\"building_unit_id\",\"thermal_zone_id\",\"space_type_id\",\"construction_set_id\",\"pitched_roof_id\",\"daylighting_controls\",\"below_floor_plenum_height\",\"floor_to_ceiling_height\",\"above_ceiling_plenum_height\",\"floor_offset\",\"open_to_below\",\"building_type_id\",\"template\"]},\"Shading\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"face_id\":{\"type\":[\"string\",\"null\"]}},\"required\":[\"id\",\"handle\",\"name\",\"face_id\"]},\"ThermalZone\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"color\":{\"$ref\":\"#/definitions/HexColor\"}},\"required\":[\"id\",\"handle\",\"name\",\"color\"]},\"SpaceType\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"color\":{\"$ref\":\"#/definitions/HexColor\"}},\"required\":[\"id\",\"handle\",\"name\",\"color\"]},\"BuildingUnit\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]},\"color\":{\"$ref\":\"#/definitions/HexColor\"}},\"required\":[\"id\",\"handle\",\"name\",\"color\"]},\"ConstructionSet\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"handle\":{\"type\":[\"string\",\"null\"]},\"name\":{\"type\":[\"string\",\"null\"]}},\"required\":[\"id\",\"handle\",\"name\"]},\"WindowDefinition\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":[\"string\",\"null\"]},\"window_definition_mode\":{\"type\":\"string\",\"enum\":[\"Single Window\",\"Repeating Windows\",\"Window to Wall Ratio\"],\"default\":\"Single Window\"},\"wwr\":{\"description\":\"Target window to wall ratio, only used if window_definition_mode is \\\"Window to Wall Ratio\\\"\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"maximum\":1,\"exclusiveMaximum\":true,\"default\":0.2},\"sill_height\":{\"description\":\"Vertical distance from the floor to the window sill. In drawing units.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":3,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"window_spacing\":{\"description\":\"Spacing between windows.  Only used if window_definition_mode is  \\\"Repeating Windows\\\".\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":4,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"height\":{\"description\":\"Vertical height of each window. In drawing units. Used if window_definition_mode is \\\"Single Window\\\" or \\\"Repeating Windows\\\".\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":4,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"width\":{\"description\":\"Horizontal width of each window. In drawing units. Used if window_definition_mode is \\\"Single Window\\\" or \\\"Repeating Windows\\\".\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":2,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"window_type\":{\"type\":\"string\",\"enum\":[\"Fixed\",\"Operable\"],\"default\":\"Fixed\"},\"overhang_projection_factor\":{\"description\":\"Projection factor for overhangs, set to null for no overhang.  Overhang depth = overhang_projection_factor*height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":null},\"fin_projection_factor\":{\"description\":\"Projection factor for fins, set to null for no overhang. Projection factor for overhangs, set to null for no overhang.  Fin depth = fin_projection_factor*height.\",\"type\":[\"number\",\"null\"],\"minimum\":0,\"exclusiveMinimum\":true,\"default\":null},\"texture\":{\"description\":\"Internal attribute representing how this window group is displayed. Applies only if window_definition_mode is \\\"Window to Wall Ratio\\\".\",\"type\":[\"string\",\"null\"],\"default\":null}},\"required\":[\"id\",\"name\",\"window_definition_mode\",\"wwr\",\"sill_height\",\"window_spacing\",\"height\",\"width\",\"window_type\",\"overhang_projection_factor\",\"fin_projection_factor\"]},\"DoorDefinition\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":[\"string\",\"null\"]},\"height\":{\"description\":\"Vertical height of each door. In drawing units.\",\"type\":\"number\",\"minimum\":0,\"exclusiveMinimum\":true,\"default\":6.67,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"width\":{\"description\":\"Horizontal width of each door. In drawing units.\",\"type\":\"number\",\"minimum\":0,\"exclusiveMinimum\":true,\"default\":3,\"si_units\":\"m\",\"ip_units\":\"ft\"},\"door_type\":{\"type\":\"string\",\"enum\":[\"Door\",\"Glass Door\",\"Overhead Door\"],\"default\":\"Door\"}},\"required\":[\"id\",\"name\",\"height\",\"width\",\"door_type\"]},\"DaylightingControlDefinition\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":[\"string\",\"null\"]},\"illuminance_setpoint\":{\"description\":\"Setpoint for daylighting control.\",\"type\":\"number\",\"default\":300,\"si_units\":\"lux\",\"ip_units\":\"fc\"},\"height\":{\"description\":\"Vertical distance of sensor above floor.  In drawing units.\",\"type\":\"number\",\"default\":3,\"si_units\":\"m\",\"ip_units\":\"ft\"}},\"required\":[\"id\",\"name\",\"illuminance_setpoint\",\"height\"]},\"PitchedRoof\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":[\"string\",\"null\"]},\"pitched_roof_type\":{\"type\":\"string\",\"enum\":[\"Gable\",\"Hip\",\"Shed\"],\"default\":\"Gable\"},\"pitch\":{\"description\":\"Pitch of roof. A value of 6, for example, implies a 6 in 12 pitch (or 26.57 degrees).\",\"type\":\"number\",\"minimum\":0,\"default\":6},\"shed_direction\":{\"description\":\"Direction of shed roof, from low edge to high edge, in clockwise degrees from the positive y-axis when viewed from above.\",\"type\":[\"number\",\"null\"],\"default\":0,\"si_units\":\"deg\",\"ip_units\":\"deg\"},\"color\":{\"$ref\":\"#/definitions/HexColor\"}},\"required\":[\"id\",\"name\",\"pitched_roof_type\",\"pitch\",\"shed_direction\",\"color\"]},\"HexColor\":{\"type\":[\"string\",\"null\"],\"pattern\":\"^#[a-fA-F0-9]{6}$\"}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./schema/geometry_schema.json\n// module id = 244\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-14ece691&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GenericInput.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GenericInput.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-14ece691!../../node_modules/vue-loader/lib/selector?type=template&index=0!./GenericInput.vue\"),\n  /* scopeId */\n  \"data-v-14ece691\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GenericInput.vue\n// module id = 247\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-21300217!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ColorPickerModal.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ColorPickerModal.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-21300217!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ColorPickerModal.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modals/ColorPickerModal.vue\n// module id = 248\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-20be75f3&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ModalBase.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ModalBase.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-20be75f3!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ModalBase.vue\"),\n  /* scopeId */\n  \"data-v-20be75f3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modals/ModalBase.vue\n// module id = 249\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('switch',[_c('g',[_c('path',{attrs:{\"d\":\"M82.992 97.5h-49.23a3.853 3.853 0 0 1-3.852-3.852V23.101a3.853 3.853 0 0 1 3.852-3.851h49.23a3.853 3.853 0 0 1 3.852 3.851v70.548a3.853 3.853 0 0 1-3.852 3.851zm-45.379-7.703H79.14V26.952H37.613v62.845z\"}}),_c('path',{attrs:{\"d\":\"M25.834 80.751h-8.826a3.854 3.854 0 0 1-3.852-3.852V6.352A3.853 3.853 0 0 1 17.008 2.5h50.523a3.853 3.853 0 0 1 3.852 3.852v8.826H63.68v-4.975H20.859v62.845h4.975v7.703z\"}})])])])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/copy_icon.svg\n// module id = 250\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"data-name\":\"Layer 1\",\"viewBox\":\"0 0 100 100\"}},[_c('title',[_v(\"Artboard 10\")]),_c('path',{attrs:{\"d\":\"M50 18a32 32 0 1 0 32 32 32 32 0 0 0-32-32zm4 49h-8V47h8zm0-26h-8v-8h8z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/info_icon.svg\n// module id = 251\n// module chunks = 2","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n<template>\n    <div id=\"app\"\n      :class=\"`tool_${tool.toLowerCase()}`\">\n        <toolbar :class=\"{ 'disabled-component': tool === 'Map' }\"></toolbar>\n\n        <div id=\"layout-main\" :class=\"{ 'nav-on-top': navigationExpanded }\">\n            <navigation\n              :class=\"{ 'disabled-component': tool === 'Map' }\"\n              @expanded=\"(val) => { navigationExpanded = val; }\"\n            ></navigation>\n\n            <main>\n              <div id=\"alert-text\" v-show=\"error || success\" :class=\"{ error, success }\">\n                  <p>{{ error || success }}</p>\n              </div>\n                <canvas-view></canvas-view>\n                <grid-view></grid-view>\n            </main>\n            <!-- <inspector-view></inspector-view> -->\n        </div>\n        <ImageUpload />\n        <Textures />\n        <PortalTarget name=\"texture-options\" />\n        <PortalTarget name=\"color-picker\" />\n    </div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex';\nimport { PortalTarget } from 'portal-vue';\n\n// this import order is important, if the grid is loaded before the other elements or after the toolbar, it ends up warped\nimport Navigation from './components/Navigation.vue';\nimport Grid from './components/Grid/Grid.vue';\nimport Canvas from './components/Canvas/Canvas.vue';\nimport Toolbar from './components/Toolbar.vue';\nimport ImageUpload from './components/ImageUpload.vue';\nimport ColorPickerModal from './components/Modals/ColorPickerModal.vue';\nimport Inspector from './components/Inspector.vue';\nimport Textures from './components/Textures.vue';\n\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      error: null,\n      success: null,\n      navigationExpanded: false,\n    };\n  },\n  beforeCreate() {\n    this.$store.dispatch('models/initStory');\n  },\n  mounted() {\n\n    window.eventBus.$on('error', (err) => {\n      this.error = err;\n      setTimeout(() => { this.error = null; }, 5000);\n    });\n    window.eventBus.$on('success', (msg) => {\n      this.success = msg;\n      setTimeout(() => { this.success = null; }, 5000);\n    });\n    window.eventBus.$on('reload-grid', () => {\n      // This is unfortunate. oh well.\n      document.getElementById('svg-grid')\n        .dispatchEvent(new Event('reloadGrid'));\n    });\n\n    document.addEventListener('keydown', (e) => {\n      if (!this.$store.timetravel){\n        return;\n      }\n      if (e.keyCode === 90 && (e.ctrlKey || e.metaKey)) {\n        e.shiftKey ? this.$store.timetravel.redo() : this.$store.timetravel.undo();\n        e.preventDefault();\n      } else if (e.keyCode == 89 && (e.ctrlKey || e.metaKey)){\n        this.$store.timetravel.redo();\n        e.preventDefault();\n      }\n    });\n  },\n\n  computed: {\n    ...mapState({ tool: state => state.application.currentSelections.tool }),\n  },\n  components: {\n    'grid-view': Grid,\n    'canvas-view': Canvas,\n    'inspector-view': Inspector,\n    navigation: Navigation,\n    toolbar: Toolbar,\n    ImageUpload,\n    Textures,\n    PortalTarget,\n    ColorPickerModal,\n  },\n};\n</script>\n\n<style src=\"./scss/main.scss\" lang=\"scss\"></style>\n<style lang=\"scss\" scoped>\n@import \"./scss/config\";\n.tool_rectangle, .tool_polygon, .tool_eraser {\n  #grid {\n    cursor: crosshair;\n  }\n}\n.tool_drag {\n  cursor: move;\n}\n#alert-text {\n    position: absolute;\n    top: 1rem;\n    left: 0;\n    right: 0;\n    text-align: center;\n    z-index: 3;\n\n    p {\n        color: $white;\n        padding: 2px 4px;\n        margin: 10px;\n        border: 2px solid $gray-darkest;\n        display: inline-block;\n    }\n    &.success p {\n      background: $primary;\n    }\n    &.error p {\n      background: $secondary;\n    }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?b9c0bb84","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n<template>\n    <div id=\"canvas\" ref=\"canvas\">\n        <svg id=\"north_axis\" height=\"1792\" viewBox=\"0 0 1792 1792\" width=\"1792\" xmlns=\"http://www.w3.org/2000/svg\" :transform=\"`rotate(${northAxis})`\">\n          <path d=\"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z\"/>\n        </svg>\n        <map-view v-if=\"mapEnabled\" v-show=\"mapVisible\"></map-view>\n    </div>\n</template>\n\n<script>\n\n// this import order is important, if the grid is loaded before the other elements or after the toolbar, it ends up warped\n\nimport MapView from './Map'\n\nimport { mapState } from 'vuex'\n\nexport default {\n    name: 'app',\n    data () { return {}; },\n    computed: {\n        ...mapState({\n            mapEnabled: state => state.project.map.enabled,\n            mapVisible: state => state.project.map.visible,\n            northAxis: state => state.project.north_axis,\n        })\n    },\n    components: {\n        'map-view': MapView,\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\nsvg#north_axis {\n  height: 2.25rem;\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  width: 3rem;\n  z-index: 1;\n}\n#canvas {\n    background: white;\n    height: 100%;\n    width: 100%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Canvas.vue?f5976672","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n    <div id=\"map-container\">\n        <div id=\"map\" ref=\"map\" :style=\"{ 'pointer-events': tool === 'Map' ? 'all': 'none' }\"></div>\n\n        <div v-show=\"tool === 'Map'\" id=\"autocomplete\">\n            <span class=\"input-text\">\n                <input ref=\"addressSearch\" type=\"text\" placeholder=\"Search for a location\"/>\n            </span>\n        </div>\n        <div v-show=\"tool === 'Map'\" id=\"help-text\">\n            <p>Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.</p>\n            <button @click=\"finishSetup\">Done</button>\n        </div>\n\n        <map-modal v-if=\"mapModalVisible && !mapInitialized\" @close=\"mapModalVisible = false; showReticle()\"></map-modal>\n        <svg id=\"reticle\"></svg>\n    </div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex';\nimport { ResizeEvents } from 'src/components/Resize'\nimport MapModal from 'src/components/Modals/MapModal'\n\nconst googleMaps = require('google-maps-api')('AIzaSyDIja3lnhq63SxukBm9_mA-jn5R0Bj9RN8', ['places']);\nconst ol = require('openlayers');\nconst d3 = require('d3');\n\nexport default {\n  name: 'map-view',\n  data() {\n    return {\n      view: null,\n      map: null,\n      startResolution: null,\n      autocomplete: null,\n      mapModalVisible: window.api ? window.api.config.showMapDialogOnStart : true,\n      showGrid: false,\n    };\n  },\n\n  /*\n  * load the openlayers map, google maps autocomplete, and register a listener for view resizing\n  */\n  mounted() {\n    this.showGrid = this.gridVisible;\n\n    this.initAutoComplete();\n    this.loadMap();\n    ResizeEvents.$on('resize', this.updateMapView);\n    window.eventBus.$on('boundsResolved', this.clearStartResolution);\n  },\n\n  /*\n  * remove listener for view resizing\n  */\n  beforeDestroy() {\n    ResizeEvents.$off('resize', this.updateMapView);\n    window.eventBus.$off('boundsResolved', this.clearStartResolution);\n  },\n\n  methods: {\n    clearStartResolution() {\n      this.startResolution = null;\n      this.updateMapView();\n    },\n    /*\n    * Asynchronously load google maps autocomplete\n    * attatch to address search field\n    */\n    initAutoComplete() {\n      googleMaps().then((maps) => {\n        // attatch to address search field\n        const autocomplete = new maps.places.Autocomplete(this.$refs.addressSearch);\n        // when an address is selected from the dropdown update the component lat/long coordinates\n        autocomplete.addListener('place_changed', () => {\n          // check that the selected place has associated lat/log data\n          const place = autocomplete.getPlace();\n          if (place.geometry) {\n            this.latitude = place.geometry.location.lat();\n            this.longitude = place.geometry.location.lng();\n            this.updateMapView();\n          }\n        });\n      });\n    },\n\n    /*\n    * empty the map element and (re)load openlayers map canvas inside of it\n    */\n    loadMap() {\n      window.ol = ol;\n      this.$refs.map.innerHTML = '';\n      this.view = new ol.View();\n      this.map = new ol.Map({\n        layers: [new ol.layer.Tile({ source: new ol.source.OSM() })],\n        target: 'map',\n        view: this.view,\n      });\n      this.view.on('propertychange', (e) => {\n        if (e.key === 'rotation') {\n          this.rotation = this.view.getRotation();\n        }\n      });\n\n      this.updateMapView();\n      // this.view.getCenter() is not always available at first render.\n      // this seems to fix some problems with scale *shrug*\n      _.defer(() => this.updateMapView());\n    },\n\n    /*\n    * position the map\n    */\n    updateMapView() {\n      console.log('updateMapView');\n      this.map.updateSize();\n\n      // current long/lat map position in meters\n      const mapCenter = ol.proj.fromLonLat([this.longitude, this.latitude]);\n\n      let resolution = this.unAdjustedResolution;\n      let deltaY = this.unAdjustedDelta.y;\n      let deltaX = this.unAdjustedDelta.x;\n      // Web Mercator projections use different resolutions at different latitudes\n      // if the map has been placed, adjust the values for the current latitude\n      if (this.view.getCenter()) {\n        this.startResolution = this.startResolution || ol.proj.getPointResolution(this.view.getProjection(), this.view.getResolution(), this.view.getCenter());\n        const resolutionAdjustment = 1 / ol.proj.getPointResolution(this.view.getProjection(), 1, this.view.getCenter());\n\n        resolution *= resolutionAdjustment;\n        deltaY *= resolutionAdjustment;\n        deltaX *= resolutionAdjustment;\n      }\n\n      // adjust map position based on size of grid\n      mapCenter[0] += deltaY;\n      mapCenter[1] += deltaX;\n\n      this.view.setResolution(resolution);\n      this.view.setCenter(mapCenter);\n      this.view.setRotation(this.rotation);\n    },\n\n    /*\n    * after the user places the map, save the latitude, longitude, and rotation\n    */\n    finishSetup() {\n      const center = ol.proj.transform(this.view.getCenter(), 'EPSG:3857', 'EPSG:4326')\n      this.longitude = center[0];\n      this.latitude = center[1];\n\n      const resolution = ol.proj.getPointResolution(this.view.getProjection(), this.view.getResolution(), this.view.getCenter());\n      const scale = this.startResolution / resolution;\n      console.log(`scaling to ${this.startResolution} / ${resolution} == ${scale}`);\n      window.eventBus.$emit('scaleTo', scale);\n\n      this.rotation = this.view.getRotation();\n\n      this.$store.dispatch('project/setMapInitialized', { initialized: true });\n\n      this.tool = 'Rectangle';\n\n      // remove reticle\n      d3.select('#reticle').remove();\n\n      this.gridVisible = this.showGrid;\n    },\n\n    /*\n    * render an svg reticle, hide the grid\n    */\n    showReticle() {\n      if (this.tool !== 'Map') { return; }\n      // hide grid\n      this.gridVisible = false;\n\n      // draw reticle\n      const size = 100;\n      const x = this.$refs.map.clientWidth / 2;\n      const y = this.$refs.map.clientHeight / 2;\n\n      d3.select('#reticle')\n        .selectAll('#reticle path')\n        .data([\n          [{ x, y: y - size }, { x, y: y + size }],\n          [{ x: x - size, y }, { x: x + size, y }],\n        ])\n        .enter()\n        .append('path')\n        .attr('stroke-width', '1')\n        .attr('stroke', 'gray')\n        .attr('d', d3.line().x(d => d.x).y(d => d.y));\n    },\n  },\n  computed: {\n    ...mapState({\n      projectView: state => state.project.view,\n      min_x: state => state.project.view.min_x,\n      max_x: state => state.project.view.max_x,\n      min_y: state => state.project.view.min_y,\n      max_y: state => state.project.view.max_y,\n      units: state => state.project.config.units,\n      mapInitialized: state => state.project.map.initialized,\n    }),\n    mPerFt() { return ol.proj.METERS_PER_UNIT['us-ft']; },\n    unAdjustedResolutionMeters() {\n      // default map resolution RWU/px\n      return (this.max_x - this.min_x) / this.$refs.map.clientWidth;\n    },\n    unAdjustedResolution() {\n      return this.units === 'ip' ? this.mPerFt * this.unAdjustedResolutionMeters : this.unAdjustedResolutionMeters;\n    },\n    gridCenterMeters() {\n      // center of grid in RWU\n      return {\n        x: (this.min_x + this.max_x) / 2,\n        y: (this.min_y + this.max_y) / 2,\n      };\n    },\n    gridCenter() {\n      return this.units === 'ip' ? _.mapValues(this.gridCenterMeters, v => v * this.mPerFt) : this.gridCenterMeters;\n    },\n    unAdjustedDelta() {\n      // openlayers places the center in the bottom left of the screen, so add the grid center (m) to the openlayers center\n      // adjust for rotation\n      // subtract the vertical grid center from the y adjustment because the y axis is inverted\n      const deltaY = ((this.gridCenter.x * Math.cos(this.rotation)) - (this.gridCenter.y * Math.sin(this.rotation)));\n      const deltaX = ((this.gridCenter.y * Math.cos(this.rotation)) + (this.gridCenter.x * Math.sin(this.rotation)));\n      return { x: deltaX, y: deltaY };\n    },\n\n    gridVisible: {\n      get() { return this.$store.state.project.grid.visible; },\n      set(val) { this.$store.dispatch('project/setGridVisible', { visible: val }); },\n    },\n    tool: {\n      get() { return this.$store.state.application.currentSelections.tool; },\n      set(val) { this.$store.dispatch('application/setCurrentTool', { tool: val }); },\n    },\n    latitude: {\n      get() { return this.$store.state.project.map.latitude; },\n      set(val) { this.$store.dispatch('project/setMapLatitude', { latitude: val }); },\n    },\n    longitude: {\n      get() { return this.$store.state.project.map.longitude; },\n      set(val) { this.$store.dispatch('project/setMapLongitude', { longitude: val }); },\n    },\n    rotation: {\n      get() { return this.$store.state.project.map.rotation; },\n      set(val) { this.$store.dispatch('project/setMapRotation', { rotation: val }); },\n    },\n  },\n  watch: {\n    units() { this.updateMapView(); },\n    projectView: {\n      handler() { this.updateMapView(); },\n      deep: true,\n    },\n  },\n  components: {\n    MapModal,\n  },\n};\n\n</script>\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\n\n#map-container {\n    position: relative;\n    height: 100%;\n    width: 100%;\n\n    #map {\n        height: 100%;\n        min-width: 100%;\n    }\n}\n\n#autocomplete {\n    z-index: 100;\n    position: absolute;\n    right: 0;\n    top: 10px;\n\n    > * {\n        float: left;\n        margin-right: 10px;\n    }\n\n    input {\n      &:focus {\n          outline: none;\n      }\n      padding-top: 0.5rem;\n      padding-bottom: 0.5rem;\n      font-size: medium;\n    }\n}\n\n#help-text {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    text-align: center;\n    z-index: 3;\n\n    p {\n        color: $gray-darkest;\n        background: white;\n        padding: 2px 4px;\n        margin: 10px;\n        width: calc(100% - 110px);\n        border: 2px solid $gray-darkest;\n        display: inline-block;\n        // float: left;\n    }\n\n    button {\n      display: inline-block;\n      margin: 10px;\n    }\n}\n\n#reticle {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Map.vue?5b233d53","<template>\n  <EditBar\n    v-if=\"showInstanceEditor\"\n    :row=\"componentInstance\"\n    :columns=\"visibleColumns\"\n    :updateRow=\"modifyComponentInstance\"\n    :destroy=\"destroyComponent\"\n  />\n</template>\n<script>\nimport libconfig from '../store/modules/models/libconfig';\nimport { mapGetters } from 'vuex';\nimport EditBar from './EditBar.vue';\n\nexport default {\n  computed: {\n    ...mapGetters({\n      componentInstance: 'application/currentComponentInstance',\n      currentStory: 'application/currentStory',\n      currentComponent: 'application/currentComponent',\n    }),\n    instanceType() {\n      return this.componentInstance && this.componentInstance.type;\n    },\n    columns() {\n      if (!this.componentInstance) { return []; }\n      return libconfig[this.instanceType].columns;\n    },\n    visibleColumns() {\n      return _.reject(this.columns, 'private');\n    },\n    showInstanceEditor() {\n      return (this.instanceType &&\n        this.currentComponent.type.replace(/_definitions$/, 's') === this.instanceType);\n    },\n  },\n  methods: {\n    destroyComponent() {\n      if (this.instanceType === 'windows') {\n        this.$store.dispatch('models/destroyWindow', { story_id: this.currentStory.id,  object: this.componentInstance });\n      } else if (this.instanceType === 'daylighting_controls') {\n        this.$store.dispatch('models/destroyDaylightingControl', { story_id: this.currentStory.id, object: this.componentInstance });\n      } else if (this.instanceType === 'doors') {\n        this.$store.dispatch('models/destroyDoor', { story_id: this.currentStory.id, object: this.componentInstance });\n      } else {\n        throw new Error(`Unrecognized component type ${this.instanceType}`);\n      }\n    },\n    modifyComponentInstance(id, key, value) {\n      if (this.instanceType === 'windows') {\n        this.$store.dispatch('models/modifyWindow', { id, key, value, story_id: this.currentStory.id });\n      } else if (this.instanceType === 'daylighting_controls') {\n        this.$store.dispatch('models/modifyDaylightingControl', { id, key, value, story_id: this.currentStory.id });\n      } else if (this.instanceType === 'doors') {\n        this.$store.dispatch('models/modifyDoor', { id, key, value, story_id: this.currentStory.id });\n      } else {\n        throw new Error(`unrecognized component mode \"${this.mode}\"`);\n      }\n    },\n  },\n  components: {\n    EditBar,\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ComponentInstanceEditBar.vue?d0f89b0c","<template>\n  <div class=\"edit-bar\">\n    <span v-for=\"col in columns\"\n      :data-column=\"col.name\"\n      :key=\"col.name\"\n    >\n      <GenericInput\n        :col=\"col\"\n        :row=\"row\"\n        :onChange=\"updateRow.bind(null, row.id, col.name)\"\n      />\n    </span>\n    <span class=\"destroy\" @click=\"destroy()\">\n      <Delete class=\"button\" />\n    </span>\n  </div>\n</template>\n<script>\nimport GenericInput from './GenericInput.vue';\nimport Delete from './../assets/svg-icons/delete.svg';\n\n\nexport default {\n  props: ['row', 'columns', 'updateRow', 'destroy'],\n  components: {\n    GenericInput,\n    Delete,\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n.edit-bar {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  > span {\n    margin-right: 4px;\n  }\n\n  input {\n    background-color: $gray-medium;\n    color: $gray-lightest;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    height: 16px;\n    font-size: 12px;\n  }\n\n  .destroy svg {\n    height: 1.3rem;\n    width: 1rem;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// EditBar.vue?71976142","<template>\n  <div\n    class=\"editable-select-list\"\n    :class=\"{ 'expanded': !compact }\"\n    :data-object-type=\"selectedObjectType\"\n  >\n    <div class=\"controls\">\n      <div class=\"control-group\">\n        <PrettySelect v-if=\"objectTypes.length > 1\"\n          @change=\"val => $emit('selectObjectType', val)\"\n          :options=\"objectTypes\"\n          :value=\"selectedObjectType\"\n        />\n        <span v-else>{{ objectTypes[0].display || objectTypes[0].displayName }}</span>\n        <a @click=\"addRow\" v-if=\"addRow\" class=\"add-new\" title=\"Create new\">\n          <AddNew class=\"button\"/>\n        </a>\n      </div>\n      <div class=\"control-group\">\n        <a @click=\"toggleCompact\" :title=\"compact ? 'expand' : 'contract'\">\n          <DoubleArrows\n            class=\"button\"\n            :transform=\"compact ? '' : 'scale(-1, 1)'\"\n          />\n        </a>\n      </div>\n    </div>\n    <div class=\"input-text search-spot\">\n      <input v-if=\"searchAvailable\"\n        v-model=\"search\"\n        class=\"search-bar\"\n        placeholder=\"search\"\n      />\n    </div>\n    <LibrarySelect\n      v-if=\"compact\"\n      :rows=\"searchedRows\"\n      :selectItem=\"selectRow\"\n      :destroyItem=\"destroyRow\"\n      :selectedItemId=\"selectedRowId\"\n      :duplicateRow=\"duplicateRow\"\n    />\n    <EditableTable\n      v-else\n      :selectRow=\"selectRow\"\n      :selectedItemId=\"selectedRowId\"\n      :columns=\"visibleColumns\"\n      :rows=\"searchedRows\"\n      :deleteRow=\"destroyRow\"\n      :updateRow=\"editRow\"\n      :duplicateRow=\"duplicateRow\"\n    />\n  </div>\n</template>\n<script>\nimport EditableTable from './EditableTable.vue';\nimport LibrarySelect from './LibrarySelect.vue';\nimport PrettySelect from './PrettySelect.vue';\nimport DoubleArrows from './../assets/svg-icons/double_arrows.svg';\nimport AddNew from './../assets/svg-icons/add_new.svg';\n\nexport default {\n  name: 'EditableSelectList',\n  props: [\n    'columns', 'rows', 'addRow', 'editRow', 'destroyRow', 'selectRow', 'selectedRowId',\n    'objectTypes', 'selectedObjectType', 'searchAvailable', 'compact', 'duplicateRow',\n  ],\n  data() {\n    return {\n      search: '',\n    };\n  },\n  computed: {\n    visibleColumns() {\n      return _.reject(this.columns, 'private');\n    },\n    searchedRows() {\n      return this.rows.filter(\n        row => _.chain(row)\n          .omit(['color'])\n          .values()\n          .compact()\n          .some(val => val.toLowerCase && val.toLowerCase().includes(this.search.toLowerCase()))\n          .value()\n      );\n    },\n  },\n  methods: {\n    toggleCompact() {\n      this.$emit('toggleCompact', !this.compact)\n    },\n  },\n  watch: {\n    rows(newRows, oldRows) {\n      if (newRows !== oldRows) {\n        // looking at a different array, ignore.\n        return;\n      }\n      if (newRows.length > oldRows.length) {\n        this.selectRow(_.maxBy(this.rows, r => +r.id));\n      }\n    },\n  },\n  components: {\n    EditableTable,\n    LibrarySelect,\n    PrettySelect,\n    DoubleArrows,\n    AddNew,\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n.controls {\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n}\n.control-group {\n  display: flex;\n  align-items: center;\n  svg {\n    margin-top: 4px;\n    width: 1.7rem;\n    height: 1.7rem;\n    margin-left: 4px;\n  }\n}\n.search-spot {\n  height: 2rem;\n  input {\n    height: 1.5rem;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// EditableSelectList.vue?2a8606e1","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <div class=\"editable-table\">\n    <RecycleScroller\n      id=\"recycle-scroller\"\n      class=\"scroller\"\n      :items=\"sortedRows\"\n      @scroll.native=\"wrapperScrollLeft = $event.target.scrollLeft\"\n      :item-size=\"70\"\n    >\n      <template #before>\n        <div\n          id=\"fixedHeader\"\n          class=\"flex-row fixed\"\n          :style=\"{\n            '-webkit-transform': 'translateX(' + -wrapperScrollLeft + 'px)',\n            transform: 'translateX(' + -wrapperScrollLeft + 'px)',\n            'clip-path': `polygon(${wrapperScrollLeft}px 0%, 100% 0%, 100% 100%, ${wrapperScrollLeft}px 100%)`,\n          }\"\n        >\n          <div class=\"checkbox-header\"></div>\n          <div\n            v-for=\"col in visibleColumns\"\n            v-bind:class=\"{ active: sortKey === col.name }\"\n            class=\"headers\"\n            :fixed=\"col.fixed\"\n            :id=\"col.displayName.replace(/\\s/g, '')\"\n            :key=\"col.name\"\n            :data-column=\"col.name\"\n            :prop=\"col.name\"\n            :label=\"col.displayName\"\n            :class-name=\"`column__${col.name}`\"\n            @click=\"sortBy(col.name)\"\n            :min-width=\"col.width || 165\"\n          >\n            {{ col.displayName }}\n            <i\n              v-if=\"\n                sortKey !== col.name || (sortKey === col.name && sortDescending)\n              \"\n              class=\"icon-chevron-down\"\n            ></i>\n            <i\n              v-if=\"sortKey === col.name && !sortDescending\"\n              class=\"icon-chevron-up\"\n            ></i>\n          </div>\n        </div>\n      </template>\n      <template v-slot=\"{ item }\">\n        <div class=\"cell table-data flex-row table-first-column\">\n          <div class=\"select\" @click.stop=\"selectRow(item)\">\n            <input type=\"radio\" :checked=\"selectedItemId === item.id\" />\n          </div>\n          <generic-input\n            :col=\"visibleColumns[0]\"\n            :row=\"item\"\n            :onChange=\"updateRow.bind(null, item.id, visibleColumns[0].name)\"\n          />\n        </div>\n        <div\n          class=\"flex-row\"\n          :fixed=\"item.fixed\"\n          :key=\"item.id\"\n          :data-column=\"item.name\"\n          :prop=\"item.name\"\n          :label=\"item.displayName\"\n          :class-name=\"`column__${item.name}`\"\n          :min-width=\"item.width || 154\"\n        >\n          <div\n            v-for=\"col in visibleColumns.slice(1)\"\n            :key=\"col.name\"\n            :data-column=\"col.name\"\n            :prop=\"col.name\"\n            :label=\"col.displayName\"\n            class=\"cell table-data\"\n          >\n            <generic-input\n              :col=\"col\"\n              :row=\"item\"\n              :onChange=\"updateRow.bind(null, item.id, col.name)\"\n            />\n          </div>\n\n          <div>\n            <div\n              class=\"duplicate\"\n              @click.stop=\"duplicateRow(item)\"\n              title=\"duplicate\"\n            >\n              <Copy class=\"button\" />\n            </div>\n          </div>\n\n          <div>\n            <div class=\"destroy\" @click.stop=\"deleteRow(item)\" title=\"destroy\">\n              <Delete class=\"button\" />\n            </div>\n          </div>\n        </div>\n      </template>\n    </RecycleScroller>\n  </div>\n</template>\n\n<script>\nimport _ from \"lodash\";\nimport { RecycleScroller } from \"vue-virtual-scroller\";\nimport \"vue-virtual-scroller/dist/vue-virtual-scroller.css\";\nimport Delete from \"./../assets/svg-icons/delete.svg\";\nimport Copy from \"./../assets/svg-icons/copy_icon.svg\";\n\nexport default {\n  name: \"EditableTable\",\n  props: [\n    \"columns\",\n    \"rows\",\n    \"deleteRow\",\n    \"updateRow\",\n    \"selectRow\",\n    \"selectedItemId\",\n    \"duplicateRow\",\n  ],\n  data() {\n    return {\n      sortKey: (r) => +r.id,\n      sortDescending: false,\n      wrapperScrollLeft: 0,\n    };\n  },\n  computed: {\n    visibleColumns() {\n      return _.reject(this.columns, \"private\");\n    },\n    sortedRows() {\n      const sRows = _.sortBy(this.rows, this.sortKey);\n      if (this.sortDescending) {\n        sRows.reverse();\n      }\n      return sRows;\n    },\n  },\n  methods: {\n    /**\n     * Sets the flags to sort by a column.\n     * In order, it will sort descending, ascending, and then not at all if called with the same column\n     *\n     * @param colName - Name of the column to sort by\n     */\n    sortBy(colName) {\n      if (this.sortKey === colName) {\n        if (this.sortDescending) {\n          this.sortDescending = false;\n        } else {\n          this.sortKey = undefined;\n        }\n      } else {\n        this.sortKey = colName;\n        this.sortDescending = true;\n      }\n    },\n  },\n  components: {\n    Delete,\n    Copy,\n    RecycleScroller,\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"./../scss/config\";\n\n.editable-table {\n  .scroller {\n    height: calc(50vh - 151px);\n    margin-top: 46px;\n  }\n\n  .scroller > .vue-recycle-scroller__slot {\n    // In combination with above, places the title bar above the scroll bar\n    margin-top: -46px;\n  }\n\n  .headers {\n    font-size: 14px;\n    margin-bottom: auto;\n    margin-top: auto;\n    min-width: 144px;\n    max-width: 144px;\n    font-weight: 700;\n    padding-left: 10px;\n\n    background-color: $gray-medium;\n    color: $gray-lightest;\n    text-align: center;\n    word-break: break-word;\n  }\n\n  .flex-row {\n    display: flex;\n  }\n\n  .vue-recycle-scroller.ready.direction-vertical\n    .vue-recycle-scroller__item-view {\n    display: flex;\n  }\n\n  .checkbox-header {\n    background-color: $gray-medium;\n    min-width: 50px;\n  }\n\n  .vue-recycle-scroller__item-wrapper {\n    margin-top: 20px;\n    margin-bottom: 90px;\n    overflow: visible;\n  }\n\n  .fixed {\n    position: fixed;\n    height: 25px;\n  }\n\n  #fixedHeader {\n    position: fixed;\n    background-color: $gray-medium;\n    z-index: 100;\n    height: 46px;\n    // Ensures that the title background fills up all available space\n    padding-right: 100vw;\n  }\n\n  .vue-recycle-scroller__slot {\n    height: 10px;\n  }\n\n  .vue-recycle-scroller.ready.direction-vertical\n    .vue-recycle-scroller__item-view {\n    width: auto !important;\n    margin-top: 20px;\n  }\n\n  .vue-recycle-scroller__item-wrapper {\n    position: static !important;\n  }\n\n  .vue-recycle-scroller__slot {\n    padding-bottom: 15px;\n  }\n\n  .active {\n    color: #409eff;\n  }\n\n  .table-data {\n    margin-bottom: auto;\n    margin-top: auto;\n    max-width: 134px;\n    min-width: 134px;\n    padding-left: 10px;\n    padding-right: 10px;\n    text-align: center;\n  }\n\n  .table-first-column {\n    max-width: 204px;\n    min-width: 204px;\n    padding-right: 0;\n  }\n\n  .cell {\n    text-align: center;\n    word-break: break-word;\n    color: $gray-lightest;\n    input {\n      width: 100%;\n      background-color: $gray-medium;\n      color: $gray-lightest;\n      padding-top: 5px;\n      padding-bottom: 5px;\n      margin-top: 5px;\n      margin-bottom: 5px;\n      height: 16px;\n      font-size: 16px;\n    }\n  }\n\n  .select {\n    margin-bottom: auto;\n    margin-top: auto;\n    max-width: 50px;\n    min-width: 50px;\n  }\n\n  .destroy,\n  .duplicate {\n    width: 35px;\n    > [type=\"radio\"] {\n      width: 25px;\n    }\n    > svg {\n      margin-top: 12px;\n      margin-left: -6px;\n    }\n    margin: 0 auto;\n    padding: 0 10px 0 10px;\n    text-align: center;\n  }\n\n  .duplicate svg {\n    margin-top: 2px;\n    width: 20px;\n  }\n\n  background-color: #3b4348;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// EditableTable.vue?fffa310c","<template>\n  <div\n    :class=\"{\n      'expandable-drawer': true,\n      expanded: expanded,\n    }\"\n  >\n    <p @click=\"expanded = !expanded\" class=\"title\">\n      {{ caret }} {{ title }}\n    </p>\n    <p v-if=\"expanded\">\n      <slot />\n    </p>\n  </div>\n</template>\n<script>\nexport default {\n  props: ['title'],\n  data() {\n    return {\n      expanded: false,\n    }\n  },\n  computed: {\n    caret() {\n      return this.expanded ? '\\u25BC' : '\\u25BA';\n    },\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ExpandableDrawer.vue?9ab04c62","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <span v-if=\"col.readonly || !col.input_type\" :class=\"{ numeric: col.numeric }\">\n    {{value}}\n  </span>\n  <input\n    v-else-if=\"col.input_type === 'text'\"\n    @keydown=\"blurOnEnter\"\n    @blur=\"onChange($event.target.value); $forceUpdate()\"\n    :value=\"value\"\n    :disabled=\"disabled\"\n    :placeholder=\"col.nullable && row[col.name] === null ? '(none)' : null\"\n    :class=\"{ numeric: col.numeric }\"\n  />\n  <div\n    v-else-if=\"col.input_type === 'color'\"\n    class=\"color-wrapper\"\n  >\n    <input\n      class=\"input-color\"\n      :value=\"row[col.name]\"\n      :disabled=\"disabled\"\n      @click=\"showColorModal = true\"\n      readonly\n      :style=\"colorStyles\"\n    />\n    <ColorPickerModal\n      v-if=\"showColorModal\"\n      @close=\"showColorModal = false\"\n      :value=\"row[col.name]\"\n      @change=\"onChange\"\n    />\n  </div>\n  <pretty-select v-else-if=\"col.input_type === 'select'\"\n    @change=\"val => onChange(val)\"\n    :options=\"selectData\"\n    :value=\"row[col.name]\"\n    :disabled=\"disabled\"\n    :editable=\"col.editable\"\n    :type=\"col.type\"\n    :type_id=\"col.name\"\n    :space_id=\"row.id\"\n  />\n  <TextureSelect\n    v-else-if=\"col.input_type === 'texture'\"\n    @change=\"val => onChange(val)\"\n    :value=\"row[col.name]\"\n    :disabled=\"disabled\"\n  />\n</template>\n\n<script>\nimport _ from 'lodash';\nimport TextureSelect from './TextureSelect.vue';\nimport ColorPickerModal from './Modals/ColorPickerModal.vue';\nimport { brightness } from '../utilities/color';\n\nexport default {\n  name: 'GenericInput',\n  props: ['col', 'row', 'onChange'],\n  data() {\n    return {\n      showColorModal: false,\n    };\n  },\n  methods: {\n    blurOnEnter(evt) {\n      if (evt.keyCode === 13) {\n        //blur on enter\n        this.$el.blur();\n      }\n      if (evt.keyCode == 27) {\n        // reset then blur on esc\n        this.$el.value = this.row[this.col.name];\n        this.$el.blur();\n      }\n    },\n    openColorModal() {\n      colorPickerModalService.openModal(this.row[this.col.name], this.onChange);\n    }\n  },\n  computed: {\n    selectData() {\n      return _.toPairs(this.col.select_data(this.row, this.$store.state))\n        .map(([k, v]) => ({ val: v, display: k }));\n    },\n    rootState() { return this.$store.state; },\n    disabled() {\n      if (!this.col.enabled) {\n        // columns are enabled by default, so any column that doesn't provide\n        // an `enabled` callback is always enabled.\n        return false;\n      }\n      return !this.col.enabled(this.row)\n    },\n    colorStyles() {\n      const value = this.row[this.col.name];\n\n      if (!value || !value.slice) {\n        return {\n          color: '#fff',\n          background: '#000',\n        };\n      }\n\n      const\n        r = parseInt(value.slice(1, 3), 16),\n        g = parseInt(value.slice(3, 5), 16),\n        b = parseInt(value.slice(5, 7), 16);\n      return {\n        color: brightness(r,g,b) < 123 ? '#fff' : '#000',\n        background: value,\n      };\n    },\n    value() {\n      try {\n        // `get` could not exist on `this.col` or could throw an error\n        // Either way, catch the error and gracefully fall back\n        return this.col.get(this.row, this.rootState);\n      } catch (_) {\n        return this.row[this.col.name];\n      }\n    },\n  },\n  components: {\n    TextureSelect,\n    ColorPickerModal,\n  },\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n.numeric {\n  text-align: right;\n}\ninput {\n  border-width: 2px;\n  border-style: inset;\n  border-color: $gray-lightest;\n}\n:disabled {\n  background-image: linear-gradient(\n    -45deg,\n    gray 25%,\n    transparent 25%,\n    transparent 50%,\n    gray 50%,\n    gray 75%,\n    transparent 75%,\n    transparent\n  );\n  background-size: 4px 4px;\n}\n.color-wrapper input {\n    max-width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// GenericInput.vue?3fe5b05b","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <div\n    id=\"grid\"\n    :style=\"{ 'pointer-events': (currentTool === 'Drag' || currentTool === 'Map') ? 'none': 'auto' }\"\n    ref=\"gridParent\"\n    :class=\"{ 'reduce-ticks': reduceTicks }\"\n  >\n    <svg ref=\"grid\" id=\"svg-grid\">\n      <g class=\"axis axis--x\"></g>\n      <g class=\"axis axis--y\"></g>\n      <g class=\"images\" data-transform-plz></g>\n      <g class=\"polygons\" data-transform-plz></g>\n      <g class=\"walls\" data-transform-plz></g>\n    </svg>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex';\nimport { debounce } from '../../utilities';\nimport d3AwareThrottle from '../../utilities/d3-aware-throttle';\nimport methods from './methods';\nimport geometryHelpers, { pointDistanceToSegment } from './../../store/modules/geometry/helpers';\nimport modelHelpers from './../../store/modules/models/helpers';\nimport applicationHelpers from './../../store/modules/application/helpers';\nimport { ResizeEvents } from '../../components/Resize';\nimport drawMethods from './drawing';\nimport { expandWindowAlongEdge, windowLocation } from './snapping';\n\nconst d3 = require('d3');\n\nexport default {\n  name: 'grid',\n  data() {\n    const\n      xScale = v => this.rwuToGrid(v, 'x'),\n      yScale = v => this.rwuToGrid(v, 'y');\n\n    return {\n      points: [], // points for the face currently being drawn\n      axis: {\n        x: null,\n        y: null,\n      },\n      axis_generator: {\n        x: null,\n        y: null,\n      },\n      reduceTicks: false,\n      componentFacingSelection: null,\n      transform: { k: 1, x: 0, y: 0 },\n      transformAtLastRender: d3.zoomIdentity,\n      lastMousePosition: null,\n      handleMouseMove: null, // placeholder --> overwritten in mounted()\n      ...drawMethods({\n        xScale,\n        yScale,\n        selectImage: (img) => { this.currentImage = img; },\n        updateImage: (data) => window.application.$store.dispatch('models/updateImageWithData', data),\n      }),\n      crosshatchModifiers: {\n        '-highlight': 'green',\n        '-selected': 'green',\n        '-facing-selection': 'blue',\n        '': '#222'\n      },\n    };\n  },\n  mounted() {\n    // throttle/debounce event handlers\n    this.handleMouseMove = d3AwareThrottle(this.highlightSnapTarget, 100);\n\n    // render grid first time (not debounced, as this seems to fix an issue\n    // where the x bounds are set correctly, and then becomes incorrect when the\n    // debounced renderGrid runs)\n    this.renderGrid();\n\n    this.renderGrid = debounce(this.renderGrid, 5);\n\n    // add event listeners\n    this.$refs.grid.addEventListener('reloadGrid', this.reloadGridAndScales);\n\n    window.addEventListener('keyup', this.escapeAction);\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('resize', this.reloadGridAndScales);\n\n    ResizeEvents.$on('resize', this.reloadGridAndScales);\n\n    window.eventBus.$on('zoomToFit', this.zoomToFit);\n    window.eventBus.$on('scaleTo', this.scaleTo);\n  },\n  beforeDestroy() {\n    this.$refs.grid.removeEventListener('reloadGrid', this.reloadGridAndScales);\n\n    window.removeEventListener('keyup', this.escapeAction);\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('resize', this.reloadGridAndScales);\n\n    ResizeEvents.$off('resize', this.reloadGridAndScales);\n\n    window.eventBus.$off('zoomToFit', this.zoomToFit);\n    window.eventBus.$off('scaleTo', this.scaleTo);\n  },\n  computed: {\n    ...mapState({\n      currentMode: state => state.application.currentSelections.mode,\n      modeTab: state => state.application.currentSelections.modeTab,\n      currentTool: state => state.application.currentSelections.tool,\n      snapMode: state => state.application.currentSelections.snapMode,\n      previousStoryVisible: state => state.project.previous_story.visible,\n      gridVisible: state => state.project.grid.visible,\n      units: state => state.project.config.units,\n      spacing: state => state.project.grid.spacing,\n      // pixels to real world units, these are initialized in calcGrid based on the grid pixel dimensions and then never changed\n      scaleX: state => state.application.scale.x,\n      scaleY: state => state.application.scale.y,\n      windowDefs: state => state.models.library.window_definitions,\n      doorDefs: state => state.models.library.door_definitions,\n      windowWidths: state => _.sumBy(state.models.library.window_definitions, 'width'),\n      allVertices: state => _.flatMap(state.geometry, 'vertices'),\n    }),\n    ...mapGetters({\n      currentStory: 'application/currentStory',\n      currentStoryGeometry: 'application/currentStoryGeometry',\n      denormalizedGeometry: 'application/currentStoryDenormalizedGeom',\n      currentSpace: 'application/currentSpace',\n      currentShading: 'application/currentShading',\n      currentComponent: 'application/currentComponent',\n      currentComponentInstance: 'application/currentComponentInstance',\n      currentSpaceProperty: 'application/currentSpaceProperty',\n    }),\n    spacePropertyKey() {\n      switch (this.currentSpaceProperty.type) {\n        case 'building_units': return 'building_unit_id';\n        case 'building_types': return 'building_type_id';\n        case 'thermal_zones': return 'thermal_zone_id';\n        case 'space_types': return 'space_type_id';\n        case 'pitched_roofs': return 'pitched_roof_id';\n        case 'construction_sets': return 'construction_set_id';\n        default: throw new Error(`unrecognized space property type ${this.currentSpaceProperty.type}`);\n      }\n    },\n    windowAndDoorDefs() {\n      return [\n        ...this.windowDefs,\n        ...this.doorDefs.map(d => ({\n          ...d,\n          window_definition_mode: 'Single Window',\n        })),\n      ];\n    },\n    currentImage: {\n      get() { return this.$store.getters['application/currentImage']; },\n      set(item) { this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id }); },\n    },\n    currentComponentType() { return this.currentComponent.type; },\n    currentComponentDefinition() { return this.currentComponent.definition; },\n    currentSubSelection: {\n      get() { return this.$store.getters['application/currentSubSelection']; },\n      set(item) { this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id }); },\n    },\n    currentComponentInstanceId: {\n      get() {\n        return (\n          this.$store.state.application.currentSelections.modeTab === 'components' &&\n          this.$store.state.application.currentSelections.component_instance_id);\n      },\n      set(id) {\n        this.$store.dispatch('application/setCurrentComponentInstanceId', { id });\n      },\n    },\n\n    // grid dimensions in real world units\n    min_x: {\n      get() { return this.$store.state.project.view.min_x; },\n      set(val) { this.$store.dispatch('project/setViewMinX', { min_x: val }); },\n    },\n    min_y: {\n      get() { return this.$store.state.project.view.min_y; },\n      set(val) { this.$store.dispatch('project/setViewMinY', { min_y: val }); },\n    },\n    max_x: {\n      get() { return this.$store.state.project.view.max_x; },\n      set(val) { this.$store.dispatch('project/setViewMaxX', { max_x: val }); },\n    },\n    max_y: {\n      get() { return this.$store.state.project.view.max_y; },\n      set(val) { this.$store.dispatch('project/setViewMaxY', { max_y: val }); },\n    },\n\n    // Handles all four dimensions at once\n    // Intended to avoid spurious change detection if all of them are being changed\n    dimensions: {\n      get() { \n        return {\n          min_x: this.$store.state.project.view.min_x,\n          max_x: this.$store.state.project.view.max_x,\n          min_y: this.$store.state.project.view.min_y,\n          max_y: this.$store.state.project.view.max_y,\n        };\n      },\n      set(val) {\n        this.$store.dispatch('project/setDimensions', val);\n      },\n    },\n    // previous story\n    previousStory() {\n      const currentStoryNumber = this.$store.state.models.stories.findIndex(s => s === this.currentStory);\n      if (currentStoryNumber === 0) { return null; }\n      return this.$store.state.models.stories[currentStoryNumber - 1];\n    },\n    previousStoryGeometry() {\n      if (!this.previousStory) { return null; }\n      return this.$store.state.geometry.find(g => g.id === this.previousStory.geometry_id);\n    },\n    previousStoryPolygons() {\n      if (this.previousStoryVisible && this.previousStoryGeometry) {\n        return this.polygonsFromGeometry(this.previousStoryGeometry, { previous_story: true });\n      }\n      return [];\n    },\n    images() {\n      return this.currentStory.images\n        .map(img => ({\n          ...img,\n          current: (\n            // only allow interactions when the image tool is selected.\n            // otherwise, it's possible to move the image when we want to be\n            // panning the background.\n            this.currentTool === 'Image' &&\n            this.currentImage &&\n            this.currentImage.id === img.id),\n          clickable: (\n            this.currentTool === 'Image' &&\n            (!this.currentImage || this.currentImage.id !== img.id)\n          ),\n        }));\n    },\n    /*\n    * map all faces for the current story to polygon representations (sets of ordered points) for d3 to render\n    */\n    polygons() {\n      const currentStoryPolygons = this.polygonsFromGeometry(this.currentStoryGeometry);\n      return this.previousStoryPolygons ? this.previousStoryPolygons.concat(currentStoryPolygons) : currentStoryPolygons;\n    },\n    walls() {\n      const edgesLookup = _.keyBy(this.currentStoryGeometry.edges, 'id');\n      const vertsLookup = _.keyBy(this.currentStoryGeometry.vertices, 'id');\n\n      return _.chain(this.currentStoryGeometry.faces)\n        // Make a list of edge ids, with one appearance for each usage of that edge.\n        .flatMap(fc => _.map(fc.edgeRefs, 'edge_id'))\n        // Sort to bring same edge ids together\n        .sortBy(_.identity)\n        // group to make an object like { \"edge_a\": [\"edge_a\"], \"edge_b\": [\"edge_b\", \"edge_b\"] }\n        .groupBy(_.identity)\n        // change that to { edge_a: 1, edge_b: 2 }\n        .mapValues('length')\n        // Look up vertex values, mark as interior if more than one usage of this edge.\n        .map((numOccurences, edgeId) => {\n          const edge = edgesLookup[edgeId];\n          return {\n            id: edgeId,\n            start: vertsLookup[edge.v1],\n            end: vertsLookup[edge.v2],\n            interior: numOccurences > 1,\n          };\n        })\n        .value();\n    },\n    daylightingControlLocs() {\n      return _.flatten(\n        this.currentStory.spaces.map((space) => {\n          return space.daylighting_controls\n            .map(dc => ({\n              ...dc,\n              ...geometryHelpers.vertexForId(dc.vertex_id, this.currentStoryGeometry),\n              id: dc.id,\n              type: 'daylighting_controls',\n              face_id: space.face_id,\n            }));\n      }));\n    },\n    spaceFaces() {\n      // as opposed to shading faces\n      return this.denormalizedGeometry.faces\n        .filter(f => _.find(this.currentStory.spaces, { face_id: f.id }));\n    },\n    spaceEdges() {\n      return _.flatMap(this.spaceFaces, 'edges');\n    },\n    visibleVerts() {\n      return this.allVertices.filter(d =>\n        (this.min_x <= d.x && d.x <= this.max_x &&\n         this.min_y <= d.y && d.y <= this.max_y),\n      );\n    },\n    /**\n     * Watches all properties that can trigger a redraw\n     * This ensures that changes multiple properties at the same time only causes a single redraw\n     */\n    redraw() {\n      const { currentMode, polygons, images, windowDefs, doorDefs, currentSpace, currentShading } = this;\n      return {\n        currentMode,\n        polygons,\n        images,\n        windowDefs,\n        doorDefs,\n        currentSpace,\n        currentShading,\n      };\n    }\n  },\n  watch: {\n    // showTicks() { this.showOrHideAxes(); },\n    // TODO: method for when new view dimensions are imported or the px dimensions change\n    gridVisible() { this.showOrHideAxes(); },\n    spacing() { this.updateGrid(); },\n    units() { this.reloadGridAndScales(); },\n    redraw: {\n      handler() { this.draw(); },\n      deep: true,\n    },\n    currentTool() {\n      this.points = [];\n      this.draw();\n      this.clearHighlights();\n      if (this.currentTool === 'Image' && this.currentStory.images.length) {\n        if (!this.currentImage ||\n            !_.includes(_.map(this.currentStory.images, 'id'), this.currentImage.id)\n           ) {\n              this.currentImage = this.currentStory.images[0];\n        }\n      } else if (!_.includes(_.map(this.currentStory.spaces, 'id'), this.currentSubSelection.id)) {\n        this.currentSubSelection = this.currentStory.spaces[0];\n      }\n    },\n    currentSpace() {\n      this.points = [];\n    },\n    currentShading() {\n      this.points = [];\n    },\n    transform(newTransform, lastTransform) {\n      // hide polygon names if zoomed out enough\n      if (newTransform.k < 0.5) {\n        d3.select('#svg-grid').selectAll('.polygon-text').style('display', 'none');\n      } else {\n        d3.select('#svg-grid').selectAll('.polygon-text').style('display', 'initial');\n      }\n    },\n  },\n  methods: {\n    ...methods,\n    windowCenterLocs(cursor) {\n      // for each window, this should be the projection\n      // of cursor onto that edge.\n      return this.currentStory.windows\n        .map(w => ({ w, e: _.find(this.denormalizedGeometry.edges, { id: w.edge_id }) }))\n        .map(({ w, e }) => {\n          const wind = this.denormalizeWindowOrDoor(e, w);\n          const { proj } = pointDistanceToSegment(cursor, wind);\n          return {\n            ...wind,\n            id: w.id,\n            type: 'windows',\n            ...proj,\n          };\n        });\n    },\n    doorCenterLocs(cursor) {\n      return this.currentStory.doors\n        .map(w => ({ w, e: _.find(this.denormalizedGeometry.edges, { id: w.edge_id }) }))\n        .map(({ w, e }) => {\n          const wind = this.denormalizeWindowOrDoor(e, w);\n          const { proj } = pointDistanceToSegment(cursor, wind);\n          return {\n            ...wind,\n            id: w.id,\n            type: 'doors',\n            ...proj,\n          };\n        });\n    },\n    currentComponentTypeLocs(cursor) {\n      if (this.currentComponentType === 'window_definitions') {\n        return this.windowCenterLocs(cursor);\n      } else if (this.currentComponentType === 'daylighting_control_definitions') {\n        return this.daylightingControlLocs;\n      } else if (this.currentComponentType === 'door_definitions') {\n        return this.doorCenterLocs(cursor);\n      } else {\n        throw new Error(`unrecognized componentType: ${this.currentComponentType}`);\n      }\n    },\n    denormalizeWindowOrDoor(edge, { edge_id, alpha, window_definition_id, door_definition_id }) {\n      const\n        defn = _.find(this.windowAndDoorDefs, { id: window_definition_id || door_definition_id }),\n        center = windowLocation(edge, { alpha });\n      return {\n        ...expandWindowAlongEdge(edge, center, defn),\n        window_definition_mode: defn.window_definition_mode,\n        windowOrDoor: defn.window_definition_mode ? 'window' : 'door',\n        width: defn.width,\n        spacing: defn.window_spacing,\n        texture: defn.texture,\n      };\n    },\n    windowsOnFace(face) {\n      return _.flatMap(\n        face.edges,\n        e => _.filter(this.currentStory.windows , { edge_id: e.id })\n              .map(w => ({\n                ...this.denormalizeWindowOrDoor(e, w),\n                selected: w.id === this.currentComponentInstanceId,\n                facingSelection: w.id === this.componentFacingSelection,\n              })));\n    },\n    doorsOnFace(face) {\n      return _.flatMap(\n        face.edges,\n        e => _.filter(this.currentStory.doors, { edge_id: e.id })\n              .map(d => ({\n                ...this.denormalizeWindowOrDoor(e, d),\n                windowOrDoor: 'door',\n                selected: d.id === this.currentComponentInstanceId,\n                facingSelection: d.id === this.componentFacingSelection,\n              })));\n    },\n    polygonsFromGeometry(geometry, extraPolygonAttrs = {}) {\n      const geom = geometryHelpers.denormalize(geometry);\n      const polygons = geom.faces.map((face) => {\n        // look up the model (space or shading) associated with the face\n        const model = modelHelpers.modelForFace(this.$store.state.models, face.id);\n          // <polygon> are automatically closed, so no need to repeat start vertex\n        const points = face.vertices.slice(0, -1);\n        const polygon = {\n          face_id: face.id,\n          name: model.name,\n          modelType: model.type,\n          color: model.color,\n          points,\n          labelPosition: this.polygonLabelPosition(points),\n          windows: this.windowsOnFace(face),\n          doors: this.doorsOnFace(face),\n          current: (\n            (this.currentTool !== 'Apply Property' && this.currentSpace && face.id === this.currentSpace.face_id) ||\n            (this.currentTool !== 'Apply Property' && this.currentShading && face.id === this.currentShading.face_id) ||\n            (this.currentTool === 'Apply Property' && this.currentSpaceProperty && model[this.spacePropertyKey] === this.currentSpaceProperty.id)\n          ),\n          daylighting_controls: (model.daylighting_controls || [])\n            .map(dc => ({\n              ...geometryHelpers.vertexForId(dc.vertex_id, geometry),\n              selected: dc.id === this.currentComponentInstanceId,\n              facingSelection:  dc.id === this.componentFacingSelection,\n            })),\n          ...extraPolygonAttrs,\n        };\n        if (!points.length) {\n          return null; // don't render point-less polygons\n        }\n\n        // if the model is a space, set the polygon's color based on the current mode\n        if (model.type === 'space') {\n          if (this.currentMode === 'thermal_zones') {\n            const thermalZone = modelHelpers.libraryObjectWithId(this.$store.state.models, model.thermal_zone_id);\n            polygon.color = thermalZone ? thermalZone.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode === 'space_types') {\n            const spaceType = modelHelpers.libraryObjectWithId(this.$store.state.models, model.space_type_id);\n            polygon.color = spaceType ? spaceType.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode === 'building_units') {\n            const buildingUnit = modelHelpers.libraryObjectWithId(this.$store.state.models, model.building_unit_id);\n            polygon.color = buildingUnit ? buildingUnit.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode === 'building_types') {\n            const buildingType = modelHelpers.libraryObjectWithId(this.$store.state.models, model.building_type_id);\n            polygon.color = buildingType ? buildingType.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode === 'pitched_roofs') {\n            const pitchedRoof = modelHelpers.libraryObjectWithId(this.$store.state.models, model.pitched_roof_id);\n            polygon.color = pitchedRoof ? pitchedRoof.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode === 'construction_sets') {\n            const constructionSet = modelHelpers.libraryObjectWithId(this.$store.state.models, model.construction_set_id);\n            polygon.color = constructionSet ? constructionSet.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode !== 'spaces') {\n            throw new Error(`unknown assignable property: ${this.currentMode}`);\n          }\n\n        }\n        return polygon;\n      });\n\n      return _.sortBy(_.compact(polygons), 'current');\n    }\n  },\n};\n\n</script>\n<style lang=\"scss\" scoped>@import \"./../../scss/config\";\n// styles for dynamically created d3 elements go into src/scss/partials/d3.scss\n#grid {\n  user-select: none;\n\n  button {\n    position: absolute;\n    z-index: 200;\n  }\n  img {\n    position: absolute;\n  }\n\n  svg {\n    background-size: cover;\n    background-repeat: no-repeat;\n    height: 100%;\n    left: 0;\n    top: 0;\n    position: absolute;\n    width: 100%;\n    z-index: 2;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Grid.vue?fd491674","<template>\n  <input\n    type=\"file\"\n    accept=\"image/jpeg,image/png,image/svg,image/gif\"\n    ref=\"imageInput\"\n    id=\"upload-image-input\"\n    style=\"display: none;\"\n    @change=\"uploadImage\"\n  />\n</template>\n<script>\nimport { mapState, mapGetters } from 'vuex';\nimport modelHelpers from './../store/modules/models/helpers';\n\nexport default {\n  name: 'ImageUpload',\n  mounted() {\n    window.eventBus.$on('uploadImage', this.promptUpload.bind(this));\n  },\n  computed: {\n    ...mapState({\n      pxPerRWU(state) {\n        const { pixels, rwuRange } = state.application.scale.x;\n        return pixels / (rwuRange[1] - rwuRange[0]);\n      },\n      max_y: state => state.project.view.max_y,\n      min_y: state => state.project.view.min_y,\n      min_x: state => state.project.view.min_x,\n      max_x: state => state.project.view.max_x,\n    }),\n    ...mapGetters({\n      currentStory: 'application/currentStory',\n    }),\n  },\n  methods: {\n    promptUpload() {\n      this.$refs.imageInput.click();\n    },\n    uploadImage(event) {\n      const files = event.target.files;\n      const that = this;\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const reader = new FileReader();\n\n        reader.addEventListener('load', () => {\n          const image = new Image();\n          image.onload = () => {\n            const rwuHeight = (image.height / that.pxPerRWU) / 4;\n            const rwuWidth = (image.width / that.pxPerRWU) / 4;\n            that.$store.dispatch('models/createImageForStory', {\n              story_id: that.currentStory.id,\n              src: image.src,\n              // TODO: unique name\n              name: modelHelpers.generateName(that.$store.state.models, 'images', that.currentStory),\n              // translate image dimensions into rwu\n              height: rwuHeight,\n              width: rwuWidth,\n              x: (that.min_x + that.max_x) / 2,\n              y: (that.min_y + that.max_y) / 2,\n              naturalHeight: image.height,\n              naturalWidth: image.width,\n            });\n            that.$refs.imageInput.value = '';\n          };\n          image.src = reader.result;\n        }, false);\n        if (file) { reader.readAsDataURL(file); }\n      }\n    },\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ImageUpload.vue?6a879c4c","<template>\n  <div class=\"info\">\n    <InfoIcon class=\"button\" />\n    <span class=\"tooltip-text\">\n      <slot></slot>\n    </span>\n  </div>\n</template>\n<script>\nimport InfoIcon from './../assets/svg-icons/info_icon.svg';\n\nexport default {\n  name: 'Info',\n  components: {\n    InfoIcon,\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n.info {\n  position: relative;\n  display: inline-block;\n  svg {\n    fill: $gray-light;\n  }\n  .tooltip-text {\n    visibility: hidden;\n    width: 300px;\n    bottom: 100%;\n    left: 50%;\n    margin-left: -150px;\n    position: absolute;\n    z-index: 1;\n\n    background-color: black;\n    color: $gray-lightest;\n    text-align: center;\n    padding: 5px 5px;\n    border-radius: 6px;\n  }\n  &:hover .tooltip-text {\n    visibility: visible;\n  }\n  .tooltip-text::after {\n    content: \" \";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -9px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: black transparent transparent transparent;\n  }\n\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Info.vue?fe49161a","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <section id=\"inspector\">\n    <section id=\"geometry-list\" class=\"list\">\n      <template v-if=\"!currentSpace && !currentShading\" v-for=\"face in currentStoryGeometry.faces\">\n        <header>\n          <h3>Face {{face.id}}</h3>\n        </header>\n        <div v-for=\"edgeRef in face.edgeRefs\" class=\"list-item\">\n          edge {{ edgeRef.edge_id }} {{ edgeRef.reverse ? 'reversed ' : '' }}\n          <br>startpoint {{ startpoint(edgeRef) }}\n          <br>endpoint {{ endpoint(edgeRef) }}\n        </div>\n      </template>\n\n      <template v-if=\"currentSubSelectionFace\">\n        <header>\n          <h3>Face {{currentSubSelectionFace.id}} on {{ currentSpace ? currentSpace.name : currentShading.name }}</h3>\n        </header>\n        <div v-for=\"edgeRef in currentSubSelectionFace.edgeRefs\" class=\"list-item\">\n          edge {{ edgeRef.edge_id }} {{ edgeRef.reverse ? 'reversed ' : '' }}\n          <br>startpoint {{ startpoint(edgeRef) }}\n          <br>endpoint {{ endpoint(edgeRef) }}\n        </div>\n      </template>\n    </section>\n  </section>\n</template>\n\n<script>\n\nimport { mapGetters } from 'vuex';\nimport geometryHelpers from './../store/modules/geometry/helpers';\n\nexport default {\n  name: 'inspector',\n  data() {\n    return {\n      geometryInspector: true,\n      storyInspector: false,\n    };\n  },\n  methods: {\n    startpoint(edgeRef) {\n      const edge = this.edgeForId(edgeRef.edge_id);\n      if (edgeRef.reverse) {\n        const v = this.vertexForId(edge.v2);\n        return `v2 ${v.id} (${v.x}, ${v.y})`;\n      }\n      const v = this.vertexForId(edge.v1);\n      return `v1 ${v.id} (${v.x}, ${v.y})`;\n    },\n    endpoint(edgeRef) {\n      const edge = this.edgeForId(edgeRef.edge_id);\n      if (!edgeRef.reverse) {\n        const v = this.vertexForId(edge.v2);\n        return `${v.id} (v2) (${v.x}, ${v.y})`;\n      }\n      const v = this.vertexForId(edge.v1);\n      return `${v.id} (v1) (${v.x}, ${v.y})`;\n    },\n    edgeForId(id) { return geometryHelpers.edgeForId(id, this.currentStoryGeometry); },\n    vertexForId(id) { return geometryHelpers.vertexForId(id, this.currentStoryGeometry); },\n  },\n  computed: {\n    ...mapGetters({\n      currentStory: 'application/currentStory',\n      currentSubSelectionFace: 'application/currentSubSelectionFace',\n      currentStoryGeometry: 'application/currentStoryGeometry',\n      currentSpace: 'application/currentSpace',\n      currentShading: 'application/currentShading',\n    }),\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n#inspector {\n  // background-color: $gray-medium-dark;\n  background-color: $gray-medium;\n  border-left: 1px solid $gray-darkest;\n  font-size: .85rem;\n  width: 18rem;\n  position: absolute;\n  right: 0;\n  z-index: 2;\n  top: 0;\n\n  .list {\n    height: calc(100vh - 4.75rem);\n    overflow: auto;\n\n    header {\n      background-color: $gray-dark;\n      > h3 {\n        display: inline-block;\n        margin: 1rem;\n      }\n    }\n    .list-item {\n      border-top: 1px solid $gray-medium-light;\n      padding: .5rem 1rem;\n      h4 {\n        margin: .5rem 0;\n      }\n      span {\n        display: block;\n        margin-bottom: .25rem;\n      }\n      button {\n        margin-top: .5rem;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Inspector.vue?e3e0844c","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <EditableSelectList\n    :selectedObjectType=\"mode\"\n    :objectTypes=\"objectTypesDisplay\"\n    :rows=\"rows\"\n    :columns=\"columns\"\n    :selectedRowId=\"selectedObject && selectedObject.id\"\n    :selectRow=\"row => { selectedObject = row; }\"\n    :addRow=\"addRowPermitted && createObject\"\n    :editRow=\"modifyObject\"\n    :destroyRow=\"destroyObject\"\n    :duplicateRow=\"duplicateRow\"\n    :searchAvailable=\"searchAvailable\"\n    :compact=\"compact\"\n    @toggleCompact=\"c => $emit('toggleCompact', c)\"\n    @selectObjectType=\"changeMode\"\n  />\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex';\nimport libconfig from '../store/modules/models/libconfig';\nimport EditableSelectList from './EditableSelectList.vue';\nimport helpers from '../store/modules/models/helpers';\nimport { replaceIdsForCloning } from './../store/modules/geometry/helpers';\nimport { assignableProperties, componentTypes } from '../store/modules/application/appconfig';\nimport modelHelpers from '../store/modules/models/helpers';\n\n\nfunction keyForMode(mode) {\n  return (\n    mode === 'stories' ? 'currentStory' :\n    _.includes(componentTypes, mode) ? 'currentComponentDef' :\n    _.includes(assignableProperties, mode) ? 'currentSpaceProperty' :\n    _.includes(['windows', 'daylighting_controls'], mode) ? 'currentComponentInstance' :\n    'currentSubSelection');\n}\n\n\nexport default {\n  name: 'Library',\n  props: ['objectTypes', 'mode', 'searchAvailable', 'compact', 'addNewOnHotkey'],\n  mounted() {\n    document.body.addEventListener('keyup', this.hotkeyAddNew);\n  },\n  beforeDestroy() {\n    document.body.removeEventListener('keyup', this.hotkeyAddNew);\n  },\n  computed: {\n    ...mapGetters({\n      currentStoryGeom: 'application/currentStoryGeometry',\n    }),\n    objectTypesDisplay() {\n      return this.objectTypes.map(ot => ({\n        val: ot,\n        display: libconfig[ot].displayName,\n      }));\n    },\n    columns() {\n      if (!libconfig[this.mode]) return [];\n      return libconfig[this.mode].columns\n    },\n    currentStory: {\n      get() { return this.$store.getters['application/currentStory']; },\n      set(story) { this.$store.dispatch('application/setCurrentStoryId', { id: story.id }); },\n    },\n    // current selection getters and setters - these dispatch actions to update the data store when a new item is selected\n    currentSubSelection: {\n      get() { return this.$store.getters['application/currentSubSelection']; },\n      set(item) { this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id }); },\n    },\n    currentSpaceProperty: {\n      get() { return this.$store.getters['application/currentSpaceProperty']; },\n      set(item) { this.$store.dispatch('application/setCurrentSpacePropertyId', { id: item.id }); },\n    },\n    currentComponentDef: {\n      get() { return this.$store.getters['application/currentComponentDefinition']; },\n      set(item) { this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: item.id }); },\n    },\n    currentComponentInstance: {\n      get() { return this.$store.getters['application/currentComponentInstance']; },\n      set(ci) { this.$store.dispatch('application/setCurrentComponentInstanceId', { id: ci.id }); },\n    },\n    /*\n    * returns the currently selected object in the library\n    * when set, dispatches an action to update the application's currentSelections in the store\n    */\n    selectedObject: {\n      get() {\n        return this[this.keyForCurrentMode];\n      },\n      set(item) {\n        this[this.keyForCurrentMode] = item;\n      },\n    },\n    keyForCurrentMode() {\n      return keyForMode(this.mode);\n    },\n    ...mapState({\n      stories: state => state.models.stories,\n      modeTab: state => state.application.currentSelections.modeTab,\n    }),\n    spaces() { return this.currentStory.spaces; },\n    shading() { return this.currentStory.shading; },\n    images() { return this.currentStory.images; },\n    windows() { return this.currentStory.windows; },\n    daylighting_controls() {\n      return _.flatMap(this.currentStory.spaces, s => s.daylighting_controls);\n    },\n    rows() {\n      return _.includes(\n          ['stories', 'spaces', 'shading', 'images', 'windows', 'daylighting_controls'],\n          this.mode,\n      ) ? this[this.mode] : this.$store.state.models.library[this.mode];\n    },\n    componentInstanceMode() {\n      return _.includes(['windows', 'daylighting_controls'], this.mode);\n    },\n    addRowPermitted() {\n      return this.mode !== 'stories' || this.modeTab === 'floorplan';\n    },\n    renderByMode: {\n      get() { return this.$store.state.application.currentSelections.mode; },\n      set(mode) { this.$store.dispatch('application/setCurrentMode', { mode }); },\n    },\n  },\n  watch: {\n    rows() {\n      if (!(this.selectedObject && _.includes(_.map(this.rows, 'id'), this.selectedObject.id)) && this.rows.length > 0) {\n        this.selectedObject = this.rows[0];\n      }\n    },\n    mode(currMode, oldMode) {\n      if (keyForMode(currMode) === 'currentSpaceProperty') {\n        this.renderByMode = this.mode;\n      } else if (keyForMode(oldMode) === 'currentSpaceProperty') {\n        this.renderByMode = 'spaces';\n      }\n    }\n  },\n  methods: {\n    hotkeyAddNew(evt) {\n      if (this.addNewOnHotkey && this.addRowPermitted && evt.ctrlKey && evt.key === 'a') {\n        this.createObject();\n      }\n    },\n    changeMode(newMode) {\n      if (!_.includes(this.objectTypes, newMode)) {\n        throw new Error(`Unable to find ${newMode} in options ${JSON.stringify(this.objectTypes)}`);\n      }\n      this.$emit('changeMode', newMode);\n    },\n    modifyObject(rowId, colName, value) {\n      if (this.componentInstanceMode) {\n        return this.modifyComponentInstance(rowId, colName, value);\n      }\n      const row = _.find(this.rows, { id: rowId });\n      const result = helpers.setValueForKey(row, this.$store, this.mode, colName, value);\n      if (!result.success) {\n        window.eventBus.$emit('error', result.error);\n      }\n    },\n    modifyComponentInstance(id, key, value) {\n      if (this.mode === 'windows') {\n        this.$store.dispatch('models/modifyWindow', { id, key, value, story_id: this.currentStory.id });\n      } else if (this.mode === 'daylighting_controls') {\n        this.$store.dispatch('models/modifyDaylightingControl', { id, key, value, story_id: this.currentStory.id });\n      } else {\n        throw new Error(`unrecognized component mode \"${this.mode}\"`);\n      }\n    },\n    /*\n    * CREATE OBJECT\n    * initializes an empty object\n    */\n    createObject({ duplicate = false } = {}) {\n      if (duplicate) {\n        const height = this.currentStory.floor_to_ceiling_height;\n        this.$store.dispatch('models/initStory');\n        this.$store.dispatch('models/updateStoryWithData', { story: this.currentStory, floor_to_ceiling_height: height });\n        this.$store.dispatch('application/setCurrentTool', { tool: 'Rectangle' });\n      } else {\n        switch (this.mode) {\n          case 'stories':\n            this.$store.dispatch('models/initStory');\n            return;\n          case 'spaces':\n            this.$store.dispatch('models/initSpace', { story: this.currentStory });\n            break;\n          case 'shading':\n            this.$store.dispatch('models/initShading', { story: this.currentStory });\n            break;\n          case 'images':\n            window.eventBus.$emit('uploadImage');\n            break;\n          case 'windows':\n          case 'daylighting_controls':\n            window.eventBus.$emit('error', 'Create components by clicking where you would like it to be');\n            break;\n          default:\n            this.$store.dispatch('models/createObjectWithType', { type: this.mode });\n            break;\n        }\n      }\n      this.selectLatest();\n    },\n    async duplicateRow(row) {\n      if(this.stories.find((story) => story.id === this.selectedObject.id)) {\n        this.cloneStory(this.selectedObject);\n      } else {\n        this.createObject();\n        await this.$nextTick();\n        let newName = row.name;\n        // increment Copy # until no name conflict.\n        while (_.find(this.rows, { name: newName })) {\n          let copyNum = newName.match(/\\((\\d+)\\)/);\n          newName = copyNum ? `${newName.slice(0, copyNum.index)}(${+copyNum[1] + 1})` : `${newName} (2)`;\n        }\n        this.modifyObject(this.selectedObject.id, 'name', newName);\n        this.columns.forEach(({ name: key, readonly, private: privateKey }) => {\n          if (key === 'id' || key === 'name' || key === 'color') return;\n          if (readonly || privateKey) return;\n          if (this.selectedObject[key] === row[key]) return;\n          this.modifyObject(this.selectedObject.id, key, row[key]);\n        });\n      }\n    },\n    selectLatest() {\n      const newestRow = _.maxBy(this.rows, r => +r.id);\n      if (!newestRow) { return; }\n      this.selectedObject = newestRow;\n    },\n    /**\n     * Clones a given story\n     * Given a story this method deep clones the story, creates new ids for the properties\n     * and replaces the cloned story with those ids. Cleans up any artifacts. \n     *\n     * @param {'Story'} story \n     */\n    cloneStory(story) {\n      this.$store.dispatch('application/setCurrentStoryId', { id: story.id });\n      const { clonedGeometry, idMap } = replaceIdsForCloning(this.currentStoryGeom);\n      this.createObject({ duplicate: true });\n      const { clonedStory } = modelHelpers.replaceIdsUpdateInfoForCloning(story, idMap, this.state, this.currentStory);\n      this.destroyDuplicateSpaces();\n      this.$store.dispatch('models/cloneStory', clonedStory);\n      this.$store.dispatch('geometry/cloneStoryGeometry', clonedGeometry);\n      for (let i = this.currentStory.shading.length - 1; i >= 0; i--) {\n        this.$store.dispatch('models/destroyShading', {\n          shading: this.currentStory.shading[i],\n          story: this.currentStory,\n        });\n      }\n    },\n    destroyDuplicateSpaces() {\n      this.$store.dispatch('models/destroySpace', {\n        space: this.currentStory.spaces[0],\n        story: this.currentStory,\n      });\n    },\n\n    /*\n    * DESTROY OBJECT\n    */\n    destroyObject(object) {\n      switch (this.mode) {\n        case 'stories':\n          this.$store.dispatch('models/destroyStory', { story: object });\n          return;\n        case 'spaces':\n          this.$store.dispatch('models/destroySpace', {\n            space: object,\n            story: this.$store.state.models.stories.find(story => story[this.mode].find(o => o.id === object.id)),\n          });\n          break;\n        case 'shading':\n          this.$store.dispatch('models/destroyShading', {\n            shading: object,\n            story: this.$store.state.models.stories.find(story => story[this.mode].find(o => o.id === object.id)),\n          });\n          break;\n        case 'images':\n          this.$store.dispatch('models/destroyImage', {\n            image: object,\n            story: this.$store.state.models.stories.find(story => story[this.mode].find(o => o.id === object.id)),\n          });\n          break;\n        case 'window_definitions':\n          this.$store.dispatch('models/destroyWindowDef', { object });\n          break;\n        case 'daylighting_control_definitions':\n          this.$store.dispatch('models/destroyDaylightingControlDef', { object });\n          break;\n        case 'door_definitions':\n          this.$store.dispatch('models/destroyDoorDef', { object });\n          break;\n        case 'windows':\n          this.$store.dispatch('models/destroyWindow', { story_id: this.currentStory.id, object });\n          break;\n        case 'daylighting_controls':\n          this.$store.dispatch('models/destroyDaylightingControl', { story_id: this.currentStory.id, object });\n          break;\n        default:\n          this.$store.dispatch('models/destroyObject', { object });\n          break;\n      }\n    },\n\n  },\n  components: {\n    EditableSelectList,\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Library.vue?6b7d17eb","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n<template>\n  <div class=\"library-select\">\n    <div class=\"rows\">\n      <div\n        v-for=\"item in rows\"\n        :key=\"item.id\"\n        :class=\"{ active: selectedItemId === item.id }\"\n        @click=\"selectItem(item)\"\n        :data-id=\"item.id\"\n      >\n          <span :style=\"{ 'background-color': item.color }\"></span>\n          {{item.name}}\n          <div class=\"buttons\">\n            <a @click.stop=\"duplicateRow(item)\" class=\"duplicate\" title=\"duplicate\">\n              <Copy class=\"button\" />\n            </a>\n            <a @click.stop=\"destroyItem(item)\" class=\"destroy\" title=\"delete\">\n              <Delete class=\"button\" />\n            </a>\n          </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Delete from './../assets/svg-icons/delete.svg';\nimport Copy from './../assets/svg-icons/copy_icon.svg';\n\nexport default {\n  name: 'LibrarySelect',\n  props: ['rows', 'selectedItemId', 'selectItem', 'destroyItem', 'duplicateRow'],\n  components: {\n    Delete,\n    Copy,\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n\n.library-select {\n  padding: 0 0 !important;\n  max-height: calc(100% - 65px);\n  overflow-y: auto;\n  .rows {\n    > div {\n      border-bottom: 1px solid $gray-darkest;\n      cursor: pointer;\n      width: calc(100% - 1rem);;\n      height: 2rem;\n      padding: 0 .5rem;\n\n      align-items: center;\n      display: flex;\n      justify-content: space-between;\n\n      &.active {\n        color: #02cf02;\n        background: $gray-medium-light;\n      }\n      span {\n        display: inline-block;\n        height: 1rem;\n        width: 1rem;\n      }\n\n      svg {\n        height: 1rem;\n        width: 1rem;\n        margin-top: -5px;\n        margin-left: 1px;\n        fill: $gray-lightest;\n\n        &:hover {\n          fill: $secondary;\n        }\n      }\n    }\n  }\n  // overflow: auto;\n  // height: calc(100% - 5rem);\n  // > div  {\n  //     border-bottom: 1px solid $gray-darkest;\n  //     cursor: pointer;\n  //     height: 2rem;\n  //     padding: 0 .5rem;\n  //     span {\n  //         display: inline-block;\n  //         height: 1rem;\n  //         width: 1rem;\n  //     }\n  //     &.active {\n  //         color: $primary;\n  //         svg {\n  //             cursor: pointer;\n  //             height: 1rem;\n  //             path {\n  //                 fill: $gray-lightest;\n  //             }\n  //             &:hover {\n  //                 path {\n  //                     fill: $secondary;\n  //                 }\n  //             }\n  //         }\n  //     }\n  // }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// LibrarySelect.vue?52261226","<template>\n  <transition name=\"modal\">\n    <Portal to=\"color-picker\">\n      <div class=\"color-picker-modal\">\n        <div class=\"modal-mask\">\n          <div class=\"modal-wrapper\" @click=\"$emit('close')\">\n            <div class=\"modal-container\" @click.stop>\n              <div class=\"modal-body\">\n                <swatches v-model=\"color\" inline show-fallback />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Portal>\n  </transition>\n</template>\n\n<script>\nimport Swatches from 'vue-swatches';\nimport { Portal } from 'portal-vue';\n\nexport default {\n  name: 'ColorPickerModal',\n  props: ['value'],\n  computed: {\n    color: {\n      get() {\n        return this.value;\n      },\n      set(newVal) {\n        this.$emit('change', newVal);\n      },\n    },\n  },\n  mounted() {\n    document.addEventListener('keydown', this.closeOnEsc);\n  },\n  beforeDestroy() {\n    document.removeEventListener('keydown', this.closeOnEsc);\n  },\n  methods: {\n    closeOnEsc(e) {\n      if (e.keyCode === 27) {\n        this.$emit('close');\n      }\n    },\n  },\n  components: {\n    Portal,\n    Swatches,\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.color-picker-modal {\n  .modal-mask {\n    position: fixed;\n    z-index: 9998;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: table;\n    transition: opacity 0.3s ease;\n\n    .modal-wrapper {\n      display: table-cell;\n      vertical-align: middle;\n    }\n\n    .modal-container {\n      box-sizing: border-box;\n      width: 300px;\n      margin: 0px auto;\n      padding: 20px 30px;\n      background-color: #fff;\n      border-radius: 2px;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n      transition: all 0.3s ease;\n      font-family: Helvetica, Arial, sans-serif;\n    }\n\n    .modal-body {\n      box-sizing: border-box;\n      font-size: 14px;\n      margin: 20px 0;\n      text-align: center;\n    }\n\n    /*\n    * The following styles are auto-applied to elements with\n    * transition=\"modal\" when their visibility is toggled\n    * by Vue.js.\n    *\n    * You can easily play with the modal transition by editing\n    * these styles.\n    */\n\n    .modal-enter {\n      opacity: 0;\n    }\n\n    .modal-leave-active {\n      opacity: 0;\n    }\n\n    .modal-enter .modal-container,\n    .modal-leave-active .modal-container {\n      -webkit-transform: scale(1.1);\n      transform: scale(1.1);\n    }\n    /* customizing color picker */\n    *:focus {\n      outline: none;\n    }\n    .vue-swatches__container,\n    .vue-swatches__wrapper {\n      &:focus {\n        outline: none;\n      }\n    }\n    .vue-swatches .vue-swatches__wrapper {\n      display: flex;\n      max-width: 100%;\n      flex-wrap: wrap;\n      justify-content: center;\n      padding: 0 !important;\n    }\n\n    .vue-swatches__check__wrapper .vue-swatches--has-children-centered {\n      line-height: 23px;\n    }\n\n    .vue-swatches__container {\n      .vue-swatches__wrapper {\n        .vue-swatches__swatch {\n          min-width: 42px;\n          display: block;\n          margin-right: 5px !important;\n          margin-left: 5px;\n          .vue-swatches__check__wrapper {\n            margin-top: 9px;\n          }\n        }\n      }\n      .vue-swatches__fallback__input {\n        background: unset;\n        color: black;\n      }\n      .vue-swatches__fallback__button {\n        display: none;\n      }\n\n      input {\n        font-size: 16px;\n        height: 16px;\n        margin: 5px 0 5px 0;\n        padding: 5px 2px 5px 2px;\n        width: 229px;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ColorPickerModal.vue?6b4738e4","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n<aside>\n    <div class=\"overlay\"></div>\n    <div class=\"modal\">\n        <header>\n            <h2>Quickstart</h2>\n        </header>\n        <NonChromeWarning />\n        <div class=\"content\">\n            <p>\n              <a @click=\"mapEnabled = false; mapVisible = false; $emit('close')\" class=\"quickstart-action new-floorplan\">\n                <div class=\"title\">New</div>\n                <QuickstartIconNewFloorplan />\n                <div class=\"explanation\">Create a new floorplan</div>\n              </a>\n            </p>\n            <p>\n              <a @click=\"mapEnabled = true; tool='Map'; $emit('close')\" :disabled=\"!online\" class=\"quickstart-action\">\n                <div class=\"title\">New With Map</div>\n                <QuickstartIconNewMapFloorplan />\n                <div class=\"explanation\">Create a new floorplan with a map</div>\n              </a>\n            </p>\n            <p>\n              <a @click=\"$refs.importInput.click()\" id=\"import\" class=\"quickstart-action open-floorplan\">\n                <div class=\"title\">Open</div>\n                <QuickstartIconOpenFloorplan />\n                <div class=\"explanation\">Open an existing floorplan</div>\n              </a>\n            </p>\n            <input id=\"importInput\" ref=\"importInput\" @change=\"importFloorplanAsFile\" type=\"file\"/>\n        </div>\n    </div>\n</aside>\n</template>\n\n<script>\nimport svgs from '../svgs';\nimport NonChromeWarning from '../NonChromeWarning.vue';\n\nexport default {\n  name: 'MapModal',\n  data() {\n    return {\n      address: '',\n    };\n  },\n  computed: {\n    online () { return window.api && window.api.config ? window.api.config.online : true; },\n    mapEnabled: {\n      get() { return this.$store.state.project.map.enabled; },\n      set(enabled) {\n        this.$store.dispatch('project/setMapEnabled', { enabled });\n      },\n    },\n    tool: {\n      get() { return this.$store.state.application.currentSelections.tool; },\n      set(val) { this.$store.dispatch('application/setCurrentTool', { tool: val }); },\n    },\n  },\n  methods: {\n    importFloorplanAsFile(event) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.addEventListener('load', () => {\n        this.importFloorplan(reader.result);\n      }, false);\n\n      if (file) { reader.readAsText(file); }\n    },\n    importFloorplan(data) {\n      this.$store.dispatch('importFloorplan', {\n        clientWidth: document.getElementById('svg-grid').clientWidth,\n        clientHeight: document.getElementById('svg-grid').clientHeight,\n        data: JSON.parse(data),\n      });\n      this.$emit('close');\n    },\n  },\n  components: {\n    ...svgs,\n    NonChromeWarning,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\n\n.modal {\n    width: 35rem;\n    background: #CCCCCC;\n    header h2 {\n      font-weight: bold;\n    }\n\n    .content {\n        margin: 0 2rem 2rem 2rem;\n        text-align: center;\n        display: flex;\n        justify-content: space-around;\n\n        button {\n            margin: 1rem .5rem;\n        }\n\n        input[type=file] {\n            display: none;\n        }\n\n        .explanation {\n          color: #5D5D5D;\n        }\n        .title {\n          color: #5D5D5D;\n          text-transform: uppercase;\n          font-weight: bold;\n          margin-top: 2rem;\n        }\n    }\n}\n\n.quickstart-action {\n  margin: auto;\n  svg {\n    height: 4rem;\n    width: 4rem;\n  }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// MapModal.vue?e928134a","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n<aside>\n    <div @click=\"close\" class=\"overlay\"></div>\n    <div class=\"modal\">\n      <span>\n        <svg class=\"close-button\" @click=\"close\" viewBox=\"0 0 256 256\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z\"/>\n        </svg>\n      </span>\n        <header>\n            <h2>{{ title }}</h2>\n        </header>\n\n        <div class=\"content\">\n          <slot></slot>\n        </div>\n    </div>\n</aside>\n</template>\n\n<script>\n\nexport default {\n  name: 'ModalBase',\n  props: ['title'],\n  methods: {\n    close: function() {\n      this.$emit('close');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\n.content {\n    margin: 1rem;\n    text-align: center;\n\n    button {\n        margin: 1rem .5rem;\n    }\n}\n\n.modal {\n    width: 30rem;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    z-index: 4;\n    cursor: default;\n\n    svg {\n        margin-left: -0.25rem;\n        width: 1rem;\n        path {\n            fill: $gray-medium-light;\n            stroke-width: 2px;\n            stroke: $gray-medium-light\n        }\n    }\n\n    .close-button {\n      cursor: pointer;\n      text-transform: uppercase;\n      position: relative;\n      float: left;\n      left: 18px;\n      top: 8px;\n    }\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ModalBase.vue?796cfae4","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <ModalBase\n    :title=\"`Save ${saveWhat} as`\"\n    @close=\"$emit('close')\"\n  >\n    <span class=\"input-text\">\n      <input ref=\"downloadName\" type=\"text\"\n        id=\"download-name\"\n        @keyup.enter=\"downloadFile\"\n        :value=\"saveWhat.toLowerCase()\"\n        spellcheck=\"false\"\n      />\n      .json\n      <button class=\"download-button\" @click=\"downloadFile\">Download</button>\n    </span>\n  </ModalBase>\n</template>\n\n<script>\nimport ModalBase from './ModalBase.vue';\n\nexport default {\n  name: 'SaveAsModal',\n  props: ['saveWhat', 'dataToDownload'],\n  mounted() {\n    this.$refs.downloadName.focus();\n  },\n  methods: {\n    downloadFile: function() {\n      const a = document.createElement('a');\n      const blob = new Blob(\n        [JSON.stringify(this.dataToDownload)],\n        {\n          type: 'text/json;charset=utf-8',\n        },\n      );\n      a.setAttribute('href', URL.createObjectURL(blob));\n      a.setAttribute('download', this.$refs.downloadName.value + '.json');\n      a.click();\n\n      console.log(`exporting:\\n${JSON.stringify(this.dataToDownload)}`); // eslint-disable-line\n      this.$emit('close');\n    },\n  },\n  components: {\n    ModalBase,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\n.download-button {\n  cursor: pointer;\n  text-transform: uppercase;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// SaveAsModal.vue?1226c605","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <ModalBase\n    class=\"settings-modal\"\n    title=\"Settings\"\n    @close=\"$emit('close')\"\n  >\n    <div class=\"settings\">\n      <p>\n        <label class=\"input-text\">\n          North Axis\n          <input type=\"text\" v-model.number.lazy=\"northAxis\" :disabled=\"mapEnabled\" />\n        </label>\n      </p>\n      <ExpandableDrawer title=\"Ground Properties\" class=\"ground-props-drawer\">\n        <p>\n          <label class=\"input-text\">\n            Floor Offset\n            <Info>\n              Specifies the vertical offset between the building floor and the ground plane.\n              Use a value &lt; 0 for buildings with below-grade spaces, or a value &gt; 0 for,\n              e.g., buildings on piers.\n            </Info>\n            <input type=\"text\" v-model=\"floor_offset\" />\n          </label>\n        </p>\n        <p>\n          <label class=\"input-text\">\n            Azimuth Angle\n            <Info>\n              Direction of the ground plane, in clockwise degrees from the\n              positive y-axis when viewed from above.\n            </Info>\n            <input type=\"text\" v-model=\"azimuth_angle\" />\n          </label>\n        </p>\n        <p>\n          <label class=\"input-text\">\n            Tilt Slope\n            <Info>\n              Slope of the ground plane from horizontal. For example, a value of 1 implies a 45&deg; angle.\n            </Info>\n            <input type=\"text\" v-model=\"tilt_slope\" />\n          </label>\n        </p>\n      </ExpandableDrawer>\n      <button class=\"button\" @click=\"$emit('close')\">Okay</button>\n    </div>\n  </ModalBase>\n</template>\n<script>\nimport { mapState } from 'vuex';\nimport ModalBase from './ModalBase.vue';\nimport Info from '../Info.vue';\nimport ExpandableDrawer from '../ExpandableDrawer.vue';\n\nexport default {\n  name: 'Settings',\n  computed: {\n    ...mapState({\n        ground: state => state.project.ground,\n        mapEnabled: state => state.project.map.enabled,\n    }),\n    floor_offset: {\n      get() { return this.ground.floor_offset; },\n      set(val) { this.$store.dispatch('project/modifyGround', { key: 'floor_offset', val }); },\n    },\n    azimuth_angle: {\n      get() { return this.ground.azimuth_angle; },\n      set(val) { this.$store.dispatch('project/modifyGround', { key: 'azimuth_angle', val }); },\n    },\n    tilt_slope: {\n      get() { return this.ground.tilt_slope; },\n      set(val) { this.$store.dispatch('project/modifyGround', { key: 'tilt_slope', val }); },\n    },\n    northAxis: {\n      get() { return `${this.$store.state.project.north_axis}`; },\n      set(northAxis) { this.$store.dispatch('project/setNorthAxis', { north_axis: northAxis }); },\n    },\n  },\n  components: {\n    ModalBase,\n    Info,\n    ExpandableDrawer,\n  },\n}\n</script>\n<style lang=\"scss\">\n@import \"./../../scss/config\";\n.settings-modal .modal {\n  width: 260px;\n}\n\n.settings {\n  margin: 0 auto;\n  width: 200px;\n  input {\n    height: 20px;\n    font-size: 16px;\n    margin-left: auto;\n    width: 30px;\n  }\n\n  .ground-props-drawer {\n    .title {\n      text-align: left;\n    }\n    border: grey 1px solid;\n    border-radius: 5px;\n    padding: 4px;\n    padding-left: 10px;\n    width: 210px;\n    margin-left: -12px;\n  }\n\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Settings.vue?d916ec66","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <div id=\"layout-navigation\">\n    <nav id=\"navigation\">\n        <section id=\"selections\">\n        </section>\n\n        <div id=\"list\">\n          <Library\n            :objectTypes=\"['stories']\"\n            :mode=\"'stories'\"\n            :compact=\"libraryExpanded !== 'stories'\"\n            @toggleCompact=\"libraryExpanded = (libraryExpanded === 'stories' ? false : 'stories')\"\n          />\n          <Library\n            addNewOnHotkey=\"true\"\n            :objectTypes=\"objectTypesForTab\"\n            :mode=\"subselectionType\"\n            @changeMode=\"newMode => { subselectionType = newMode; }\"\n            :searchAvailable=\"true\"\n            :compact=\"libraryExpanded !== 'subselection'\"\n            @toggleCompact=\"libraryExpanded = (libraryExpanded === 'subselection' ? false : 'subselection')\"\n          />\n        </div>\n    </nav>\n\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport { mapState, mapGetters } from 'vuex';\nimport ResizeEvents from './Resize/ResizeEvents';\nimport Library from './Library.vue';\n\nexport default {\n  name: 'navigation',\n  data() {\n    return {\n      libraryExpanded: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentComponent: 'application/currentComponent',\n    }),\n    ...mapState({\n      modeTab: state => state.application.currentSelections.modeTab,\n    }),\n\n    /*\n    * current selection getters and setters\n    * these dispatch actions to update the data store when a new item is selected\n    */\n    currentStory: {\n      get() { return this.$store.getters['application/currentStory']; },\n      set(story) { this.$store.dispatch('application/setCurrentStoryId', { id: story.id }); },\n    },\n    currentSubSelection: {\n      get() { return this.$store.getters['application/currentSubSelection']; },\n      set(item) { this.$store.dispatch('application/setCurrentSubSelectionId', { id: (item ? item.id : null) }); },\n    },\n\n    // currentStory's child spaces, shading, and images\n    spaces() { return this.currentStory.spaces; },\n    shading() { return this.currentStory.shading; },\n    images() { return this.currentStory.images; },\n    objectTypesForTab() {\n      switch (this.modeTab) {\n        case 'floorplan':\n          return ['spaces', 'shading', 'images'];\n        case 'shading':\n          return ['shading'];\n        case 'components':\n          return ['window_definitions', 'daylighting_control_definitions', 'door_definitions'];\n        case 'assign':\n          return ['building_units', 'building_types', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\n      }\n    },\n    mode: {\n      get() { return this.$store.state.application.currentSelections.mode; },\n      set(mode) { this.$store.dispatch('application/setCurrentMode', { mode }); },\n    },\n    subselectionType: {\n      get() { return this.$store.state.application.currentSelections.subselectionType; },\n      set(sst) { this.$store.dispatch('application/setCurrentSubselectionType', { subselectionType: sst }); },\n    },\n  },\n  methods: {\n    // reset the nagiv   size when the window is resized\n    resetSize() {\n      if (this.libraryExpanded) {\n        return;\n      }\n    },\n    setWidthForOpenLibrary() {\n      this.$emit('expanded', !!this.libraryExpanded);\n      ResizeEvents.$emit('resize');\n    },\n  },\n  watch: {\n    libraryExpanded() {\n      this.setWidthForOpenLibrary();\n    },\n    objectTypesForTab(val) {\n      if (!_.includes(val, this.subselectionType)){\n        if (this.modeTab === 'assign') {\n          this.subselectionType = 'thermal_zones';\n        } else {\n          this.subselectionType = val[0];\n        }\n      }\n    },\n  },\n  components: {\n    Library,\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n#navigation {\n  background-color: $gray-medium-dark;\n  border-right: 1px solid $gray-darkest;\n  font-size: 0.75rem;\n  height: 100%;\n  user-select: none;\n\n  #list {\n    display: flex;\n    height: 100%;\n    .editable-select-list {\n      border-right: 1px solid $gray-darkest;\n      height: 100%;\n      width: 200px;\n      background-color: $gray-medium-dark;\n      &.expanded {\n        width: calc(100% - 200px);\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Navigation.vue?7e153394","<template>\n  <p v-if=\"!isChrome\"\n    class=\"non-chrome-warning\"\n  >\n    Warning. This web-app is currently only tested against recent versions of Chrome. \n  </p>\n</template>\n\n<script>\nexport default {\n  computed: {\n    isChrome() {\n      var isChromium = (window.chrome || window.qt),\n        winNav = window.navigator,\n        vendorName = winNav.vendor,\n        isOpera = winNav.userAgent.indexOf(\"OPR\") > -1,\n        isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1,\n        isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\n      if (isIOSChrome) {\n        return false;\n      } else if (\n        isChromium !== null &&\n        typeof isChromium !== \"undefined\" &&\n        vendorName === \"Google Inc.\" &&\n        isOpera === false &&\n        isIEedge === false\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n}\n</script>\n<style>\n  .non-chrome-warning {\n    background: tomato;\n    padding: 20px;\n    color: white;\n\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// NonChromeWarning.vue?7a2e42eb","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <div class='input-select'>\n      <label v-if=\"label\">{{ label }}</label>\n      <select ref=\"select\" @change=\"handleChange\" :disabled=\"disabled\" class=\"pretty-select\">\n          <option v-for='opt in normalizedOpts' :value=\"opt.val\" :selected=\"opt.val === value\">{{ opt.display }}</option>\n      </select>\n      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 13 14' height='10px'>\n          <path d='M.5 0v14l11-7-11-7z' transform='translate(13) rotate(90)'></path>\n      </svg>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash';\n\nexport default {\n  name: 'PrettySelect',\n  props: ['options', 'value', 'label', 'disabled', 'editable', 'space_id', 'type', 'type_id'],\n  computed: {\n    normalizedOpts() {\n      /**\n       * Appends an additional option for creating new options if the editable flag is enabled\n       */\n      const attachEditable = (arr) => {\n        if (this.editable) {\n          return [...arr, {\n            val: 'Create New',\n            display: 'Create New',\n          }];\n        } else {\n          return arr;\n        }\n      }\n\n      if (_.isArray(this.options)) {\n        if (!this.options.length) {\n          return attachEditable([]);\n        }\n        if (_.has(this.options[0], 'val') && _.has(this.options[0], 'display')) {\n          return attachEditable(this.options);\n        }\n        if (_.isString(this.options[0])) {\n          return attachEditable(this.options.map(o => ({ val: o, display: o })));\n        }\n      }\n      console.warn('unrecognized options structure', this.options);\n      return this.options;\n    }\n  },\n  methods: {\n    /**\n     * Handles a change in the selection\n     * If the target is 'Create New', it will dispatch an event to create a new option in the select\n     * \n     * @param event\n     */\n    handleChange(event) {\n      if (event.target.value === 'Create New') {\n        event.stopPropagation();\n        event.preventDefault();\n\n        // The select attempts to change to 'Create New' on select before the state updates\n        // Manually forcing it back to the old value temporarily prevents that\n        this.$refs.select.value = this.value;\n\n        this.$store.dispatch('models/createObjectWithTypeAndSelect', {\n          type: this.type,\n          type_id: this.type_id,\n          space_id: this.space_id,\n        });\n      } else {\n        this.$emit('change', event.target.value);\n      }\n    },\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n\n.input-select {\n  select {\n    padding-top: 4px;\n    padding-bottom: 4px;\n    border-width: 1px;\n    font-size: 11px;\n    max-width: 134px;\n\n    option {\n      padding-left: 2px;\n      padding-right: 2px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PrettySelect.vue?071b57aa","<template>\n  <div class=\"render-by\">\n    <PrettySelect\n      label=\"View By\"\n      :options=\"renderableOptions\"\n      :value=\"currentMode\"\n      @change=\"val => { currentMode = val }\"\n    />\n  </div>\n</template>\n\n<script>\nimport { displayNameForMode } from './../store/modules/application/helpers';\nimport PrettySelect from './PrettySelect';\n\nexport default {\n  computed: {\n    renderableProperties() {\n      return ['spaces', 'building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\n    },\n    renderableOptions() {\n      return this.renderableProperties.map(p => ({\n        display: displayNameForMode(p),\n        val: p,\n      }));\n    },\n    currentMode: {\n      get() { return this.$store.state.application.currentSelections.mode; },\n      set(mode) { this.$store.dispatch('application/setCurrentMode', { mode }); },\n    },\n  },\n  components: {\n    PrettySelect,\n  },\n}\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// RenderByDropdown.vue?3341fcc8","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <div class='input-select'>\n    <button\n      v-if='!disabled'\n      :class=\"`texture-${value}`\"\n      @click=\"open = !open\"\n      @blur=\"open = false\"\n    >\n      <span class=\"svg-background\" />\n      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 13 14' height='10px'>\n          <path d='M.5 0v14l11-7-11-7z' transform='translate(13) rotate(90)'></path>\n      </svg>\n    </button>\n    <Portal v-if=\"open\" to=\"texture-options\">\n      <ul :style=\"ulStyle()\">\n        <li\n          v-for=\"texture in textures\"\n          :key=\"texture\"\n          :class=\"{\n            [`texture-${texture}`]: true,\n            selected: texture === value,\n          }\"\n          @mousedown=\"choose(texture)\"\n        />\n      </ul>\n    </Portal>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { Portal } from 'portal-vue';\nimport { textures } from '../store/modules/application/appconfig';\nimport _ from 'lodash';\n\nexport default {\n  name: 'TextureSelect',\n  props: ['value', 'label', 'disabled'],\n  data() {\n    return {\n      open: false,\n    };\n  },\n  computed: {\n    textures() { return textures; },\n  },\n  methods: {\n    choose(texture) {\n      this.$emit('change', texture);\n      this.open = false;\n    },\n    ulStyle() {\n      const bb = this.$el && this.$el.getBoundingClientRect();\n      if (!bb) return {};\n      return {\n        left: `${bb.left}px`,\n        top: `${bb.top + bb.height - 17}px`,\n        width: `${bb.width}px`,\n      };\n    },\n  },\n  components: {\n    Portal,\n  },\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\nsvg path {\n  fill: $gray-medium;\n  stroke: $gray-medium;\n}\nbutton {\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-width: 1px;\n  font-size: 11px;\n  width: 100%;\n  height: 20px;\n}\n.svg-background {\n  background-color: white;\n  height: 100%;\n  width: 15px;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\nul {\n  pointer-events: all;\n  position: absolute;\n  list-style-type: none;\n  background-color: white;\n  padding-left: 0;\n  width: 100%;\n  z-index: 4;\n  overflow-y: scroll;\n  max-height: 120px;\n}\nli {\n  border-top: 3px solid white;\n  width: 100%;\n  height: 20px;\n  &:hover {\n    background-color: #aaa;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// TextureSelect.vue?05f6a0a2","<template>\n  <svg id=\"pattern-defs\">\n    <defs>\n      <template v-for=\"(color, modifier) in modifiers\">\n        <!-- ATTENCION!\n\n          If you add a pattern here, it will not display unless\n          you also add its name in appconfig.js\n\n          A warning will show in the console, and this situation will be\n          caught by our e2e tests.\n\n          Sorry for the duplication...\n        -->\n        <pattern\n          :id=\"`circles-2${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"5\" height=\"5\"\n        >\n          <rect width=\"5\" height=\"5\" fill=\"#fff\" fill-opacity=\"0.7\" />\n          <circle cx='1.5' cy='1.5' r='1.5' :fill=\"color\"/>\n        </pattern>\n        <pattern\n          :id=\"`circles-5${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"9\" height=\"9\"\n        >\n          <rect width=\"9\" height=\"9\" fill=\"#fff\" fill-opacity=\"0.7\" />\n          <circle cx='3' cy='3' r='3' :fill=\"color\"/>\n        </pattern>\n        <pattern\n          :id=\"`circles-8${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"10\" height=\"10\"\n        >\n          <rect width=\"10\" height=\"10\" fill=\"#fff\" fill-opacity=\"0.7\" />\n          <circle cx='4.5' cy='4.5' r='4.5' :fill=\"color\"/>\n        </pattern>\n        <pattern\n          :id=\"`diagonal-stripe-1${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"10\" height=\"10\"\n        >\n          <rect width=\"10\" height=\"10\" fill=\"#fff\" fill-opacity=\"0.7\" />\n          <path d='M-1,1 l2,-2\n                   M0,10 l10,-10\n                   M9,11 l2,-2' :stroke=\"color\" stroke-width='1'/>\n        </pattern>\n        <pattern\n          :id=\"`diagonal-stripe-4${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"10\" height=\"10\"\n        >\n          <rect width=\"10\" height=\"10\" fill=\"#fff\" fill-opacity=\"0.7\" />\n          <path d='M-1,1 l2,-2\n                   M0,10 l10,-10\n                   M9,11 l2,-2' :stroke=\"color\" stroke-width='3'/>\n        </pattern>\n        <pattern\n          :id=\"`diagonal-stripe-6${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"10\" height=\"10\"\n        >\n          <rect width='10' height='10' :fill='color'/>\n          <path d='M-1,1 l2,-2\n                   M0,10 l10,-10\n                   M9,11 l2,-2' stroke=\"white\" stroke-width='1'/>\n        </pattern>\n        <pattern\n          :id=\"`dots-5${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"10\" height=\"10\"\n        >\n          <rect width=\"10\" height=\"10\" fill=\"#fff\" fill-opacity=\"0.7\" />\n          <rect x='0' y='0' width='5' height='5' :fill='color' />\n        </pattern>\n        <pattern\n          :id=\"`dots-8${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"10\" height=\"10\"\n        >\n          <rect width=\"10\" height=\"10\" fill=\"#fff\" fill-opacity=\"0.7\" />\n          <rect x='0' y='0' width='8' height='8' :fill='color' />\n        </pattern>\n        <pattern\n          :id=\"`crosshatch${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"8\" height=\"8\"\n        >\n          <rect width=\"8\" height=\"8\" fill=\"#fff\" fill-opacity=\"0.7\" />\n          <path d='M0 0L8 8ZM8 0L0 8Z' stroke-width='0.5' :stroke='color' stroke-opacity=\"0.8\" />\n        </pattern>\n        <pattern\n          :id=\"`vertical-line${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"4\" height=\"49\"\n        >\n          <rect width='4' height='50' fill='#fff' fill-opacity=\"0.8\" />\n          <rect width='2' height='50' fill='#fff' fill-opacity=\"0.5\" />\n          <rect x='2' width='1' height='50' :fill='color' fill-opacity=\"0.5\" />\n        </pattern>\n      </template>\n    </defs>\n  </svg>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport { textures } from '../store/modules/application/appconfig';\n\nexport default {\n  name: 'Textures',\n  data() {\n    return {\n      modifiers: {\n        '-highlight': 'green',\n        '-selected': 'green',\n        '-facing-selection': 'blue',\n        '': '#222'\n      },\n    };\n  },\n  mounted() {\n    this.loadCssStyles();\n    this.checkTexturesList();\n  },\n  methods: {\n    loadCssStyles() {\n      const css = document.createElement('style');\n      css.type = 'text/css';\n      if (css.styleSheet) {\n        css.styleSheet.cssText = this.styles;\n      } else {\n        css.appendChild(document.createTextNode(this.styles));\n      }\n      document.head.appendChild(css);\n    },\n    checkTexturesList() {\n      const\n        missingTextures = _.difference(textures, _.map(this.patterns, 'id')),\n        extraTextures = _.difference(_.map(this.patterns, 'id'), textures);\n      if (missingTextures.length) {\n        console.error(`[warning]: Textures were added to Textures.vue, but not to appconfig.js.\n  This will cause those textures not to be used. The following are missing from appconfig:\n  ${missingTextures}`);\n      }\n      if (extraTextures.length) {\n        console.error(`[warning]: Textures were added to appconfig.js, but not to Textures.vue.\n  Those textures will not be visible. The following are missing from Textures.vue:\n  ${extraTextures}`);\n      }\n    },\n  },\n  computed: {\n    modSuffixes() { return _.filter(Object.keys(this.modifiers), _.identity) },\n    patterns() {\n      return _.reject(\n        Array.from(this.$el.querySelectorAll('pattern')),\n        // don't make css classes for modified textures\n        p => this.modSuffixes.some(ms => _.endsWith(p.getAttribute('id'), ms)),\n      );\n    },\n    cssStyles() {\n      return this.patterns\n        .map((pattern) => {\n          const\n            id = pattern.getAttribute('id'),\n            width = pattern.getAttribute('width'),\n            height = pattern.getAttribute('height'),\n            contents = pattern.innerHTML,\n            wrapped = `<svg xmlns='http://www.w3.org/2000/svg' width='${width}' height='${height}'>${contents}</svg>`;\n          return `\n            .texture-${id} {\n              background-image: url(\"data:image/svg+xml;base64,${btoa(wrapped)}\");\n              background-repeat: repeat;\n            }`;\n        });\n    },\n    windowStyles() {\n      return _.map(this.patterns, p => p.getAttribute('id'))\n        .map((id) => `\n            #grid svg .polygons .window .hatch[data-texture=\"${id}\"] {\n              fill: url(#${id});\n            }\n            #grid svg .polygons .window .facing-selection .hatch[data-texture=\"${id}\"] {\n              fill: url(#${id}-facing-selection);\n            }\n            #grid svg .polygons .window .selected .hatch[data-texture=\"${id}\"] {\n              fill: url(#${id}-selected);\n            }\n            #grid svg .highlight .window .hatch[data-texture=\"${id}\"] {\n              fill: url(#${id}-highlight);\n            }\n          `);\n    },\n    styles() {\n      return [...this.cssStyles, ...this.windowStyles].join('\\n');\n    },\n  },\n}\n</script>\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Textures.vue?b4686a34","<!-- Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <nav id=\"toolbar\">\n\n    <section id=\"top\">\n      <div id=\"navigation-head\">\n        <div v-if=\"showImportExport\" class=\"import-export-buttons\">\n          <input ref=\"importLibrary\" @change=\"importDataAsFile($event, 'library')\" type=\"file\" />\n          <input ref=\"importInput\" @change=\"importDataAsFile($event, 'floorplan')\" type=\"file\" />\n\n          <div title=\"open floorplan\">\n            <open-floorplan-svg @click.native=\"$refs.importInput.click()\" id=\"import\" class=\"button\"></open-floorplan-svg>\n          </div>\n          <div title=\"save floorplan\">\n            <save-floorplan-svg @click.native=\"exportData\" id=\"export\" class=\"button\"></save-floorplan-svg>\n          </div>\n          <div title=\"import library\">\n            <import-library-svg @click.native=\"$refs.importLibrary.click()\" class=\"button\"></import-library-svg>\n          </div>\n        </div>\n\n        <div id=\"undo-redo\">\n          <div title=\"undo\">\n            <undo-svg @click.native=\"undo\" class=\"button\" :class=\"{ 'disabled' : !timetravelInitialized }\"></undo-svg>\n          </div>\n          <div title=\"redo\">\n            <redo-svg @click.native=\"redo\" class=\"button\" :disabled=\"!timetravelInitialized\" :class=\"{ 'disabled' : !timetravelInitialized }\"></redo-svg>\n          </div>\n        </div>\n      </div>\n      <ul id=\"mode-tabs\">\n        <li @click=\"modeTab='floorplan'\" class=\"tab\" data-modetab=\"floorplan\" :class=\"{ active: modeTab === 'floorplan' }\">\n          <span>\n            Floorplan\n            <tab-floorplan-svg class=\"icon\"></tab-floorplan-svg>\n          </span>\n        </li>\n\n        <li @click=\"modeTab='assign'\" class=\"tab\" :class=\"{ active: modeTab === 'assign' }\">\n          <span>\n            Assignments\n            <tab-assign-svg  class=\"icon\"></tab-assign-svg>\n          </span>\n        </li>\n\n        <li @click=\"modeTab='components'\" class=\"tab\" data-modetab=\"components\" :class=\"{ active: modeTab === 'components' }\">\n          <span>\n            Components\n            <tool-component-svg  class=\"icon\"></tool-component-svg>\n          </span>\n        </li>\n\n        <li>\n          <span />\n        </li>\n      </ul>\n\n      <div id=\"grid-settings\">\n        <div class=\"input-checkbox\">\n          <label>Story Below</label>\n          <input type=\"checkbox\" v-model=\"previousStoryVisible\">\n        </div>\n\n        <div v-if=\"mapEnabled\" class=\"input-checkbox\">\n          <label>map</label>\n          <input type=\"checkbox\" v-model=\"mapVisible\">\n        </div>\n\n        <div class=\"input-checkbox\">\n          <label>grid</label>\n          <input type=\"checkbox\" v-model=\"gridVisible\">\n        </div>\n\n        <div class=\"input-number\">\n          <label>spacing</label>\n          <input v-model.number.lazy=\"spacing\">\n          <label v-if=\"!allowSettingUnits\">{{ rwUnits}}</label>\n        </div>\n        <PrettySelect\n          v-if=\"allowSettingUnits\"\n          ref=\"unitsSelect\"\n          :options=\"['ft', 'm']\"\n          :value=\"rwUnits\"\n          @change=\"updateUnits\"\n        />\n\n        <div @click=\"showGroundPropsModal = true\" title=\"settings\">\n          <SettingsGear class=\"button\" />\n        </div>\n      </div>\n    </section>\n\n    <section id=\"bottom\" :class=\"modeTab\">\n      <template  v-if=\"modeTab ==='floorplan'\">\n        <div id=\"instructions\">Draw a floorplan and import images</div>\n\n        <div id=\"drawing-tools\" class=\"tools-list tools\">\n          <div @click=\"tool = 'Rectangle'\" data-tool=\"Rectangle\" title=\"Rectangle\" :class=\"{ active: tool === 'Rectangle' }\">\n            <tool-draw-rectangle-svg class=\"button\"></tool-draw-rectangle-svg>\n          </div>\n          <div @click=\"tool = 'Polygon'\" data-tool=\"Polygon\" title=\"Polygon\" :class=\"{ active: tool === 'Polygon' }\">\n            <tool-draw-polygon-svg class=\"button\"></tool-draw-polygon-svg>\n          </div>\n          <div @click=\"tool = 'Fill'\" data-tool=\"Fill\" title=\"Fill\" :class=\"{ active: tool === 'Fill' }\">\n            <tool-fill-svg class=\"button\"></tool-fill-svg>\n          </div>\n          <div @click=\"tool = 'Eraser'\" data-tool=\"Eraser\" title=\"Eraser\" :class=\"{ active: tool === 'Eraser' }\">\n            <tool-erase-svg class=\"button\"></tool-erase-svg>\n          </div>\n          <!-- remove Select/Move tool -->\n          <!-- <div @click=\"tool = 'Select'\" data-tool=\"Select\" title=\"Select\" :class=\"{ active: tool === 'Select' }\">\n            <tool-move-size-svg class=\"button\"></tool-move-size-svg>\n          </div> -->\n          <div @click=\"setImageTool\" data-tool=\"Image\" title=\"Image\" :class=\"{ active: tool === 'Image' }\">\n            <tool-image-svg class=\"button\"></tool-image-svg>\n          </div>\n        </div>\n\n      </template>\n\n      <template v-if=\"modeTab === 'components'\">\n        <div id=\"instructions\">\n          <span v-if=\"!currentComponentDefinition\">Add fenestration, daylighting, and PV</span>\n          <span v-else>Click to place a {{currentComponentDefinition.name}}</span>\n        </div>\n        <ComponentInstanceEditBar />\n        <!-- No need to show tool options if there's only the one choice. -->\n        <!-- <div id=\"drawing-tools\" class=\"tools-list tools\">\n          <div @click=\"tool = 'Place Component'\" data-tool=\"Place Component\" title=\"Place Component\" :class=\"{ active: tool === 'Place Component' }\">\n            <tool-component-svg class=\"button\"></tool-component-svg>\n          </div>\n        </div> -->\n      </template>\n\n      <template v-if=\"modeTab==='assign'\">\n        <div id=\"instructions\">Assign thermal zones, etc, to spaces</div>\n        <!-- No need to show tool options if there's only the one choice. -->\n        <!-- <div id=\"drawing-tools\" class=\"tools-list tools\">\n          <div @click=\"tool = 'Apply Property'\" data-tool=\"Apply Property\" title=\"Apply Property\" :class=\"{ active: tool === 'Apply Property' }\">\n            <tab-assign-svg class=\"button\"></tab-assign-svg>\n          </div>\n        </div> -->\n      </template>\n\n      <div id=\"grid-tools\">\n        <RenderByDropdown />\n        <div title=\"zoom to fit\">\n          <ZoomToFitSvg class=\"button\" @click.native=\"zoomToFit\"></ZoomToFitSvg>\n        </div>\n      </div>\n\n\n      <!-- <div id=\"snapping-options\">\n        <button @click=\"snapMode = 'grid-strict'\" :class=\"{ active: snapMode === 'grid-strict' }\">Strict Grid</button>\n        <button @click=\"snapMode = 'grid-verts-edges'\" :class=\"{ active: snapMode === 'grid-verts-edges' }\">Edges too</button>\n      </div> -->\n\n\n    </section>\n\n    <section class=\"modals\">\n      <SaveAsModal\n        v-if=\"showSaveModal\"\n        :saveWhat=\"thingWereSaving\"\n        :dataToDownload=\"dataToDownload\"\n        @close=\"() => {showSaveModal = false; thingWereSaving = '';}\"\n      />\n      <Settings\n        v-else-if=\"showGroundPropsModal\"\n        @close=\"showGroundPropsModal = false\"\n      />\n    </section>\n  </nav>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex';\nimport SaveAsModal from './Modals/SaveAsModal.vue';\nimport Settings from './Modals/Settings.vue';\nimport PrettySelect from './PrettySelect.vue';\nimport applicationHelpers from './../store/modules/application/helpers';\nimport svgs from './svgs';\nimport RenderByDropdown from './RenderByDropdown.vue';\nimport ComponentInstanceEditBar from './ComponentInstanceEditBar.vue';\nimport appconfig, { componentTypes } from '../store/modules/application/appconfig';\n\n\n// svgs\n\nexport default {\n  name: 'toolbar',\n  data() {\n    return {\n      componentTypes: {\n        daylighting_control_definitions: 'Daylighting Control Definitions',\n        window_definitions: 'Window Definitions',\n      },\n      showSaveModal: false,\n      thingWereSaving: '',\n      visibleComponentType: null,\n      showGroundPropsModal: false,\n    };\n  },\n  methods: {\n    setImageTool() {\n      this.tool = 'Image';\n      if (this.currentStory.images.length === 0) {\n        window.eventBus.$emit('uploadImage');\n      }\n    },\n    zoomToFit() {\n      window.eventBus.$emit('zoomToFit');\n    },\n    exportData() {\n      this.thingWereSaving = 'Floorplan';\n      this.showSaveModal = true;\n      return this.$store.getters['exportData'];\n    },\n    importDataAsFile(event, type) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n\n      reader.addEventListener('load', () => {\n        let data;\n        try {\n          data = JSON.parse(reader.result);\n        } catch (e) {\n          window.eventBus.$emit('error', 'Invalid JSON');\n          return;\n        }\n        if (type === 'library') {\n          this.$store.dispatch('importLibrary', { data });\n        } else if (type === 'floorplan') {\n          this.$store.dispatch('importFloorplan', {\n            clientWidth: document.getElementById('svg-grid').clientWidth,\n            clientHeight: document.getElementById('svg-grid').clientHeight,\n            data,\n          });\n        }\n      }, false);\n\n      if (file) { reader.readAsText(file); }\n    },\n    undo() { this.$store.timetravel.undo(); },\n    redo() { this.$store.timetravel.redo(); },\n    updateUnits(val) {\n      if (this.allowSettingUnits) {\n        this.rwUnits = val;\n      } else {\n        window.eventBus.$emit('error', 'Units must be set before any geometry is drawn.');\n      }\n      // not today, friend...\n      // this.$store.dispatch('changeUnits', { newUnits: val });\n    },\n    displayNameForMode(mode) { return applicationHelpers.displayNameForMode(mode); },\n  },\n  computed: {\n    latestCreatedCompId() {\n      return _.chain(this.allComponents)\n        .map('defs')\n        .flatten()\n        .map('id')\n        .map(Number)\n        .max()\n        .value() + '';\n    },\n    allComponents() {\n      return componentTypes.map(ct => ({\n        defs: this.$store.state.models.library[ct],\n        name: appconfig.modes[ct],\n        type: ct,\n      }));\n    },\n    currentComponentType() {\n      return this.currentComponent.type;\n    },\n    currentComponentDefinition() {\n      return this.currentComponent.definition;\n    },\n    ...mapGetters({\n      currentSpaceProperty: 'application/currentSpaceProperty',\n      currentStory: 'application/currentStory',\n    }),\n    ...mapState({\n      mapEnabled: state => state.project.map.enabled,\n      timetravelInitialized: state => state.timetravelInitialized,\n      showImportExport: state => state.project.show_import_export,\n      allowSettingUnits: state => false, //state.project.config.unitsEditable && state.geometry.length === 1 && state.geometry[0].vertices.length === 0,\n    }),\n    currentSubselectionType: {\n      get() { return this.$store.state.application.currentSelections.subselectionType; },\n      set(sst) { this.$store.dispatch('application/setCurrentSubselectionType', { subselectionType: sst }); },\n    },\n    availableTools() {\n      let tools = [];\n      switch (this.modeTab) {\n        case 'floorplan':\n          tools = ['Rectangle', 'Polygon', 'Eraser', 'Select', 'Image'];\n          break;\n        case 'shading':\n          tools = ['Rectangle', 'Polygon', 'Eraser', 'Select'];\n          break;\n        case 'components':\n          tools = ['Place Component'];\n          break;\n        case 'assign':\n          tools = ['Apply Property'];\n          break;\n        default:\n          break;\n      }\n      if (this.previousStoryVisible && (this.modeTab === 'floorplan' || this.currentMode === 'shading')) {\n        tools.push('Fill');\n      }\n      return tools;\n    },\n    currentMode: {\n      get() { return this.$store.state.application.currentSelections.mode; },\n      set(mode) { this.$store.dispatch('application/setCurrentMode', { mode }); },\n    },\n    modeTab: {\n      get() { return this.$store.state.application.currentSelections.modeTab; },\n      set(mt) { this.$store.dispatch('application/setCurrentModeTab', { modeTab: mt }); },\n    },\n    gridVisible: {\n      get() { return this.$store.state.project.grid.visible; },\n      set(visible) { this.$store.dispatch('project/setGridVisible', { visible }); },\n    },\n    mapVisible: {\n      get() { return this.$store.state.project.map.visible; },\n      set(visible) { this.$store.dispatch('project/setMapVisible', { visible }); },\n    },\n    previousStoryVisible: {\n      get() { return this.$store.state.project.previous_story.visible; },\n      set(visible) { this.$store.dispatch('project/setPreviousStoryVisible', { visible }); },\n    },\n    tool: {\n      get() { return this.$store.state.application.currentSelections.tool; },\n      set(tool) { this.$store.dispatch('application/setCurrentTool', { tool }); },\n    },\n    // spacing between gridlines, measured in RWU\n    spacing: {\n      get() { return this.$store.state.project.grid.spacing; },\n      set(spacing) { this.$store.dispatch('project/setSpacing', { spacing }); },\n    },\n\n    currentComponent: {\n      get() { return this.$store.getters['application/currentComponent']; },\n      set(item) {\n        if (!item || !item.definition || !item.definition.id) { return; }\n        this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: item.definition.id });\n      },\n    },\n    rwUnits: {\n      get() { return this.$store.state.project.config.units === 'ip' ? 'ft' : 'm'; },\n      set(units) { this.$store.dispatch('project/setUnits', { units: units === 'ft' ? 'ip' : 'si' }); },\n    },\n    snapMode: {\n      get() { return this.$store.state.application.currentSelections.snapMode; },\n      set(snapMode) { this.$store.dispatch('application/setCurrentSnapMode', { snapMode }); },\n    },\n    dataToDownload() {\n      return this.$store.getters['exportData'];\n    },\n  },\n  watch: {\n    modeTab() {\n      if (this.modeTab === 'assign' && this.currentSpaceProperty) {\n        this.currentMode = this.currentSpaceProperty.type;\n      } else {\n        this.currentMode = 'spaces';\n      }\n    },\n    tool(val) {\n      if (this.availableTools.indexOf(val) === -1 && val !== 'Map') { this.tool = this.availableTools[0]; }\n      if (this.tool === 'Image' && this.currentSubselectionType !== 'images') {\n        this.currentSubselectionType = 'images';\n      } else if (this.tool !== 'Image' && this.currentSubselectionType === 'images') {\n        this.currentSubselectionType = 'spaces';\n      }\n    },\n    availableTools() {\n      if (!_.includes(this.availableTools, this.tool)) {\n        this.tool = this.availableTools[0];\n      }\n    },\n    currentSubselectionType(val) {\n      if (val === 'images' && this.tool !== 'Image') {\n        this.tool = 'Image';\n      } else if (val !== 'images' && this.tool === 'Image') {\n        this.tool = this.availableTools[0];\n      }\n    },\n    latestCreatedCompId() {\n      this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: this.latestCreatedCompId });\n    },\n  },\n  components: {\n    PrettySelect,\n    SaveAsModal,\n    Settings,\n    RenderByDropdown,\n    ComponentInstanceEditBar,\n    ...svgs,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// @import \"./../scss/config\";\n\n$gray-dark: #333333;\n$black: #000000;\n$gray-medium-light: #5b5b5b;\n\nsvg.icon, svg.button {\n  margin-top: .5rem;\n  vertical-align: middle;\n  height: 2rem;\n  width: 2rem;\n}\n\n#toolbar {\n  background-color: $black;\n  z-index: 4;\n\n  #top {\n    height: 2.5rem;\n    display: flex;\n    #navigation-head {\n      .import-export-buttons {\n        display: inline-block;\n        > div {\n          display: inline-block;\n        }\n      }\n      #undo-redo {\n        > div {\n          display: inline-block;\n        }\n        float: right;\n      }\n      input {\n        display: none;\n      }\n    }\n\n    #grid-settings {\n      display: flex;\n      margin-left: auto;\n      >div {\n        margin-right: .5rem;\n      }\n    }\n  }\n  #bottom {\n    user-select: none;\n    .render-by {\n      margin-left: auto;\n      margin-top: auto;\n      margin-bottom: auto;\n    }\n    background-color: $gray-medium-light;\n    display: flex;\n    height: 2.5rem;\n\n    .components-list {\n      margin-right: auto;\n    }\n    .tools-list {\n      display: flex;\n      margin-right: 3rem;\n      margin-left: 0;\n      .active {\n        background-color: $gray-dark;\n      }\n      > div {\n        padding-left: 5px;\n        padding-right: 5px;\n      }\n    }\n\n    #instructions {\n      line-height: 2.5rem;\n      margin-right: 0;\n      margin-left: 10px;\n      min-width: calc(21.5rem - 10px);\n    }\n\n    #grid-tools {\n      margin-left: auto;\n      display: flex;\n      float: right;\n      div {\n        padding: 0 1rem;\n      }\n    }\n  }\n}\n\n\n#mode-tabs {\n  list-style: none;\n  overflow: hidden;\n  padding-left: 0;\n  margin-top: 0;\n  margin-bottom:0;\n  display: flex;\n  font-size: 13px;\n\n  li {\n    cursor: pointer;\n    float: left;\n    margin-top: 0;\n    background: $gray-dark;\n    span {\n      color: white;\n      text-decoration: none;\n      padding: 10px 0 10px 45px;\n      position: relative;\n      display: inline-block;\n      float: left;\n      white-space: nowrap;\n\n      svg {\n        display: inline-block;\n        vertical-align: middle;\n        margin-bottom: -10px;\n        margin-top: 0px;\n      }\n\n    }\n\n    span::after {\n      content: \" \";\n      display: inline-block;\n      width: 0;\n      height: 0;\n      border-top: 30px solid transparent; /* Go big on the size, and let overflow hide */\n      border-bottom: 30px solid transparent;\n      border-left: 30px solid $gray-dark;\n      position: absolute;\n      top: 50%;\n      margin-top: -30px;\n      left: 100%;\n      z-index: 2;\n    }\n    span::before {\n      content: \" \";\n      display: inline-block;\n      width: 0;\n      height: 0;\n      border-top: 30px solid transparent;\n      border-bottom: 30px solid transparent;\n      border-left: 30px solid white;\n      position: absolute;\n      top: 50%;\n      margin-top: -30px;\n      margin-left: 1px;\n      left: 100%;\n      z-index: 1;\n    }\n    &.active {\n      background: $gray-medium-light;\n      span:after {\n        border-left: 30px solid $gray-medium-light;\n      }\n    }\n    &:first-child span {\n      padding-left: 10px;\n    }\n    &:last-child {\n      height: 1.2em;\n      background: black !important;\n      pointer-events: none !important;\n      cursor: default !important;\n    }\n    &:last-child span::after {\n      border: 0;\n    }\n    span:hover {\n      background: $gray-medium-light;\n    }\n    span:hover:after {\n      border-left-color: $gray-medium-light !important;\n    }\n  }\n}\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Toolbar.vue?7f4d5434","import * as d3 from 'd3';\nimport 'd3-selection-multi';\nimport _ from 'lodash';\nimport {\n  distanceBetweenPoints, unitPerpVector, unitVector,\n  edgeDirection, repeatingWindowCenters,\n} from './../../store/modules/geometry/helpers';\n\nfunction boxAroundWindow({ xScale, yScale, edge, offset }) {\n  const\n    { dx, dy } = unitPerpVector(edge.start, edge.end);\n  return [\n    [\n      xScale(edge.start.x) + offset * dx,\n      yScale(edge.start.y) + offset * dy,\n    ],\n    [\n      xScale(edge.start.x) - offset * dx,\n      yScale(edge.start.y) - offset * dy,\n    ],\n    [\n      xScale(edge.end.x) - offset * dx,\n      yScale(edge.end.y) - offset * dy,\n    ],\n    [\n      xScale(edge.end.x) + offset * dx,\n      yScale(edge.end.y) + offset * dy,\n    ],\n    [\n      xScale(edge.start.x) + offset * dx,\n      yScale(edge.start.y) + offset * dy,\n    ],\n  ];\n}\n\nfunction drawWindowToWallRatio(xScale, yScale, el, datum) {\n  d3.select(el)\n    .selectAll('.single-window, .repeating-windows')\n    .remove();\n  const selection = d3.select(el)\n    .selectAll('.window-wall-ratio')\n    .data([datum]);\n  const wwrE = selection.enter().append('g').attr('class', 'window-wall-ratio');\n  wwrE.append('path').attr('class', 'hatch');\n\n  const line = d3.line();\n\n  const wwr = selection.merge(wwrE);\n  wwr.classed('selected', d => d.selected);\n  wwr.classed('facing-selection', d => d.facingSelection);\n  wwr.select('.hatch')\n    .attr('d', line(\n      boxAroundWindow({ edge: datum, xScale, yScale, offset: 8 }),\n    ))\n    .attr('data-texture', (datum.texture || 'diagonal-stripes-4'));\n}\n\nfunction drawDoor(xScale, yScale, el, datum) {\n  const selection = d3.select(el)\n    .selectAll('.door')\n    .data([datum]);\n  const doorE = selection.enter().append('g').attr('class', 'door');\n  doorE.append('path').attr('class', 'hatch');\n\n  const line = d3.line();\n  const door = selection.merge(doorE);\n  door.exit().remove();\n  door.classed('selected', d => d.selected);\n  door.classed('facing-selection', d => d.facingSelection);\n  door.select('.hatch')\n    .attr('d', line(\n      boxAroundWindow({ edge: datum, xScale, yScale, offset: 8 }),\n    ))\n    .attr('data-texture', datum.texture);\n}\n\nfunction drawSingleWindow(xScale, yScale, el, datum) {\n  d3.select(el)\n    .selectAll('.window-wall-ratio, .repeating-windows')\n    .remove();\n\n  const selection = d3.select(el)\n    .selectAll('.single-window')\n    .data([datum]);\n  const windowE = selection.enter().append('g').attr('class', 'single-window');\n  windowE.append('line').attr('class', 'pane');\n  windowE.append('circle');\n  windowE.append('line').attr('class', 'start-linecap');\n  windowE.append('line').attr('class', 'end-linecap');\n\n  const windw = selection.merge(windowE);\n  windw.classed('selected', d => d.selected);\n  windw.classed('facing-selection', d => d.facingSelection);\n  windw.select('line.pane')\n    .attr('x1', d => xScale(d.start.x))\n    .attr('y1', d => yScale(d.start.y))\n    .attr('x2', d => xScale(d.end.x))\n    .attr('y2', d => yScale(d.end.y));\n  windw.each(function (d) {\n    const\n      { dx, dy } = unitPerpVector(d.start, d.end),\n      linecapOffset = 6;\n\n    const $this = d3.select(this);\n    $this.select('.start-linecap')\n      .attr('x1', xScale(d.start.x) + linecapOffset * dx)\n      .attr('y1', yScale(d.start.y) + linecapOffset * dy)\n      .attr('x2', xScale(d.start.x) - linecapOffset * dx)\n      .attr('y2', yScale(d.start.y) - linecapOffset * dy);\n    $this.select('.end-linecap')\n      .attr('x1', xScale(d.end.x) + linecapOffset * dx)\n      .attr('y1', yScale(d.end.y) + linecapOffset * dy)\n      .attr('x2', xScale(d.end.x) - linecapOffset * dx)\n      .attr('y2', yScale(d.end.y) - linecapOffset * dy);\n    if (d.selected || d.facingSelection) {\n      $this.raise();\n    }\n  });\n  windw.select('circle')\n    .attr('cx', d => xScale(d.center.x))\n    .attr('cy', d => yScale(d.center.y))\n    .attr('r', '2');\n}\n\n\nfunction drawRepeatingWindows(xScale, yScale, el, datum) {\n  const { start, end, width, spacing } = datum;\n  d3.select(el)\n    .selectAll('.window-wall-ratio, .single-window')\n    .remove();\n\n  const selection = d3.select(el)\n    .selectAll('.repeating-windows')\n    .data([datum]);\n  const rwE = selection.enter().append('g').attr('class', 'repeating-windows');\n  rwE.append('path').attr('class', 'box');\n  rwE.append('g').attr('class', 'sub-windows');\n\n  const line = d3.line();\n\n  const rw = selection.merge(rwE);\n  rw.classed('selected', d => d.selected);\n  rw.classed('facing-selection', d => d.facingSelection);\n  rw.select('.box')\n    .attr('d', line(\n      boxAroundWindow({ edge: datum, xScale, yScale, offset: 6 })),\n    );\n\n  const\n    direction = unitVector(start, end),\n    centers = repeatingWindowCenters({ start, end, spacing, width });\n  const\n    widthX = direction.dx * width,\n    widthY = direction.dy * width;\n  const windows = centers.map(thisCenter => ({\n    ...datum,\n    center: thisCenter,\n    start: { x: thisCenter.x - widthX / 2, y: thisCenter.y - widthY / 2 },\n    end: { x: thisCenter.x + widthX / 2, y: thisCenter.y + widthY / 2 },\n  }));\n  const windw = rw.select('.sub-windows')\n    .selectAll('.sub-window')\n    .data(windows);\n  windw.exit().remove();\n  windw\n    .merge(windw.enter().append('g').attr('class', 'sub-window'))\n    .each(function (d) {\n      drawSingleWindow(xScale, yScale, this, d);\n    });\n}\n\nexport function drawWindow() {\n  let\n    xScale = _.identity,\n    yScale = _.identity;\n  function chart(selection) {\n    selection.exit().remove();\n    selection\n      .merge(selection.enter().append('g').attr('class', 'window'))\n      .each(function (d) {\n        if (d.windowOrDoor === 'door') {\n          drawDoor(xScale, yScale, this, d);\n        } else if (d.window_definition_mode === 'Single Window') {\n          drawSingleWindow(xScale, yScale, this, d);\n        } else if (d.window_definition_mode === 'Window to Wall Ratio') {\n          drawWindowToWallRatio(xScale, yScale, this, d);\n        } else if (d.window_definition_mode === 'Repeating Windows') {\n          drawRepeatingWindows(xScale, yScale, this, d);\n        } else {\n          throw new Error(`unexpected window_definition_mode: ${d.window_definition_mode}`);\n        }\n      });\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n\n  return chart;\n}\n\nfunction distanceMeasure() {\n  let\n    xScale = _.identity,\n    yScale = _.identity,\n    lineOffset = 20,\n    labelPosition = 1;\n  function chart(selection) {\n    selection.exit().remove();\n    const measureE = selection.enter().append('g')\n      .attr('class', 'distance-measure')\n      .attr('transform', (d) => {\n        const { dx, dy } = unitPerpVector(d.start, d.end),\n          offX = lineOffset * dx,\n          offY = lineOffset * dy;\n        return `translate(${offX}, ${offY})`;\n      });\n    measureE.append('line');\n    measureE.append('text');\n    measureE.append('path').attr('class', 'start');\n    measureE.append('path').attr('class', 'end');\n\n    const measure = selection.merge(measureE);\n\n    measure.select('text')\n      .attr('x', d => (1 - labelPosition) * xScale(d.start.x) + labelPosition * xScale(d.end.x))\n      .attr('y', d => (1 - labelPosition) * yScale(d.start.y) + labelPosition * yScale(d.end.y))\n      .attr('dominant-baseline', 'text-before-edge')\n      .attrs((d) => {\n        const\n          { dx, dy } = unitPerpVector(d.start, d.end),\n          offset = 4;\n        return {\n          dx: dx * offset,\n          dy: dy * offset,\n        };\n      })\n      .text((d) => {\n        const\n          distance = distanceBetweenPoints(d.start, d.end),\n          roundDistance = Math.round(distance * 100) / 100;\n        return `${roundDistance}`;\n      });\n    measure.select('line')\n      .attrs((d) => {\n        const { dx, dy } = unitVector(d.start, d.end),\n          offset = 11.5,\n          offX = dx * offset,\n          offY = dy * offset;\n\n        return {\n          x1: xScale(d.start.x) + offX,\n          y1: yScale(d.start.y) - offY,\n          x2: xScale(d.end.x) - offX,\n          y2: yScale(d.end.y) + offY,\n        };\n      });\n    const\n      arrowHead = 'M -6,-2 V 2 L0,0 Z',\n      rotate = (d) => {\n        // did ya ever... did ya ever program by guess and check?\n        const\n          angle = (edgeDirection(d) * 180) / Math.PI,\n          adjust = d.start.x === d.end.x ?\n                    (d.start.y > d.end.y ? 0 : 180) :\n                    (d.start.x > d.end.x ? 0 : 180);\n\n        return adjust - angle;\n      };\n\n    measure.select('path.start')\n      .attr('transform',\n        d => `translate(${xScale(d.start.x)}, ${yScale(d.start.y)}) scale(2) rotate(${rotate(d)})`)\n      .attr('d', arrowHead);\n\n    measure.select('path.end')\n      .attr('transform',\n        d => `translate(${xScale(d.end.x)}, ${yScale(d.end.y)}) scale(2) rotate(${180 + rotate(d)})`)\n      .attr('d', arrowHead);\n  }\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  chart.lineOffset = function(_) {\n    if (!arguments.length) return lineOffset;\n    lineOffset = _;\n    return chart;\n  };\n  chart.labelPosition = function(_) {\n    if (!arguments.length) return labelPosition;\n    if (_ < 0 || _ > 1) {\n      console.warn(`Expected labelPosition to be in [0, 1] (got ${_})`);\n    }\n    labelPosition = _;\n    return chart;\n  };\n\n  return chart;\n}\n\nexport function drawWindowGuideline() {\n  let\n    xScale = _.identity,\n    yScale = _.identity;\n  const drawMeasure = distanceMeasure();\n  function chart(selection) {\n    drawMeasure.xScale(xScale).yScale(yScale);\n    selection.exit().remove();\n    selection\n      .merge(selection.enter().append('g').classed('window-guideline component-guideline', true))\n      .selectAll('.distance-measure')\n      .data(\n        // there must be a better way to do this...\n        selection.merge(selection.enter()).data()\n          .map(d => ({ start: d.edge_start, end: d.center })),\n      )\n      .filter(d => d.window_definition_mode === 'Single Window')\n      .call(drawMeasure);\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  return chart;\n}\n\n\nexport function drawDaylightingControl() {\n  let\n    xScale = _.identity,\n    yScale = _.identity;\n\n  function chart(selection) {\n    selection.exit().remove();\n    const dcE = selection.enter().append('g').attr('class', 'daylighting-control');\n    dcE.append('circle').attr('class', 'bg');\n    dcE.append('path').attr('class', 'quadrants');\n    const dc = selection.merge(dcE);\n    dc.classed('selected', d => d.selected);\n    dc.classed('facing-selection', d => d.facingSelection);\n    dc.select('circle.bg')\n      .attr('cx', d => xScale(d.x))\n      .attr('cy', d => yScale(d.y))\n      .attr('r', 10);\n    dc.select('path.quadrants')\n      .attr('d', (d) => {\n        const x = xScale(d.x), y = yScale(d.y), r = 10;\n        return `M${x} ${y} L${x + r} ${y} A ${r} ${r} 0 0 1 ${x} ${y + r} L ${x} ${y - r} A ${r} ${r} 0 0 0 ${x - r} ${y} Z`;\n      });\n    dc.each(function (d) {\n      if (d.selected || d.facingSelection) {\n        d3.select(this).raise();\n      }\n    });\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  return chart;\n}\n\nexport function drawDaylightingControlGuideline() {\n  let\n    xScale = _.identity,\n    yScale = _.identity;\n  const drawMeasure = distanceMeasure()\n    .lineOffset(0)\n    .labelPosition(0.5);\n  function chart(selection) {\n    drawMeasure.xScale(xScale).yScale(yScale);\n    selection.exit().remove();\n    const guideE = selection.enter().append('g')\n      .classed('daylighting-control-guideline component-guideline', true);\n\n    const data = _.flatMap(\n      selection.merge(selection.enter()).data(),\n      (d) => {\n        const\n          dir = unitVector(d.nearestEdge.v1, d.nearestEdge.v2),\n          v = { start: d.loc, end: d.nearestEdge.proj },\n          dotProduct = ((v.end.x - v.start.x) * dir.dx) + ((v.end.y - v.start.y) * dir.dy),\n          parallel = {\n            start: v.start,\n            end: {\n              x: v.start.x + dotProduct * dir.dx,\n              y: v.start.y + dotProduct * dir.dy,\n            },\n          },\n          perp = {\n            start: parallel.end,\n            end: v.end,\n          };\n        return [v, perp, parallel].filter(\n          ({ start, end }) => distanceBetweenPoints(start, end) > 0.01,\n        );\n      });\n    const guide = selection.merge(guideE);\n    guide\n      .selectAll('.distance-measure')\n      .data(data)\n      .call(drawMeasure);\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  return chart;\n}\nconst invRoot2 = 1 / Math.sqrt(2);\nconst RESIZE_CURSORS = [\n  { vec: { x: 1, y: 0 }, cursor: 'ew-resize' },\n  { vec: { x: -1, y: 0 }, cursor: 'ew-resize' },\n  { vec: { x: 0, y: 1 }, cursor: 'ns-resize' },\n  { vec: { x: 0, y: -1 }, cursor: 'ns-resize' },\n  { vec: { x: invRoot2, y: invRoot2 }, cursor: 'nwse-resize' },\n  { vec: { x: -1 * invRoot2, y: -1 * invRoot2 }, cursor: 'nwse-resize' },\n  { vec: { x: invRoot2, y: -1 * invRoot2 }, cursor: 'nesw-resize' },\n  { vec: { x: -1 * invRoot2, y: invRoot2 }, cursor: 'nesw-resize' },\n]\nfunction bestResizeCursor(xOff, yOff, rotation) {\n  const\n    norm = Math.sqrt(xOff * xOff + yOff * yOff),\n    x = xOff / norm,\n    y = yOff / norm,\n    a = Math.PI * rotation / 180,\n    pt = {\n      x: x * Math.cos(a) - y * Math.sin(a),\n      y: x * Math.sin(a) + y * Math.cos(a),\n    };\n\n  return _.minBy(RESIZE_CURSORS, c => distanceBetweenPoints(c.vec, pt)).cursor;\n}\nconst rotateCursor = (\n  'url(data:image/svg+xml;base64,' + // eslint-disable-line\n  btoa(\n'<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0\" y=\"0\" width=\"25.6\" height=\"25.6\" viewBox=\"0 0 25.6 25.6\">' +\n'  <path transform=\"scale(0.5)\" d=\"M25.6,44.8c7.9406,0,14.4-6.4594,14.4-14.4s-6.4594-14.4-14.4-14.4v9.6L9.6,12.8L25.6,0v9.6c11.4688,0,20.8,9.3313,20.8,20.8s-9.3313,20.8-20.8,20.8S4.8,41.8688,4.8,30.4h6.4C11.2,38.3406,17.6594,44.8,25.6,44.8z\"/>' +\n'</svg>'\n  ) +\n  ') 12.8 12.8, pointer');\n\nexport function drawImage() {\n  let\n    xScale = _.identity,\n    yScale = _.identity,\n    updateImage = _.identity,\n    selectImage = _.identity;\n  function chart(selection) {\n    const pxPerRWU = (xScale(100) - xScale(0)) / 100;\n\n    let startX, startY, currX, currY;\n    const\n      offset = (d) => {\n        const\n          x = (currX - startX),\n          y = (currY - startY),\n          invR = -1 * d.r * Math.PI / 180;\n        return {\n          dx: x * Math.cos(invR) - y * Math.sin(invR),\n          dy: x * Math.sin(invR) + y * Math.cos(invR),\n        };\n      },\n      moveable = d3.drag()\n      .on('start', function() {\n        d3.event.sourceEvent.stopPropagation(); // don't zoom when I'm draggin' an image!\n        [startX, startY] = d3.mouse(document.querySelector('#grid svg'));\n        currX = currY = undefined;\n      })\n      .on('drag', function(d) {\n        [currX, currY] = d3.mouse(document.querySelector('#grid svg'));\n        const { dx, dy } = offset(d);\n        d3.select(this)\n          .attr('transform', `translate(${dx}, ${dy})`);\n      })\n      .on('end', function(d) {\n        if (typeof currX === 'undefined') {\n          // no movement since start of move.\n          return;\n        }\n        const { dx, dy } = offset(d);\n        updateImage({\n          image: d,\n          x: d.x + (currX - startX) / pxPerRWU,\n          y: d.y - (currY - startY) / pxPerRWU,\n        });\n      });\n\n    const\n      scaleTransform = (d) => {\n        const\n          pxCenter = { x: xScale(d.x), y: yScale(d.y) },\n          // Using the opposite corner of the image as the origin\n          // simplifies some calculations.\n          pxOrigin = {\n            x: pxCenter.x + (pxCenter.x - startX),\n            y: pxCenter.y + (pxCenter.y - startY),\n          },\n          startVec = {\n            x: startX - pxOrigin.x,\n            y: startY - pxOrigin.y,\n          },\n          distCurrToOrigin = distanceBetweenPoints(\n            { x: currX, y: currY }, pxOrigin),\n          distStartToOrigin = distanceBetweenPoints(\n            { x: startX, y: startY }, pxOrigin),\n          currVec = {\n            x: distCurrToOrigin * startVec.x / distStartToOrigin,\n            y: distCurrToOrigin * startVec.y / distStartToOrigin,\n          },\n          scale = distCurrToOrigin / distStartToOrigin,\n          translate = {\n            x: (currVec.x - startVec.x) / 2,\n            y: (currVec.y - startVec.y) / 2,\n          },\n          transform = d3.zoomIdentity\n            .translate(translate.x, translate.y)\n            .scale(scale);\n        return transform;\n      },\n      resizeable = d3.drag()\n        .on('start', function() {\n          d3.event.sourceEvent.stopPropagation();\n          [startX, startY] = d3.mouse(document.querySelector('#grid svg'));\n          currX = currY = undefined;\n        })\n        .on('drag', function(d) {\n          [currX, currY] = d3.mouse(document.querySelector('#grid svg'));\n          d3.select(this.parentNode.parentNode)\n            .attr('transform', scaleTransform(d));\n        })\n        .on('end', function(d) {\n          if (typeof currX === 'undefined') {\n            // no movement since start of resize.\n            return;\n          }\n          const trans = scaleTransform(d);\n          updateImage({\n            image: d,\n            width: d.width * trans.k,\n            height: d.height * trans.k,\n            x: d.x + trans.x / pxPerRWU,\n            y: d.y - trans.y / pxPerRWU,\n          });\n        });\n\n    const\n      rotationAngle = (d) => {\n        const\n          pxOrigin = { x: xScale(d.x), y: yScale(d.y) },\n          startAngle = edgeDirection({ start: pxOrigin, end: { x: startX, y: startY }}),\n          currAngle = edgeDirection({ start: pxOrigin, end: { x: currX, y: currY }});\n        return ((180 * (currAngle - startAngle) / Math.PI)\n          + 180 * (xScale(d.x) > currX !== xScale(d.x) > startX)\n        );\n      },\n      rotateable = d3.drag()\n        .on('start', function() {\n          d3.event.sourceEvent.stopPropagation();\n          [startX, startY] = d3.mouse(document.querySelector('#grid svg'));\n          currX = currY = undefined;\n        })\n        .on('drag', function(d) {\n          [currX, currY] = d3.mouse(document.querySelector('#grid svg'));\n          d3.select(this.parentNode.parentNode)\n            .attr('transform', `rotate(${rotationAngle(d)})`);\n        })\n        .on('end', function(d) {\n          if (typeof currX === 'undefined') {\n            // no movement since start of rotation.\n            return;\n          }\n          const rotation = rotationAngle(d);\n          updateImage({\n            image: d,\n            r: rotation + d.r,\n          });\n        });\n\n    selection.exit().remove();\n    const imageGroupE = selection.enter().append('g').attr('class', 'image-group');\n    const moveableWrapperE = imageGroupE.append('g').attr('class', 'moveable-wrapper');\n    moveableWrapperE.append('image');\n    const controlsE = moveableWrapperE.append('g').attr('class', 'controls');\n    controlsE.append('line').attr('class', 'rotation-to-center');\n    controlsE.append('circle').attr('class', 'rotation-handle');\n    ['tl', 'tr', 'bl', 'br']\n      .forEach(corner => controlsE.append('circle').attr('class', `corner ${corner}`));\n\n    const imageGroup = selection.merge(imageGroupE);\n\n    imageGroup\n      .attr('transform', d => `translate(${xScale(d.x)}, ${yScale(d.y)}) rotate(${d.r})`);\n\n    imageGroup.select('image')\n      .attr('x', d => -1 * pxPerRWU * d.width / 2)\n      .attr('y', d => -1 * pxPerRWU * d.height / 2)\n      .attr('width', d => pxPerRWU * d.width)\n      .attr('height', d => pxPerRWU * d.height)\n      .attr('opacity', d => d.opacity)\n      .attr('xlink:href', d => d.src);\n\n    imageGroup.select('.moveable-wrapper')\n      .attr('transform', 'translate(0,0)')\n      .style('cursor', d => (d.current ? 'move' : d.clickable ? 'pointer' : null))\n      .style('pointer-events', d => (d.current ? 'auto' : 'none'));\n\n    imageGroup.select('.controls')\n      .attr('display', d => (d.current ? '' : 'none'));\n\n    imageGroup.each(function (d) {\n      const ig = d3.select(this);\n      if (!d.clickable) {\n        ig\n          .on('click', null);\n      } else {\n        ig.on('click', (d) => {\n          d3.event.stopPropagation();\n          selectImage(d);\n        });\n      }\n      if (!d.current) {\n        ig.select('.moveable-wrapper, .rotation-handle, .corner')\n          .on('.drag', null);\n      } else {\n        ig.select('.moveable-wrapper')\n          .call(moveable);\n\n        ig.select('.controls .center')\n          .attr('cx', 0)\n          .attr('cy', 0)\n          .attr('r', 3);\n\n        ig.select('.controls .rotation-handle')\n          .attr('cx', 0)\n          .attr('cy', pxPerRWU * d.height * 0.7)\n          .attr('r', 5)\n          .style('cursor', rotateCursor)\n          .call(rotateable);\n        ig.select('.controls .rotation-to-center')\n          .attr('x1', 0)\n          .attr('y1', pxPerRWU * d.height / 2)\n          .attr('x2', 0)\n          .attr('y2', pxPerRWU * d.height * 0.7 - 5);\n        _.forIn(\n          { tl: [-1, -1], tr: [1, -1], bl: [-1, 1], br: [1, 1] },\n          ([xOff, yOff], label) => {\n            ig.select(`.controls .${label}`)\n              .attr('cx', xOff * pxPerRWU * d.width / 2)\n              .attr('cy', yOff * pxPerRWU * d.height / 2)\n              .attr('r', 5)\n              .style('cursor', bestResizeCursor(xOff, yOff, d.r))\n              .call(resizeable);\n          });\n      }\n    });\n\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  chart.updateImage = function (_) {\n    if (!arguments.length) return updateImage;\n    updateImage = _;\n    return chart;\n  };\n  chart.selectImage = function (_) {\n    if (!arguments.length) return selectImage;\n    selectImage = _;\n    return chart;\n  };\n  return chart;\n}\n\nexport function drawWall() {\n  let\n    xScale = _.identity,\n    yScale = _.identity;\n  const line = d3.line()\n    .x(d => xScale(d.x))\n    .y(d => yScale(d.y));\n  function chart(selection) {\n    selection.exit().remove();\n    const wallE = selection.enter().append('path').attr('class', 'wall');\n\n    const wall = selection.merge(wallE);\n\n    wall\n      .attr('d', d => line([d.start, d.end]))\n      .attr('class', d => `wall ${d.interior ? 'interior' : 'exterior'}`)\n      .attr('data-edge-id', d => d.id);\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  return chart;\n}\n\n\nexport default function drawMethods({ xScale, yScale, updateImage, selectImage }) {\n\n  return {\n    drawWindow: drawWindow()\n      .xScale(xScale)\n      .yScale(yScale),\n    drawWindowGuideline: drawWindowGuideline()\n      .xScale(xScale)\n      .yScale(yScale),\n    drawDaylightingControl: drawDaylightingControl()\n      .xScale(xScale)\n      .yScale(yScale),\n    drawDaylightingControlGuideline: drawDaylightingControlGuideline()\n      .xScale(xScale)\n      .yScale(yScale),\n    drawImage: drawImage()\n      .xScale(xScale)\n      .yScale(yScale)\n      .updateImage(updateImage)\n      .selectImage(selectImage),\n    drawWall: drawWall()\n      .xScale(xScale)\n      .yScale(yScale),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Grid/drawing.js","// Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport * as d3 from 'd3';\nimport polylabel from 'polylabel';\nimport _ from 'lodash';\nimport { snapTargets, snapWindowToEdge, snapToVertexWithinFace, findClosestEdge, findClosestWindow, gridSnapTargets, vertexSnapTargets } from './snapping';\nimport geometryHelpers, { distanceBetweenPoints, fitToAspectRatio, projectionOfPointToLine } from './../../store/modules/geometry/helpers';\nimport modelHelpers from './../../store/modules/models/helpers';\n\nfunction ticksInRange(start, stop, spacing) {\n  return _.range(\n    Math.ceil(start / spacing) * spacing,\n    stop,\n    spacing);\n}\n\nfunction transformDiff(t1, t2) {\n  // returns a new transform that is sufficient to take you from\n  // t1 to t2.\n  // boy was this a doozy to figure out. Tricky bit is that the\n  // translation is dependent on the scaling factor. So we have to\n  // divide that out before we can subtract.\n  return new d3.zoomIdentity.constructor(\n    t2.k / t1.k,\n    (t2.x / t2.k - t1.x / t1.k) * t2.k,\n    (t2.y / t2.k - t1.y / t1.k) * t2.k,\n  );\n}\n\n\nexport default {\n  // ****************** USER INTERACTION EVENTS ****************** //\n  /*\n  * handle a click on the svg grid\n  */\n  gridClicked() {\n    if (this.currentTool === 'Eraser' ||\n    ((this.currentTool === 'Rectangle' || this.currentTool === 'Polygon') && (this.currentSpace || this.currentShading))) {\n      this.addPoint();\n    }\n    if (this.currentTool === 'Place Component') {\n      this.placeOrSelectComponent();\n    }\n    if (this.currentTool === 'Image') {\n      this.deselectImages();\n    }\n    if (this.currentTool === 'Apply Property') {\n      this.assignProperty();\n    }\n  },\n  assignProperty() {\n    if (!this.currentSpaceProperty) { return; }\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      space = this.currentStory.spaces.find((sp) => {\n        const face = _.find(this.denormalizedGeometry.faces, { id: sp.face_id });\n        if (!face) {\n          // this space has no geometry. It can't be the one that was clicked.\n          return false;\n        }\n        return geometryHelpers.pointInFace(rwuPoint, face.vertices);\n      });\n    if (!space) { return; }\n    this.$store.dispatch('models/updateSpaceWithData', {\n      space,\n      [this.spacePropertyKey]: this.currentSpaceProperty.id,\n    });\n  },\n  deselectImages() {\n    this.$store.dispatch('application/setCurrentSubSelectionId', this.currentStory.spaces[0]);\n  },\n  componentToSelect() {\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      component = _.minBy(\n        this.currentComponentTypeLocs(rwuPoint),\n        ci => distanceBetweenPoints(ci, rwuPoint)),\n      distToComp = component && distanceBetweenPoints(component, rwuPoint);\n    if (!component || distToComp > this.spacing / 2) {\n      return null;\n    }\n    return component;\n  },\n  handleKeyDown(e) {\n    if ((e.keyCode === 8 || e.keyCode === 46) &&\n        !_.includes(['input', 'textarea'], document.activeElement.tagName.toLowerCase())) {\n      this.deleteElement();\n    }\n  },\n  deleteElement() {\n    if (this.modeTab === 'components') {\n      this.removeSelectedComponent();\n    }\n  },\n  removeSelectedComponent() {\n    const component = this.currentComponentInstance;\n    if (!component) {\n      return;\n    }\n    const payload = { story_id: this.currentStory.id, object: { id: component.id } };\n    if (component.type === 'windows') {\n      this.$store.dispatch('models/destroyWindow', payload);\n    } else if (component.type === 'daylighting_controls') {\n      this.$store.dispatch('models/destroyDaylightingControl', payload);\n    } else if (component.type === 'doors') {\n      this.$store.dispatch('models/destroyDoor', payload);\n    } else {\n      console.error(`unrecognized component to remove: ${component}`);\n    }\n  },\n  placeOrSelectComponent() {\n    // hold down shift to force placement when we might otherwise select\n    const toSelect = d3.event.shiftKey ? false : this.componentToSelect();\n    if (toSelect) {\n      this.currentComponentInstanceId = toSelect.id;\n      return;\n    }\n    // user is holding shift, or we didn't find a component to select\n    // => we're placing\n    if (this.currentComponentType === 'daylighting_control_definitions') {\n      this.placeDaylightingControl();\n    } else if (\n        this.currentComponentType === 'window_definitions' ||\n        this.currentComponentType === 'door_definitions'\n    ) {\n      this.placeWindowOrDoor();\n    } else {\n      throw new Error(`unrecognized componentType: ${this.currentComponentType}`);\n    }\n  },\n  highlightComponentToSelect() {\n    if (d3.event.shiftKey) {\n      return null;\n    }\n    const component = this.componentToSelect();\n    this.componentFacingSelection = component && component.id;\n    if (!component) {\n      // do no highlighting\n    } else if (component.type === 'windows' || component.type === 'doors') {\n      this.highlightWindowGuideline(component);\n    } else if (component.type === 'daylighting_controls') {\n      this.highlightDaylightingControlGuideline(component);\n    } else {\n      throw new Error(`unrecognized componentType: ${this.currentComponentType}`);\n    }\n    return component;\n  },\n  placeWindowOrDoor() {\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      loc = snapWindowToEdge(\n        this.snapMode,\n        this.spaceEdges, rwuPoint,\n        this.currentComponentDefinition, this.spacing * 2, this.spacing,\n      ),\n      windowOrDoor = this.currentComponentType === 'window_definitions' ? 'Window' : 'Door';\n\n    if (!loc) { return; }\n\n    const payload = {\n      story_id: this.currentStory.id,\n      edge_id: loc.edge_id,\n      [`${windowOrDoor.toLowerCase()}_definition_id`]: this.currentComponentDefinition.id,\n      alpha: loc.alpha,\n    };\n    this.$store.dispatch(`models/create${windowOrDoor}`, payload);\n  },\n  raiseOrLowerImages() {\n    if (this.currentTool === 'Image') {\n      d3.select('#grid svg .images').raise();\n    } else {\n      d3.select('#grid svg .images').lower();\n    }\n  },\n  placeDaylightingControl() {\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      rwuPoint = {\n        x: this.gridToRWU(gridPoint.x, 'x'),\n        y: this.gridToRWU(gridPoint.y, 'y'),\n      },\n      loc = snapToVertexWithinFace(\n        this.snapMode,\n        this.spaceFaces, rwuPoint, this.spacing);\n\n    if (!loc) { return; }\n\n    const payload = {\n      story_id: this.currentStory.id,\n      face_id: loc.face_id,\n      daylighting_control_definition_id: this.currentComponentDefinition.id,\n      ...loc,\n    };\n    this.$store.dispatch('models/createDaylightingControl', payload);\n  },\n  /*\n  * If the grid is clicked when a drawing tool or the eraser tool is active, add a point to the component\n  * if the new point completes a face being drawn, save the face\n  * if the new point completes an eraser selection, call the eraseRectangularSelection method\n  */\n  addPoint() {\n    // location of the mouse in grid units\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      snapTarget = this.findSnapTarget(gridPoint);\n\n    // if the snapTarget is the origin of the face being drawn in Polygon mode, close the face and don't add a new point\n    if (snapTarget.type === 'vertex' && snapTarget.origin && this.currentTool === 'Polygon') {\n      this.savePolygonFace();\n      return;\n    }\n\n    // create the point\n    const newPoint = snapTarget.type === 'edge' ? snapTarget.projection : snapTarget;\n    this.points.push(newPoint);\n    this.drawPoints();\n    // if the Rectangle or Eraser tool is active and two points have been drawn (to define a rectangle)\n    // complete the corresponding operation for the tool\n    if (this.currentTool === 'Eraser' && this.points.length === 2) { this.eraseRectangularSelection(); }\n    if (this.currentTool === 'Rectangle' && this.points.length === 2) { this.saveRectangularFace(); }\n  },\n\n  /*\n  * When a mousemove event is triggered on the grid and\n  * the 'Rectangle' or 'Polygon' tool is active and a space or shading is selected or the 'Eraser' tool is active\n  * look up the snap target for the location of the event, highlight it, and render a guide point\n  * if there is no snap target, use the event location\n  */\n  highlightSnapTarget(e) {\n    // only highlight snap targets in drawing modes when a space or shading has been selected\n    if (!(this.currentTool === 'Eraser' ||\n    (this.currentTool === 'Place Component' && this.currentComponentDefinition) ||\n    ((this.currentTool === 'Rectangle' || this.currentTool === 'Polygon') && (this.currentSpace || this.currentShading)))) { return; }\n\n    // unhighlight expired snap targets\n    this.clearHighlights();\n\n    // location of the mouse in grid units\n\n    let gridPoint;\n    if (d3.event instanceof MouseEvent) {\n      // d3.mouse() will fail if d3.event is a ZoomEvent, or other\n      const gridCoords = d3.mouse(this.$refs.grid);\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] };\n    } else {\n      gridPoint = this.lastMousePosition;\n    }\n    if (!gridPoint) {\n      return;\n    }\n\n    if (this.currentTool === 'Place Component') {\n      this.highlightComponentToPlaceOrSelect(gridPoint);\n      return;\n    }\n\n    const snapTarget = this.findSnapTarget(gridPoint);\n\n    // render a line and point showing which geometry would be created with a click at this location\n    const guidePoint = snapTarget.type === 'edge' ? snapTarget.projection :\n      snapTarget;\n\n    const ellipsePoint = snapTarget.synthetic ? snapTarget.originalPt : guidePoint;\n    this.drawGuideLines(e, guidePoint);\n\n\n    // if snapping to an edisting edge or radius, draw a larger point, if snapping to the grid or just displaying the location of the pointer, create a small point\n    if (snapTarget.type === 'vertex') {\n      d3.select('#grid svg')\n      .append('ellipse')\n      .attr('cx', this.rwuToGrid(ellipsePoint.x, 'x'))\n      .attr('cy', this.rwuToGrid(ellipsePoint.y, 'y'))\n      .attr('rx', 5)\n      .attr('ry', 5)\n      .classed('highlight', true)\n      .attr('data-transform-plz', '')\n      .attr('vector-effect', 'non-scaling-stroke');\n    } else {\n      d3.select('#grid svg')\n      .append('ellipse')\n      .attr('cx', this.rwuToGrid(ellipsePoint.x, 'x'))\n      .attr('cy', this.rwuToGrid(ellipsePoint.y, 'y'))\n      .attr('rx', 3)\n      .attr('ry', 3)\n      .classed('gridpoint', true)\n      .attr('data-transform-plz', '')\n      .attr('vector-effect', 'non-scaling-stroke');\n    }\n\n    // in drawing modes, highlight edges that would be snapped to\n    if (snapTarget.type === 'edge' && this.currentTool !== 'Eraser') {\n      d3.select('#grid svg')\n      .append('line')\n      .attr('x1', this.rwuToGrid(snapTarget.v1GridCoords.x, 'x'))\n      .attr('y1', this.rwuToGrid(snapTarget.v1GridCoords.y, 'y'))\n      .attr('x2', this.rwuToGrid(snapTarget.v2GridCoords.x, 'x'))\n      .attr('y2', this.rwuToGrid(snapTarget.v2GridCoords.y, 'y'))\n      .attr('stroke-width', 1)\n      .classed('highlight', true)\n      .attr('data-transform-plz', '')\n      .attr('vector-effect', 'non-scaling-stroke');\n    }\n    // save off mouse pos so that we can redo highlight if zoom occurs during\n    // point drawing.\n    this.lastMousePosition = gridPoint;\n  },\n\n  clearHighlights() {\n    d3.selectAll('#grid .highlight, #grid .gridpoint, #grid .guideline').remove();\n    this.componentFacingSelection = null;\n  },\n  clearComponentHighlights() {\n    d3.selectAll('#grid .highlight, #grid .component-guideline').remove();\n    this.componentFacingSelection = null;\n  },\n  highlightComponentToPlaceOrSelect(gridPoint) {\n    if (this.highlightComponentToSelect()) {\n      return;\n    }\n    // no component to select, let's highlight one to place.\n    this.highlightComponentToPlace(gridPoint);\n  },\n\n  highlightComponentToPlace(gridPoint) {\n    if (this.currentComponentType === 'window_definitions') {\n      this.highlightWindow(gridPoint);\n    } else if (this.currentComponentType === 'daylighting_control_definitions') {\n      this.highlightDaylightingControl(gridPoint);\n    } else if (this.currentComponentType === 'door_definitions') {\n      this.highlightDoor(gridPoint);\n    } else {\n      throw new Error(`unrecognized componentType: ${this.currentComponentType}`);\n    }\n  },\n\n  highlightWindow(gridPoint) {\n    const\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      loc = snapWindowToEdge(\n        this.snapMode,\n        this.spaceEdges, rwuPoint,\n        this.currentComponentDefinition, this.spacing * 2, this.spacing,\n      );\n\n    if (!loc) { return; }\n\n    if (\n      this.currentComponentDefinition.window_definition_mode !== 'Single Window' &&\n      _.filter(this.windowCenterLocs(rwuPoint), { edge_id: loc.edge_id })\n        .filter(w => w.window_definition_mode !== 'Single Window')\n        .length\n    ) {\n      // We only want to allow selecting edge-long windows, not replacing with\n      // other edge-long windows, since that could be confusing:\n      // \"Am I selecting or replacing that one?\"\n      return;\n    }\n    d3.select('#grid svg')\n      .append('g')\n      .classed('highlight', true)\n      .selectAll('.window')\n      .data([{\n        ...loc,\n        window_definition_mode: this.currentComponentDefinition.window_definition_mode,\n        width: this.currentComponentDefinition.width,\n        spacing: this.currentComponentDefinition.window_spacing,\n        texture: this.currentComponentDefinition.texture,\n      }])\n      .call(this.drawWindow);\n    this.highlightWindowGuideline(loc);\n  },\n  highlightDoor(gridPoint) {\n    const\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      loc = snapWindowToEdge(\n        this.snapMode,\n        this.spaceEdges, rwuPoint,\n        this.currentComponentDefinition, this.spacing * 2, this.spacing,\n      );\n\n    if (!loc) { return; }\n\n    d3.select('#grid svg')\n      .append('g')\n      .classed('highlight', true)\n      .selectAll('.window')\n      .data([{\n        ...loc,\n        window_definition_mode: null,\n        windowOrDoor: 'door',\n        width: this.currentComponentDefinition.width,\n        texture: this.currentComponentDefinition.texture,\n      }])\n      .call(this.drawWindow);\n    this.highlightWindowGuideline(loc);\n  },\n  highlightWindowGuideline(loc) {\n    d3.select('#grid svg')\n      .append('g')\n      .classed('guideline', true)\n      .selectAll('.window-guideline')\n      .data([loc])\n      .call(this.drawWindowGuideline);\n  },\n  highlightDaylightingControl(gridPoint) {\n    const\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      loc = snapToVertexWithinFace(\n        this.snapMode,\n        this.spaceFaces, rwuPoint,\n        this.spacing,\n      );\n    if (!loc) { return; }\n    d3.select('#grid svg')\n      .append('g')\n      .classed('highlight', true)\n      .selectAll('.daylighting-control')\n      .data([loc])\n      .call(this.drawDaylightingControl);\n\n    this.highlightDaylightingControlGuideline(loc);\n  },\n  highlightDaylightingControlGuideline(loc) {\n    const\n      face = _.find(this.denormalizedGeometry.faces, { id: loc.face_id }),\n      windows = this.windowsOnFace(face),\n      nearestEdge = findClosestWindow(windows, loc) || findClosestEdge(face.edges, loc);\n    d3.select('#grid svg')\n      .append('g')\n      .classed('guideline', true)\n      .selectAll('.daylighting-control-guideline')\n      .data([{ loc, nearestEdge }])\n      .call(this.drawDaylightingControlGuideline);\n  },\n\n  /*\n  * called on mousemove events, shows the user what geometry will be created by clicking at the current mouse location by\n  * drawing a guide rectangle or a guideline between the last point drawn and the guidepoint\n  */\n  drawGuideLines(e, guidePoint) {\n    if (!this.points.length) { return; }\n\n    // remove expired guideline paths and text\n    this.eraseGuidelines();\n\n    let guidelinePoints, guidelinePaths;\n\n    // if the polygon tool is active, draw a line connecting the last point in the polygon to the guide point\n    // if the rectangle or eraser tool is active, infer a rectangle from the first point that was drawn and the guide point\n    if (this.currentTool === 'Polygon') {\n      guidelinePoints = [guidePoint, this.points[this.points.length - 1]];\n      guidelinePaths = [guidelinePoints];\n    } else if (this.currentTool === 'Rectangle' || this.currentTool === 'Eraser') {\n      guidelinePoints = [\n        this.points[0],\n        { x: guidePoint.x, y: this.points[0].y },\n        guidePoint,\n        { x: this.points[0].x, y: guidePoint.y },\n        this.points[0],\n      ];\n\n      guidelinePaths = [\n        [guidelinePoints[0], guidelinePoints[1]],\n        [guidelinePoints[1], guidelinePoints[2]],\n      ];\n    }\n\n    const\n      guidelineArea = this.currentTool === 'Polygon' ? [...this.points, guidePoint, this.points[0]] : guidelinePoints,\n      guidelinePolys = [guidelineArea, this.points],\n      svg = d3.select('#grid svg');\n\n    // render a guideline or rectangle\n    svg.selectAll('.guideline-line')\n    .append('path')\n    .datum(guidelinePoints)\n    .attr('fill', 'none')\n    .classed('guideline guideline-line', true)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .attr('data-transform-plz', '')\n    .attr('d', d3.line().x(d => this.rwuToGrid(d.x, 'x'))\n                        .y(d => this.rwuToGrid(d.y, 'y')))\n    .lower();\n\n    // render unfinished area polygon(s)\n    svg.selectAll('.guideline-area')\n    .data(guidelinePolys)\n    .enter()\n    .append('polygon')\n    .attr('points', d => d.map(p =>\n        [this.rwuToGrid(p.x, 'x'), this.rwuToGrid(p.y, 'y')]\n        .join(','),\n      ).join(' '))\n    .classed('guideline guideline-area guideLine', true)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .attr('data-transform-plz', '')\n    .attr('fill', () => {\n      if (this.currentTool === 'Eraser') { return 'none'; }\n      if (this.currentSpace) { return this.currentSpace.color; }\n      if (this.currentShading) { return this.currentShading.color; }\n      return null;\n    });\n\n    // don't render area/distance when erasing\n    if (this.currentTool === 'Eraser') { return; }\n\n    // render gridline distance(s)\n    svg.selectAll('.guideline-text')\n    .data(guidelinePaths)\n    .enter()\n    .append('text')\n    .attr('x', d => this.rwuToGrid(d[0].x, 'x') + (this.rwuToGrid(d[1].x, 'x') - this.rwuToGrid(d[0].x, 'x')) / 2)\n    .attr('y', d => this.rwuToGrid(d[0].y, 'y') + (this.rwuToGrid(d[1].y, 'y') - this.rwuToGrid(d[0].y, 'y')) / 2)\n    .attr('dx', -1.25 * (this.transform.k > 1 ? 1 : this.transform.k) + 'em')\n    .attr('data-transform-plz', '')\n    .text((d) => {\n      const dist = this.distanceBetweenPoints(d[0], d[1]);\n      return dist ? dist.toFixed(2) : '';\n    })\n    .classed('guideline guideline-text guideline-dist', true)\n    .attr('font-family', 'sans-serif')\n    .attr('fill', 'red')\n    .style('font-size', '1em');\n\n    if (guidelineArea.length > 3) {\n      const\n        areaPoints = guidelineArea.map((p) => {\n          const x = p.x, y = p.y;\n          return { x, y, X: x, Y: y };\n        }),\n        { x, y, area } = this.polygonLabelPosition(areaPoints),\n        areaTextNoUnits = area ? area.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,') : '',\n        areaText = `${areaTextNoUnits} ${this.units === 'ip' ? 'ft' : 'm'}`;\n\n      if (x === null || y === null) {\n        // either polygon has 0 area or something went wrong --> don't draw area text\n        return;\n      }\n\n      // render unfinished area #\n      svg.append('text')\n      .attr('x', this.rwuToGrid(x, 'x'))\n      .attr('y', this.rwuToGrid(y, 'y'))\n      .text(areaText)\n      .classed('guideline guideline-text guideline-area-text guideLine', true)\n      .attr('data-transform-plz', '')\n      .attr('text-anchor', 'middle')\n      .attr('font-family', 'sans-serif')\n      .attr('fill', 'red')\n      .style('font-size', '1em')\n      .raise();\n    }\n\n    d3.selectAll('.vertical, .horizontal').lower();\n  },\n  /*\n  * Erase any drawn guidelines\n  */\n  eraseGuidelines() {\n    d3.selectAll('#grid .guideline').remove();\n  },\n  /*\n  * Handle escape key presses to cancel current drawing operation\n  */\n  escapeAction(e) {\n    if (e.code === 'Escape' || e.which === 27) {\n      this.points = [];\n      this.clearHighlights();\n      d3.selectAll('#grid .point-path').remove();\n    }\n  },\n  // ****************** SAVING FACES ****************** //\n  /*\n  * The origin of the polygon being drawn was clicked, create a polygon face from all points on the grid\n  * translate the points into RWU and save the face for the selected space or shading\n  */\n  savePolygonFace() {\n    this.clearHighlights();\n    d3.selectAll('#grid .point-path').remove();\n\n    const payload = {\n      points: [...this.points],\n    };\n\n    if (this.currentSpace) {\n      payload.model_id = this.currentSpace.id;\n    } else if (this.currentShading) {\n      payload.model_id = this.currentShading.id;\n    }\n\n    this.$store.dispatch('geometry/createFaceFromPoints', payload);\n\n    // clear points from the grid\n    this.points = [];\n  },\n\n  /*\n  * create a rectangular face from the two points on the grid\n  * save the rectangle as a face for the selected space or shading\n  */\n  saveRectangularFace() {\n    this.clearHighlights();\n    d3.selectAll('#grid .point-path').remove();\n\n    // infer 4 corners of the rectangle based on the two points that have been drawn\n    const payload = {};\n\n    payload.points = [\n      this.points[0],\n      { x: this.points[1].x, y: this.points[0].y },\n      this.points[1],\n      { x: this.points[0].x, y: this.points[1].y },\n    ];\n\n    if (this.currentSpace) {\n      payload.model_id = this.currentSpace.id;\n    } else if (this.currentShading) {\n      payload.model_id = this.currentShading.id;\n    }\n    this.$store.dispatch('geometry/createFaceFromPoints', payload);\n\n    // clear points from the grid\n    this.points = [];\n  },\n\n  // ****************** ERASING FACES ****************** //\n  /*\n  * called when 2 points have been created on the grid and the eraser tool is active\n  * infer a rectangular eraser selection based on two points on the grid\n  * remove the intersection of all geometry on the current story with the eraser selection\n  */\n  eraseRectangularSelection() {\n    // infer 4 corners of the rectangle based on the two points that have been drawn\n    this.clearHighlights();\n    d3.selectAll('#grid .point-path').remove();\n\n    const payload = {\n      points: [\n        this.points[0],\n        { x: this.points[1].x, y: this.points[0].y },\n        this.points[1],\n        { x: this.points[0].x, y: this.points[1].y },\n      ],\n    };\n\n    this.$store.dispatch('geometry/eraseSelection', payload);\n\n    // clear points from the grid\n    this.points = [];\n  },\n\n\n  // ****************** d3 RENDERING ****************** //\n  /*\n  * render points for the face being drawn, connect them with a guideline\n  */\n  drawPoints() {\n    // remove expired points and guidelines\n    d3.selectAll('#grid .point-path').remove();\n\n    // draw points\n    const pointPath = d3.select('#grid svg')\n    .selectAll('ellipse.point-path').data(this.points);\n\n    pointPath.merge(\n      pointPath.enter().append('ellipse').attr('class', 'point-path'),\n    )\n    .classed('origin', (d, ix) => ix === 0)\n    .attr('data-transform-plz', '')\n    .attr('cx', d => this.rwuToGrid(d.x, 'x'))\n    .attr('cy', d => this.rwuToGrid(d.y, 'y'))\n    .attr('rx', (d, ix) => (ix === 0 ? 7 : 2))\n    .attr('ry', (d, ix) => (ix === 0 ? 7 : 2))\n    .attr('vector-effect', 'non-scaling-stroke')\n    .attr('fill', (d, ix) => (ix === 0 ? 'none' : ''));\n\n    // connect the points for the face being drawn with a line\n    d3.select('#grid svg').append('path').attr('class', 'point-path')\n    .datum(this.points)\n    .attr('fill', 'none')\n    .attr('vector-effect', 'non-scaling-stroke')\n    .attr('data-transform-plz', '')\n    .attr('d', d3.line().x(d => this.rwuToGrid(d.x, 'x')).y(d => this.rwuToGrid(d.y, 'y')))\n    // prevent edges from overlapping points - interferes with click events\n    .lower();\n\n    // keep grid lines under polygon edges\n    d3.selectAll('.vertical, .horizontal').lower();\n  },\n  registerDrag() {\n    const polygons = d3.select('#grid svg').selectAll('polygon');\n\n    this.deregisterD3Events(polygons);\n    if (this.currentTool === 'Select') {\n      this.registerSelectEvents(polygons);\n    } else if (this.currentTool === 'Fill') {\n      this.registerFillEvents(polygons);\n    }\n  },\n  deregisterD3Events(polygons) {\n    polygons\n      .on('.drag', null)\n      .on('click', null);\n  },\n\n  registerFillEvents(polygons) {\n    polygons.on('click', (d) => {\n      if (this.currentSpace || this.currentShading) {\n        this.points = [...d.points];\n        this.savePolygonFace();\n      }\n    });\n  },\n\n  registerSelectEvents(polygons) {\n    // store total drag offset (grid units)\n    let startX, startY;\n\n    // polygon drag handler\n    const drag = d3.drag()\n      .on('start', (d) => {\n        [startX, startY] = d3.mouse(this.$refs.grid);\n        if (d.previous_story) { return; }\n        // if a face on the current story is clicked while the Select tool is active\n        // lookup its corresponding model (space/shading) and select it\n        this.currentSubSelection = modelHelpers.modelForFace(this.$store.state.models, d.face_id);\n      })\n      .on('drag', (d) => {\n        if (d.previous_story) { return; }\n\n        const [currX, currY] = d3.mouse(this.$refs.grid);\n        d3.select(`#poly-${d.face_id}`)\n          .attr('transform', () => `translate(${currX - startX}, ${currY - startY})`);\n      })\n      .on('end', (d) => {\n        if (d.previous_story) { return; }\n\n        // when the drag is finished, update the face in the store with the total offset in RWU\n        const [endX, endY] = d3.mouse(this.$refs.grid);\n        this.$store.dispatch('geometry/moveFaceByOffset', {\n          face_id: d.face_id,\n          dx: this.gridToRWU(endX, 'x') - this.gridToRWU(startX, 'x'),\n          dy: this.gridToRWU(endY, 'y') - this.gridToRWU(startY, 'y'),\n        });\n      });\n    polygons.call(drag);\n  },\n  /*\n  * render saved faces as polygons\n  * handle clicks to select faces\n  */\n  drawPolygons() {\n    this.recalcScales();\n    // remove expired polygons\n    let poly = d3.select('#grid svg .polygons').selectAll('g.poly')\n      .data(this.polygons, d => d.face_id);\n\n    poly.exit().remove();\n    const polyEnter = poly.enter().append('g').attr('class', 'poly');\n    polyEnter.append('polygon');\n    polyEnter.append('text').attr('class', 'polygon-text');\n    polyEnter.append('g').attr('class', 'windows');\n    polyEnter.append('g').attr('class', 'doors');\n    polyEnter.append('g').attr('class', 'daylighting-controls');\n\n    // draw polygons\n    poly = polyEnter\n      .merge(poly)\n      .classed('current', d => d.current)\n      .classed('previousStory', d => d.previous_story)\n      .classed('poly', true)\n      .attr('data-model-type', d => d.modelType)\n      .attr('id', p => `poly-${p.face_id}`)\n      .attr('transform', null);\n\n    poly.select('polygon')\n      .attr('id', d => `face-${d.face_id}`)\n      .attr('points', d => d.points.map(p => [this.rwuToGrid(p.x, 'x'), this.rwuToGrid(p.y, 'y')].join(',')).join(' '))\n      .attr('fill', d => d.color)\n      .attr('vector-effect', 'non-scaling-stroke');\n\n    // add label\n    poly.select('text')\n      .attr('id', p => `text-${p.face_id}`)\n      .attr('x', p => this.rwuToGrid(p.labelPosition.x, 'x'))\n      .attr('y', p => this.rwuToGrid(p.labelPosition.y, 'y'))\n      .text(p => p.name)\n      .attr('text-anchor', 'middle')\n      .style('font-size', '14px')\n      .style('font-weight', 'bold')\n      .attr('font-family', 'sans-serif')\n      .attr('fill', 'red')\n      .classed('polygon-text', true);\n\n    poly.select('.windows')\n      .selectAll('.window')\n      .data(d => d.windows)\n      .call(this.drawWindow);\n\n    poly.select('.doors')\n      .selectAll('.window')\n      .data(d => d.doors)\n      .call(this.drawWindow);\n\n    poly.select('.daylighting-controls')\n      .selectAll('.daylighting-control')\n      .data(d => d.daylighting_controls)\n      .call(this.drawDaylightingControl);\n\n    this.registerDrag();\n\n    // render the selected model's face above the other polygons so that the border is not obscured\n    poly.order();\n  },\n  drawWalls() {\n    d3.select('#grid svg .walls').selectAll('.wall')\n      .data(this.walls, d => d.id)\n      .call(this.drawWall);\n  },\n  drawImages() {\n    d3.select('#grid svg .images').selectAll('.image-group')\n      .data(this.images, d => d.id)\n      .call(this.drawImage);\n  },\n\n  draw({ zoomEnd } = {}) {\n    this.transformAtLastRender = { ...this.transform };\n    d3.selectAll('[data-transform-plz]')\n      .attr('transform', '');\n\n    this.drawPolygons();\n    this.drawWalls();\n    this.drawImages();\n    this.raiseOrLowerImages();\n\n    const redrawPoints = zoomEnd && this.points.length > 0;\n    if (redrawPoints) {\n      this.highlightSnapTarget();\n      this.drawPoints();\n    }\n  },\n  // ****************** SNAPPING TO EXISTING GEOMETRY ****************** //\n  /*\n  * given a point in grid units, find the closest vertex or edge within its snap tolerance\n  * if the grid is active and no vertex or edge is within the snap tolerance, returns the closest grid point\n  * if the grid is inactive, returns the or the location of the point\n  */\n  findSnapTarget(gridPoint, options = {}) {\n    const { edge_component: snapOnlyToEdges } = options;\n    // translate grid point to real world units to check for snapping targets\n    const rwuPoint = {\n      x: this.gridToRWU(gridPoint.x, 'x'),\n      y: this.gridToRWU(gridPoint.y, 'y'),\n    };\n    if (this.snapMode === 'grid-strict') {\n      return this.strictSnapTargets(rwuPoint)[0];\n    }\n\n    if (this.snapMode === 'grid-verts-edges') {\n      const realPoint = this.gridPointToRWU(gridPoint);\n      const targets = [\n        ...vertexSnapTargets(this.currentStoryGeometry.vertices, this.spacing, realPoint),\n        ...this.snappingEdgeData(realPoint),\n        ...gridSnapTargets(this.spacing, realPoint),\n        ...this.polygonOriginPoint(),\n      ].map(\n        (target) => {\n          const penaltyFactor = (\n            target.type === 'edge' ? 1.4 : 1.0\n          );\n          return ({\n            ...target,\n            dist: penaltyFactor * distanceBetweenPoints(target, realPoint),\n            dx: realPoint.x - target.x,\n            dy: realPoint.y - target.y,\n          });\n        });\n\n      const orderedTargets = _.orderBy(targets, ['dist', 'origin', 'type'], ['asc', 'asc', 'desc']);\n      return orderedTargets[0] || {\n        type: 'gridpoint',\n        ...realPoint,\n      };\n    }\n    // if snapping only to edges (placing edge components, return either the snapping edge or original point)\n    if (snapOnlyToEdges) {\n      const snappingEdge = this.snappingEdgeData(rwuPoint);\n      return snappingEdge[0] || {\n        type: 'gridpoint',\n        ...rwuPoint,\n      };\n    }\n    // if a snappable vertex exists, don't check for edges\n    const snappingVertex = this.snappingVertexData(rwuPoint);\n    if (snappingVertex) { return snappingVertex; }\n\n    const snappingEdge = this.snappingEdgeData(rwuPoint);\n    if (snappingEdge.length > 0) { return snappingEdge[0]; }\n\n    // grid is active and no vertices or edges are within snapping range, calculate the closest grid point to snap to\n    if (this.gridVisible) {\n      // spacing between ticks in grid units\n      const xTickSpacing = this.rwuToGrid(this.spacing + this.min_x, 'x'),\n      // yTickSpacing = this.rwuToGrid(this.spacing + this.min_y, 'y');\n        yTickSpacing = this.rwuToGrid(this.max_y - this.spacing, 'y'); // inverted y axis\n\n      // round point RWU coordinates to nearest gridline, adjust by grid offset, add 0.5 grid units to account for width of gridlines\n      const snapTarget = {\n        type: 'gridpoint',\n        x: this.round(gridPoint.x, xTickSpacing) - 0.5,\n        y: this.round(gridPoint.y, yTickSpacing) - 0.5,\n      };\n\n      // pick closest point\n      snapTarget.x = Math.abs(gridPoint.x - (snapTarget.x - xTickSpacing)) > Math.abs(gridPoint.x - snapTarget.x) ? snapTarget.x : snapTarget.x - xTickSpacing;\n      snapTarget.y = Math.abs(gridPoint.y - (snapTarget.y - yTickSpacing)) > Math.abs(gridPoint.y - snapTarget.y) ? snapTarget.y : snapTarget.y - yTickSpacing;\n\n      return snapTarget;\n    }\n    // if grid is not active, check if we can snap to an angle\n    else if (this.points.length) {\n      const snappableAngles = [-180, -90, 0, 90, 180];\n      const lastPoint = this.points[this.points.length - 1];\n      // angle between last point drawn and mouse (degrees)\n      const thetaDeg = Math.atan2(lastPoint.y - gridPoint.y, lastPoint.x - gridPoint.x)\n      * (180 / Math.PI);\n\n      // snap to -180, -90, 0, 90, 180\n      var snapCoords;\n      snappableAngles.some((angle) => {\n        // check if gridpoint is within snap tolerance of a vertical or horizontal angle\n        if (Math.abs(thetaDeg - angle) < this.$store.getters['project/angleTolerance']) {\n          // only take the x or y value from the rotated point\n          // we don't want to preserve the original radius\n          if (angle === -180 || angle === 0 || angle === 180) {\n            // horizontal snap - use original x value and adjust y\n            return {\n              x: gridPoint.x,\n              y: this.rotatePoint(lastPoint, gridPoint, angle - thetaDeg).y,\n            };\n          } else if (angle === -90 || angle === 90) {\n            // vertical snap - use original y value and adjust x\n            return {\n              x: this.rotatePoint(lastPoint, gridPoint, angle - thetaDeg).x,\n              y: gridPoint.y,\n            };\n          }\n        }\n      });\n\n      if (snapCoords) {\n        return {\n          type: 'gridpoint',\n          ...snapCoords,\n        };\n      }\n    }\n\n    // nothing to snap to, just return the location of the point\n    return {\n      type: 'gridpoint',\n      ...gridPoint\n    };\n  },\n\n  polygonOriginPoint() {\n    if (this.points.length >= 3 && this.currentTool === 'Polygon') {\n      // convert the polygon origin from grid units to real world units before adding it as a snappable vertex\n      return [{\n        ...this.points[0],\n        origin: true, // set a flag to mark the origin\n        type: 'vertex',\n      }];\n    }\n    return [];\n  },\n\n  strictSnapTargets(location) {\n    const snappableVertices = [\n      ...this.currentStoryGeometry.vertices,\n      ...(this.previousStoryGeometry ? this.previousStoryGeometry.vertices : []),\n      ...this.polygonOriginPoint(),\n    ];\n\n    return snapTargets(snappableVertices, this.spacing, location);\n  },\n  /*\n  * given a point in RWU, look up the closest snappable vertex\n  * if the vertex is within the snap tolerance of the point, return the coordinates of the vertex in grid units\n  * and the distance from the vertex to the point\n  */\n  snappingVertexData(point) {\n    // build a list of vertices (in RWU) available for snapping\n    // deep copy all vertices on the current story\n    let snappableVertices = [...this.currentStoryGeometry.vertices];\n\n    // TODO: conditionally combine this list with vertices from the next story down if it is visible\n    if (this.previousStoryGeometry) {\n      snappableVertices = snappableVertices.concat(JSON.parse(JSON.stringify(this.previousStoryGeometry.vertices)));\n    }\n\n    // if the polygon tool is active and the polygon being drawn has at least 3 existing points allow snapping to the origin of the polygon\n    if (this.points.length >= 3 && this.currentTool === 'Polygon') {\n      // convert the polygon origin from grid units to real world units before adding it as a snappable vertex\n      snappableVertices.push({\n        ...this.points[0],\n        origin: true, // set a flag to mark the origin\n      });\n    }\n\n    if (this.points.length === 1 && this.currentTool === 'Rectangle') {\n      snappableVertices = snappableVertices.concat(\n        geometryHelpers.syntheticRectangleSnaps(\n          snappableVertices,\n          this.points[0],\n          point),\n      );\n    }\n\n    if (!snappableVertices.length) { return null; }\n\n    // find the vertex closest to the point being tested\n    const nearestVertex = snappableVertices.reduce((a, b) => {\n      const aDist = this.distanceBetweenPoints(a, point);\n      const bDist = this.distanceBetweenPoints(b, point);\n      return aDist < bDist ? a : b;\n    });\n\n    // return the nearest vertex if it is within the snap tolerance of the point\n    if (this.distanceBetweenPoints(nearestVertex, point) < this.$store.getters['project/snapTolerance']) {\n      return {\n        ...nearestVertex,\n        type: 'vertex',\n      };\n    }\n  },\n\n  /*\n  * given a point in RWU, look up the closest snappable edge\n  * if the projection of the point to the edge is within the snap tolerance of the point, return the edge and coordinates of the projection in grid units\n  * and the distance from the projection to the point\n  */\n  snappingEdgeData(point) {\n    // build a list of edges (in RWU) available for snapping\n    // deep copy all vertices on the current story\n    let snappableEdges = [...this.currentStoryGeometry.edges];\n\n    // TODO: conditionally combine this list with edges from the next story down if it is visible\n    if (this.previousStoryGeometry) {\n      snappableEdges = snappableEdges.concat(this.previousStoryGeometry.edges.map(e => ({\n        ...e,\n        previous_story: true,\n      })));\n    }\n\n    if (snappableEdges.length === 0) { return []; }\n\n    // find the edge closest to the point being tested\n    const distyEdges = _.map(\n      snappableEdges, (edge) => {\n        const\n          aStoryGeometry = edge.previous_story ? this.previousStoryGeometry : this.currentStoryGeometry,\n          // look up vertices associated with edges\n          aV1 = geometryHelpers.vertexForId(edge.v1, aStoryGeometry),\n          aV2 = geometryHelpers.vertexForId(edge.v2, aStoryGeometry),\n          // project point being tested to each edge\n          aProjection = projectionOfPointToLine(point, { p1: aV1, p2: aV2 }),\n\n          // look up distance between projection and point being tested\n          aDist = distanceBetweenPoints(aProjection, point);\n        return {\n          ...edge,\n          projection: aProjection,\n          dist: aDist,\n          v1Coords: aV1,\n          V2Coords: aV2,\n        };\n      });\n    const nearestEdge = _.minBy(distyEdges, 'dist');\n\n    // // look up vertices associated with nearest edge\n    // const nearestEdgeStoryGeometry = nearestEdge.previous_story ? this.previousStoryGeometry : this.currentStoryGeometry;\n    // const nearestEdgeV1 = geometryHelpers.vertexForId(nearestEdge.v1, nearestEdgeStoryGeometry);\n    // const nearestEdgeV2 = geometryHelpers.vertexForId(nearestEdge.v2, nearestEdgeStoryGeometry);\n    // // take the projection of the cursor to the edge\n    // // check if the angle of the segment defined by the cursor and projection is < the angle snap tolerance\n    // const snappableAngles = [-180, -90, 0, 90, 180];\n    // // angle between projection and mouse (degrees)\n    // const thetaDeg = Math.atan2(point.y - nearestEdge.projection.y, point.x - nearestEdge.projection.x)\n    // * (180 / Math.PI);\n\n    // // if the original projection is within the snap tolerance of one of the snapping angles\n    // // adjust the projection so that it is exactly at the snap angle\n    // // snap to -180, -90, 0, 90, 180\n    // snappableAngles.some((angle) => {\n    //   // if the original projection is within the snap tolerance of one of the snapping angles\n    //   // adjust the projection so that it is exactly at the snap angle\n    //   if (Math.abs(thetaDeg - angle) < this.$store.getters['project/angleTolerance']) {\n    //     // infer a line defining the desired projection\n    //     var adjustedProjectionP1;\n    //     var adjustedProjectionP2;\n    //     if (angle === 180 || angle === 0 || angle === -180) {\n    //       adjustedProjectionP1 = { x: point.x - (2 * nearestEdge.dist), y: point.y }\n    //       adjustedProjectionP2 = { x: point.x + (2 * nearestEdge.dist), y: point.y }\n    //     } else if (angle === 90 || angle === -90) {\n    //       adjustedProjectionP1 = { x: point.x, y: point.y - (2 * nearestEdge.dist) }\n    //       adjustedProjectionP2 = { x: point.x, y: point.y + (2 * nearestEdge.dist) }\n    //     }\n    //     // adjust the projection to be the intersection of the desired projection line and the nearest edge\n    //     if (geometryHelpers.ptsAreCollinear(adjustedProjectionP1, nearestEdgeV1, adjustedProjectionP2)) {\n    //       projection = nearestEdgeV1;\n    //     } else if (geometryHelpers.ptsAreCollinear(adjustedProjectionP1, nearestEdgeV2, adjustedProjectionP2)) {\n    //       projection = nearestEdgeV2;\n    //     } else {\n    //       projection = geometryHelpers.intersectionOfLines(adjustedProjectionP1, adjustedProjectionP2, nearestEdgeV1, nearestEdgeV2);\n    //     }\n    //     return true;\n    //   }\n    //   return false;\n    // });\n\n    // return data for the edge if the projection is within the snap tolerance of the point\n    if (nearestEdge.dist < this.$store.getters['project/snapTolerance']) {\n      return [{\n        snappingEdge: nearestEdge,\n        dist: nearestEdge.dist,\n        type: 'edge',\n        // projection and snapping edge vertices translated into grid coordinates (to display snapping point and highlight edges)\n        projection: nearestEdge.projection,\n        v1GridCoords: nearestEdge.v1Coords,\n        v2GridCoords: nearestEdge.V2Coords,\n        x: nearestEdge.projection.x,\n        y: nearestEdge.projection.y,\n      }];\n    }\n    return [];\n  },\n\n  // ****************** SNAPPING HELPERS ****************** //\n  /*\n  * returns the distance between two points\n  */\n  distanceBetweenPoints (p1, p2) {\n    const dx = Math.abs(p1.x - p2.x),\n    dy = Math.abs(p1.y - p2.y);\n    return Math.sqrt((dx * dx) + (dy * dy));\n  },\n\n  /*\n  * round a number n to the nearest x\n  */\n  round (n, x) {\n    var result,\n    sign = n < 0 ? -1 : 1;\n    n = Math.abs(n);\n    if (n % x < x / 2) {\n      result = n - (n % x);\n    } else {\n      result = n + x - (n % x);\n    }\n    // handle negatives\n    result *= sign;\n    return result\n  },\n  rotatePoint (center, point, angle) {\n    const radians = angle * Math.PI / 180.0,\n    cos = Math.cos(radians),\n    sin = Math.sin(radians),\n    dX = point.x - center.x,\n    dY = point.y - center.y;\n\n    return {\n      x: cos * dX - sin * dY + center.x,\n      y: sin * dX + cos * dY + center.y\n    };\n  },\n\n  resolveBounds() {\n    /*\n    After calling resolveBounds:\n     - (min_x, max_x) x  (min_y, max_y) will have the same aspect ratio\n     as width x height.\n     - (min_x, max_x) is the same or a smaller interval\n     - (min_y, max_y) is the same or a smaller interval\n    */\n    let\n      currXExtent = [this.min_x, this.max_x],\n      currYExtent = [this.min_y, this.max_y];\n    const plusMargin = ([i, s]) => {\n      const d = (s - i) / 20;\n      return [i - d, s + d];\n    };\n    if (this.visibleVerts.length) {\n      currXExtent = plusMargin(d3.extent(this.allVertices, d => d.x));\n      currYExtent = plusMargin(d3.extent(this.allVertices, d => d.y));\n    }\n    const\n      width = this.$refs.gridParent.clientWidth,\n      height = this.$refs.gridParent.clientHeight,\n      { xExtent, yExtent } = fitToAspectRatio(\n        currXExtent,\n        currYExtent,\n        width / height,\n        'expand',\n      );\n\n    this.dimensions = {\n      min_x: xExtent[0],\n      max_x: xExtent[1],\n      min_y: yExtent[0],\n      max_y: yExtent[1],\n    };\n    _.defer(() => {\n      window.eventBus.$emit('boundsResolved');\n    });\n  },\n  nullTransform() {\n    d3.select(this.$refs.grid).call(this.zoomBehavior.transform, d3.zoomIdentity);\n  },\n  // ****************** GRID ****************** //\n  renderGrid() {\n    const\n      w = this.$refs.gridParent.clientWidth,\n      h = this.$refs.gridParent.clientHeight;\n\n    this.resolveBounds();\n    // scaleX amd scaleY are used during drawing to translate from px to RWU given the current grid dimensions in rwu\n    this.$store.dispatch('application/setScaleX', {\n      scaleX: {\n        pixels: w,\n        rwuRange: [this.min_x, this.max_x],\n      },\n    });\n\n    this.$store.dispatch('application/setScaleY', {\n      scaleY: {\n        pixels: h,\n        rwuRange: [this.min_y, this.max_y],\n      },\n    });\n\n    this.calcGrid();\n\n    // It took me some time to figure out why this line is necessary. It fixes a problem\n    // that sometimes appears when resizing the window. Here's a screenshot of what\n    // it can look like without that line:\n    // https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/59a225fd10e0a9d23fc0e1b2/30ea2c37407fe148a397295b748b6015/capture.png\n    // When it looks that way it's because the zoomXScale's range has not been updated to\n    // reflect the new clientWidth. reloadGridAndScales() updates the zoomXScale's range,\n    // but the axes don't re-render until the next zoom event. We use nullTransform()\n    // to force this to happen immediately.\n    this.nullTransform();\n\n    this.draw()\n  },\n  reloadGridAndScales() {\n    this.zoomXScale = null;\n    this.zoomYScale = null;\n    this.resolveBounds();\n    this.renderGrid();\n  },\n  recalcScales() {\n    const\n      width = this.$refs.gridParent.clientWidth,\n      height = this.$refs.gridParent.clientHeight;\n\n    this.xScale = d3.scaleLinear()\n      .domain([this.min_x, this.max_x])\n      .range([0, width]);\n    this.yScale = d3.scaleLinear()\n      .domain([this.min_y, this.max_y])\n      .range([height, 0]); // inverted y axis\n\n    // only copy once, or else zoom behavior is exponential\n    this.zoomXScale = this.zoomXScale || this.xScale.copy();\n    this.zoomYScale = this.zoomYScale || this.yScale.copy();\n  },\n  calcGrid() {\n    this.recalcScales();\n    const\n      width = this.$refs.gridParent.clientWidth,\n      height = this.$refs.gridParent.clientHeight;\n    const\n      svg = d3.select('#grid svg'),\n      // keep font size and stroke width visually consistent\n      strokeWidth = 1,\n      fontSize = '14px';\n\n    svg.attr('height', height)\n      .attr('width', width);\n    this.axis.x = svg.selectAll('g.axis--x')\n      .data([undefined]);\n\n    this.axis.x = this.axis.x.merge(\n      this.axis.x.enter().append('g').attr('class', 'axis axis--x'),\n    )\n    .attr('stroke-width', strokeWidth)\n    .style('font-size', fontSize)\n    .style('display', this.gridVisible ? 'inline' : 'none');\n\n    this.axis.y = svg.selectAll('g.axis--y')\n      .data([undefined]);\n\n    this.axis.y = this.axis.y.merge(\n      this.axis.y.enter().append('g').attr('class', 'axis axis--y'),\n    )\n    .attr('class', 'axis axis--y')\n    .attr('stroke-width', strokeWidth)\n    .style('font-size', fontSize)\n    .style('display', this.gridVisible ? 'inline' : 'none');\n\n    // now that the axis g tags exist, call axis_generator on them.\n    this.updateGrid();\n\n    // configure zoom behavior in rwu\n    this.zoomBehavior = d3.zoom()\n    .scaleExtent([0, Infinity])\n     .on('zoom', () => {\n       const transform = d3.event.transform;\n       // update stored transform for grid hiding, etc.\n       this.transform = { ...transform };\n\n       // create updated copies of the scales based on the zoom transformation\n       // the transformed scales are only used to obtain the new rwu grid dimensions and redraw the axes\n       // NOTE: don't change the original scale or you'll get exponential growth\n       const\n         newScaleX = transform.rescaleX(this.zoomXScale),\n         newScaleY = transform.rescaleY(this.zoomYScale);\n\n      const xDomain = newScaleX.domain();\n      const yDomain = newScaleY.domain();\n      this.dimensions = {\n        min_x: xDomain[0],\n        max_x: xDomain[1],\n        min_y: yDomain[0],\n        max_y: yDomain[1],\n      };\n\n       this.axis_generator.x.scale(newScaleX);\n       this.axis_generator.y.scale(newScaleY);\n       this.updateGrid();\n\n       // axis padding\n       this.padTickY(-12);\n\n       // apply the zoom transform to image and polygon <g> tags.\n       // (more efficient than a full re-render)\n       this.translateEntities();\n       this.clearComponentHighlights();\n     })\n     .on('end', () => {\n        // If there's no change from the last transform, redrawing is unnecessary here\n        if (this._lastTransform === d3.event.transform) {\n          return; \n        }\n\n        this._lastTransform = d3.event.transform;\n        this.draw({ zoomEnd: true });\n     });\n\n    svg.call(this.zoomBehavior);\n    svg\n      .on('mousemove', this.handleMouseMove)\n      .on('click', this.gridClicked);\n  },\n  transformTo(t) {\n    d3.select(this.$refs.grid)\n      .call(this.zoomBehavior.transform, t);\n  },\n  zoomBy(factor) {\n    const newScale = this.transform.k * factor;\n    d3.select(this.$refs.grid)\n      .transition()\n      .duration(400)\n      .call(this.zoomBehavior.transform, d3.zoomIdentity.scale(newScale));\n  },\n  zoomToFit() {\n    const\n      width = this.$refs.grid.clientWidth,\n      height = this.$refs.grid.clientHeight;\n\n    if (!this.allVertices.length) {\n      return;\n    }\n\n    const\n      xExtent = d3.extent(this.allVertices, d => this.zoomXScale(d.x)),\n      yExtent = d3.extent(this.allVertices, d => this.zoomYScale(d.y)),\n      dx = xExtent[1] - xExtent[0],\n      dy = yExtent[1] - yExtent[0],\n      x = (xExtent[0] + xExtent[1]) / 2,\n      y = (yExtent[0] + yExtent[1]) / 2,\n      scale = 0.9 / Math.max(dx / width, dy / height),\n      translate = [width / 2 - scale * x, height / 2 - scale * y],\n      svg = d3.select('#grid svg'),\n      transform = d3.zoomIdentity.translate(...translate).scale(scale);\n\n    svg.call(this.zoomBehavior.transform, transform);\n  },\n  scaleTo(scale) {\n    const\n      width = this.$refs.grid.clientWidth,\n      height = this.$refs.grid.clientHeight,\n      x = (this.zoomXScale(this.max_x) + this.zoomXScale(this.min_x)) / 2,\n      y = (this.zoomYScale(this.max_y) + this.zoomYScale(this.min_y)) / 2,\n      translate = [width / 2 - scale * x, height / 2 - scale * y];\n    d3.select(this.$refs.grid)\n      .call(this.zoomBehavior.transform, d3.zoomIdentity\n          .translate(...translate)\n          .scale(scale));\n  },\n  translateEntities() {\n    // During a zoom, we don't do a full re-render because it would fire many\n    // times and slow down the event loop. Instead, we do a visual\n    // transformation, to keep the elements in the correct position on the page\n    //\n    // It used to be just .images and .polygons that needed to be translated\n    // but, now that mid-draw artifacts can persist through a zoom or pan, we\n    // needed to add them as well. Rather than listing all the selectors for\n    // anyone who might want to be translated, we use [data-transform-plz] to\n    // let elements opt-in and say \"I would like to be translated when the user\n    // pans, plz\".\n\n    d3.selectAll('[data-transform-plz]')\n      .attr('transform', transformDiff(this.transformAtLastRender, d3.event.transform));\n  },\n  showOrHideAxes() {\n    this.axis.x.style('visibility', this.gridVisible ? 'visible' : 'hidden');\n    this.axis.y.style('visibility', this.gridVisible ? 'visible' : 'hidden');\n  },\n  updateGrid() {\n    if (!this.axis.x || !this.axis.y) {\n      // not yet initialized\n      return;\n    }\n    const\n      width = this.$refs.gridParent.clientWidth,\n      height = this.$refs.gridParent.clientHeight,\n      rwuWidth = this.max_x - this.min_x,\n      rwuHeight = this.max_y - this.min_y,\n      xTicks = ticksInRange(this.min_x, this.max_x, this.spacing),\n      yTicks = ticksInRange(this.min_y, this.max_y, this.spacing);\n\n    this.reduceTicks = yTicks.length > 250 || xTicks.length > 250;\n\n    this.axis_generator.x = this.axis_generator.x || d3.axisBottom(this.xScale);\n    this.axis_generator.x\n      .tickSize(height)\n      .tickPadding(-20)\n      .tickFormat(this.reduceTicks ? _.identity : this.formatTickX.bind(this, Math.floor(10 * (width / height))));\n\n    this.axis_generator.y = this.axis_generator.y || d3.axisRight(this.yScale);\n    this.axis_generator.y\n      .tickSize(width)\n      .tickPadding(-25)\n      .tickFormat(this.reduceTicks ? _.identity : this.formatTickY.bind(this, 10));\n\n    if (this.reduceTicks) {\n      this.axis_generator.x\n        .tickValues(null)\n        .ticks(5 * (rwuWidth / rwuHeight));\n      this.axis_generator.y\n        .tickValues(null)\n        .ticks(5);\n    } else {\n      this.axis_generator.x\n        .ticks(null)\n        .tickValues(xTicks);\n      this.axis_generator.y\n        .ticks(null)\n        .tickValues(yTicks);\n    }\n    // update the number of ticks to display based on the post zoom real world unit height and width\n    this.axis.y.call(this.axis_generator.y);\n    this.axis.x.call(this.axis_generator.x);\n  },\n\n  // ****************** SCALING FUNCTIONS ****************** //\n\n  /*\n  * take a rwu value (from the datastore), find the corresponding coordinates in the svg grid\n  */\n  rwuToGrid (rwu, axis) {\n    let scale;\n    if (axis === 'x') {\n      scale = this.xScale;\n    } else if (axis === 'y') {\n      scale = this.yScale;\n    }\n    return scale(rwu);\n  },\n\n  /*\n  * take a grid value (from some point already rendered to the grid) and translate it into RWU for persistence to the datastore\n  */\n  gridToRWU(gridValue, axis) {\n    let scale;\n    if (axis === 'x') {\n      scale = this.xScale;\n    } else if (axis === 'y') {\n      scale = this.yScale;\n    }\n    const result = scale.invert(gridValue);\n    // prevent floating point inaccuracies in stored numbers\n    return (Math.round(result * 100000000000))/100000000000;\n  },\n\n  gridPointToRWU(pt) {\n    return {\n      x: this.gridToRWU(pt.x, 'x'),\n      y: this.gridToRWU(pt.y, 'y'),\n    };\n  },\n\n  rwuPointToGrid(pt) {\n    return {\n      x: this.rwuToGrid(pt.x, 'x'),\n      y: this.rwuToGrid(pt.y, 'y'),\n    };\n  },\n\n  /*\n  * determine label x,y for given polygon\n  */\n  polygonLabelPosition(pointsIn) {\n    const\n      points = [pointsIn.map(p => [p.x, p.y])],\n      area = Math.abs(Math.round(geometryHelpers.areaOfSelection(pointsIn))), // calculate area in RWU, not grid units\n      [x, y] = area ? polylabel(points, 1.0) : [null, null];\n\n    return { x, y, area };\n  },\n\n  /*\n  * Format tick labels to maintain legibility\n  */\n  formatTickX (maxTicks, val) {\n    const rangeX = this.max_x - this.min_x,\n    spacing = this.spacing,\n    spacingScaled = Math.ceil((rangeX / maxTicks) / spacing) * spacing;\n\n    return (spacingScaled === 0 || val % spacingScaled === 0) ? val : '';\n  },\n  formatTickY (maxTicks, val) {\n    const rangeY = this.max_y - this.min_y,\n    spacing = this.spacing,\n    spacingScaled = Math.ceil((rangeY / maxTicks) / spacing) * spacing;\n\n    return (spacingScaled === 0 || val % spacingScaled === 0) ? val : '';\n  },\n  /*\n  * Adjust padding to ensure full label is visible\n  */\n  padTickY (paddingPerDigit) {\n    let min = Math.abs(this.min_y),\n    max = Math.abs(this.max_y),\n    numDigits = (min < max ? max : min).toFixed(0).length,\n    yPadding = paddingPerDigit * numDigits;\n\n    this.axis.y.call(this.axis_generator.y.tickPadding(yPadding));\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Grid/methods.js","import Vue from 'vue';\nimport Vuex from 'vuex';\n\n// modules\nimport application from './modules/application/index';\nimport project from './modules/project/index';\nimport geometry from './modules/geometry/index';\nimport models from './modules/models/index';\n\nimport exportData from './utilities/export';\nimport importFloorplan from './utilities/importFloorplan';\nimport importLibrary from './utilities/importLibrary';\nimport { convertState } from './utilities/unitConversion';\nimport mutations from './mutations';\n\nVue.use(Vuex);\n\nconst store = new Vuex.Store({\n  strict: process.env.NODE_ENV !== 'production',\n  modules: {\n    application,\n    project,\n    geometry,\n    models,\n  },\n  getters: {\n    exportData,\n  },\n  actions: {\n    importFloorplan,\n    importLibrary,\n    changeUnits(context, { newUnits }) {\n      const oldUnits = context.state.project.config.units;\n      console.log(`moving from ${oldUnits} to ${newUnits}`);\n      if (oldUnits !== 'ip' && oldUnits !== 'si') {\n        console.error(`Expected data.project.config.units to be \"ip\" or \"si\", received \"${oldUnits}\"`);\n      }\n      if (newUnits !== 'ip' && newUnits !== 'si') {\n        console.error(`Expected oldUnits to be \"ip\" or \"si\", received \"${newUnits}\"`);\n      }\n      context.commit(\n        'changeUnits',\n        convertState(\n          context.state,\n          oldUnits,\n          newUnits));\n      context.dispatch('project/setUnits', { units: newUnits });\n    },\n  },\n  mutations,\n});\n\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import _ from 'lodash';\nimport { assignableProperties } from './appconfig';\nimport { componentInstanceById, spacePropertyById } from './helpers';\n\nexport default {\n  setCurrentStoryId(context, payload) {\n    const { id } = payload;\n    if (context.rootState.models.stories.map(s => s.id).indexOf(id) !== -1) {\n      context.commit('setCurrentStoryId', { id });\n    }\n  },\n\n  setCurrentSubSelectionId(context, payload) {\n    const { id } = payload;\n    if (context.getters.currentStory && (\n      context.getters.currentStory.spaces.find(i => i.id === id) ||\n      context.getters.currentStory.shading.find(i => i.id === id) ||\n      context.getters.currentStory.images.find(i => i.id === id)\n    )) {\n      context.commit('setCurrentSubSelectionId', { id });\n    }\n  },\n\n  setCurrentComponentId(context, payload) {\n    const { id } = payload;\n    if (context.getters.currentStory && (\n      context.getters.currentStory.windows.find(i => i.id === id) ||\n      context.getters.currentStory.daylighting_controls.find(i => i.id === id)\n    )) {\n      context.commit('setCurrentComponentId', { id });\n    }\n  },\n\n  setCurrentComponentDefinitionId(context, payload) {\n    const { id } = payload;\n    if (\n      context.rootState.models.library.daylighting_control_definitions.find(i => i.id === id) ||\n      context.rootState.models.library.window_definitions.find(i => i.id === id) ||\n      context.rootState.models.library.door_definitions.find(i => i.id === id)\n    ) {\n      context.commit('setCurrentComponentDefinitionId', { id });\n    } else if (id !== 'undefined') {\n      throw new Error(`unable to set component definition -- couldn't find one with id ${id}`);\n    }\n  },\n\n  setCurrentComponentInstanceId(context, payload) {\n    const { id } = payload;\n    if (!componentInstanceById(context.getters.currentStory, id)) {\n      console.error('unable to find an instance with that id on the current story');\n    } else {\n      context.commit('setCurrentComponentInstanceId', payload);\n    }\n  },\n\n  setCurrentSnapMode(context, { snapMode }) {\n    if (!_.includes(['grid-strict', 'grid-verts-edges'], snapMode)) {\n      throw new Error(`Unknown grid mode ${snapMode}`);\n    }\n    context.commit('setCurrentSnapMode', { snapMode });\n  },\n  setCurrentModeTab(context, { modeTab }) {\n    context.commit('setCurrentModeTab', { modeTab });\n  },\n  setCurrentSubselectionType(context, { subselectionType }) {\n    context.commit('setCurrentSubselectionType', { subselectionType });\n  },\n  setCurrentTool(context, payload) {\n    const { tool } = payload;\n    if (context.state.tools.indexOf(tool) !== -1) {\n      context.commit('setCurrentTool', { tool });\n    }\n  },\n\n  setCurrentMode(context, payload) {\n    const { mode } = payload;\n    if (mode === 'spaces' || _.includes(assignableProperties, mode)) {\n      context.commit('setCurrentMode', { mode });\n    } else {\n      console.error(`unrecognized view-by option: ${mode}`);\n    }\n  },\n\n  setCurrentSpacePropertyId(context, payload) {\n    const { id } = payload;\n    if (!id || spacePropertyById(context.rootState.models.library, id)) {\n      context.commit('setCurrentSpacePropertyId', { id });\n    } else {\n      console.error(`unable to find space property with id: ${id}`);\n    }\n  },\n\n\n  // update d3's scaling functions\n  setScaleX(context, payload) {\n    const { scaleX } = payload;\n    context.commit('setScaleX', { scaleX });\n  },\n  setScaleY(context, payload) {\n    const { scaleY } = payload;\n    context.commit('setScaleY', { scaleY });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/actions.js","import _ from 'lodash';\nimport geometryHelpers from '../geometry/helpers';\nimport { componentInstanceById, spacePropertyById } from './helpers';\n\nexport default {\n  // full story object for the currentSelections story_id\n  currentStory(state, getters, rootState) { console.log('trying to get currentStory', rootState.models.stories); return rootState.models.stories.find(s => s.id === state.currentSelections.story_id); },\n\n  // full space, shading, or image object for the currentSelections subselection_id\n  currentSubSelection(state, getters) {\n    const currentStory = getters['currentStory'];\n    if (!currentStory) { return null; }\n    const subSelectionId = state.currentSelections.subselection_ids[currentStory.id];\n    return currentStory.spaces.find(i => i.id === subSelectionId) ||\n      currentStory.shading.find(i => i.id === subSelectionId) ||\n      currentStory.images.find(i => i.id === subSelectionId);\n  },\n\n  currentSubSelectionType(state, getters) {\n    const currentStory = getters['currentStory'];\n    if (!currentStory) { return null; }\n    const subSelectionId = state.currentSelections.subselection_ids[currentStory.id];\n    if (currentStory.spaces.find(i => i.id === subSelectionId)) {\n      return 'spaces';\n    } else if (currentStory.shading.find(i => i.id === subSelectionId)) {\n      return 'shading';\n    } else if (currentStory.images.find(i => i.id === subSelectionId)) {\n      return 'images';\n    }\n    return null;\n  },\n\n  // access subSelection by type\n  currentSpace(state, getters) { return getters.currentSubSelectionType === 'spaces' ? getters.currentSubSelection : null; },\n  currentShading(state, getters) { return getters.currentSubSelectionType === 'shading' ? getters.currentSubSelection : null; },\n  currentImage(state, getters) { return getters.currentSubSelectionType === 'images' ? getters.currentSubSelection : null; },\n\n  // full component definition (window_definition or daylighting_control_definition) instance for the component_definition_id\n  // this will be stored in the top level library\n  currentComponent(state, getters, rootState) {\n    const componentDefinitionId = state.currentSelections.component_definition_id;\n    let type, definition;\n    if ((definition = rootState.models.library.window_definitions.find(i => i.id === componentDefinitionId))) {\n      type = 'window_definitions';\n    } else if ((definition = rootState.models.library.daylighting_control_definitions.find(i => i.id === componentDefinitionId))) {\n      type = 'daylighting_control_definitions';\n    } else if ((definition = _.find(rootState.models.library.door_definitions, { id: componentDefinitionId }))) {\n      type = 'door_definitions';\n    }\n    return { type, definition };\n  },\n\n  currentComponentDefinition(state, getters) {\n    return getters['currentComponent']['definition'];\n  },\n\n  currentComponentInstance(state, getters) {\n    const compDefId = state.currentSelections.component_instance_id;\n    if (!compDefId) { return null; }\n    return componentInstanceById(getters['currentStory'], compDefId);\n  },\n\n  currentSpaceProperty(state, getters, rootState) {\n    const\n      spacePropertyId = state.currentSelections.space_property_id,\n      library = rootState.models.library;\n    return spacePropertyById(library, spacePropertyId);\n  },\n\n  // geometry for the story being edited\n  currentStoryGeometry(state, getters, rootState) {\n    const currentStory = getters['currentStory'];\n    if (!currentStory) { return null; }\n    return rootState.geometry.find(g => g.id === currentStory.geometry_id);\n  },\n  currentStoryDenormalizedGeom(state, getters) {\n    const currentStoryGeom = getters['currentStoryGeometry'];\n    if (!currentStoryGeom) { return null; }\n    return geometryHelpers.denormalize(currentStoryGeom);\n  },\n\n  // face for the shading or space being edited\n  currentSubSelectionFace(state, getters) {\n    // if the subselection is an image, there will not be an associated face\n    if (getters['currentSubSelection'] && getters['currentSubSelection'].face_id) {\n      return getters['currentStoryGeometry'].faces.find(f => f.id === getters['currentSubSelection'].face_id);\n    }\n    return null;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/getters.js","import actions from './actions';\nimport mutations from './mutations';\nimport getters from './getters';\n\nconst d3 = require('d3');\n\nexport default {\n  namespaced: true,\n  state: {\n    currentSelections: {\n      // models currently being edited\n      story: null,\n      story_id: null,\n      subselection_ids: {}, // story_id -> space, shading, or image id.\n\n      component_id: null,\n      component_definition_id: null,\n      component_instance_id: null,\n\n      space_property_id: null,\n\n      // current application mode and tool\n      tool: 'Rectangle',\n      mode: 'spaces',\n      snapMode: 'grid-strict',\n      modeTab: 'floorplan',\n      subselectionType: 'spaces',\n    },\n    modes: ['spaces', 'shading', 'building_units', 'thermal_zones', 'pitched_roofs', 'space_types', 'images'],\n    tools: ['Pan', 'Drag', 'Rectangle', 'Polygon', 'Eraser', 'Select', 'Map', 'Fill', 'Place Component', 'Image', 'Apply Property'],\n    // d3 scale functions px -> rwu\n    scale: {\n      x: d3.scaleLinear().range([0, 0]).domain([0, 0]),\n      y: d3.scaleLinear().range([0, 0]).domain([0, 0]),\n    },\n  },\n  actions,\n  mutations,\n  getters,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/index.js","export default {\n  // current selections\n  setCurrentStoryId(state, payload) { state.currentSelections.story_id = payload.id; },\n  setCurrentSubSelectionId(state, payload) {\n    const storyId = state.currentSelections.story_id;\n    if (!storyId) {\n      console.error('expected a story to be selected, in order to set a subselection');\n      return;\n    }\n    state.currentSelections.subselection_ids = {\n      ...state.currentSelections.subselection_ids,\n      [storyId]: payload.id,\n    };\n  },\n\n  setCurrentComponentId(state, payload) { state.currentSelections.component_id = payload.id; },\n  setCurrentComponentDefinitionId(state, payload) { state.currentSelections.component_definition_id = payload.id; },\n  setCurrentComponentInstanceId(state, payload) { state.currentSelections.component_instance_id = payload.id; },\n\n  setCurrentSpacePropertyId(state, payload) { state.currentSelections.space_property_id = payload.id; },\n\n  setCurrentSnapMode(state, payload) { state.currentSelections.snapMode = payload.snapMode; },\n  setCurrentModeTab(state, payload) { state.currentSelections.modeTab = payload.modeTab; },\n  setCurrentSubselectionType(state, payload) { state.currentSelections.subselectionType = payload.subselectionType; },\n\n  // editor rendering/drawing tool\n  setCurrentTool(state, payload) { state.currentSelections.tool = payload.tool; },\n  setCurrentMode(state, payload) { state.currentSelections.mode = payload.mode; },\n\n  // d3 scaling functions\n  setScaleX(state, payload) { state.scale.x = payload.scaleX; },\n  setScaleY(state, payload) { state.scale.y = payload.scaleY; },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/mutations.js","import _ from 'lodash';\nimport factory from './../factory';\nimport geometryHelpers, { distanceBetweenPoints } from './../helpers';\nimport createFaceFromPoints, { eraseSelection, newGeometriesOfOverlappedFaces, validateFaceGeometry } from './createFaceFromPoints';\nimport { withPreservedComponents } from './componentPreservationSociety';\n\nexport function getOrCreateVertex(geometry, coords) {\n  return geometryHelpers.vertexForCoordinates(coords, geometry) || factory.Vertex(coords.x, coords.y);\n}\n\nexport default {\n  /*\n  * initializes a new geometry object for a story\n  */\n  initGeometry(context, payload) {\n    const { story_id } = payload;\n    const geometry = new factory.Geometry();\n    context.commit('initGeometry', { geometry });\n\n    // set a reference to the new geometry set for the story it belongs to\n    context.dispatch('models/updateStoryWithData', {\n      story: context.rootState.models.stories.find(s => s.id === story_id),\n      geometry_id: geometry.id,\n    }, { root: true });\n  },\n  destroyGeometry({ commit }, geometryId) {\n    commit('destroyGeometry', { id: geometryId });\n  },\n\n  /*\n  * Erase the selection defined by a set of points on all faces on the current story\n  * Dispatched by the eraser tool\n  */\n  eraseSelection(context, payload) {\n    const\n      { points } = payload,\n      geometry_id = context.rootGetters['application/currentStoryGeometry'].id;\n\n    withPreservedComponents(context, geometry_id, () => {\n      const eraseResult = eraseSelection(points, context);\n\n      if (!eraseResult) {\n        window.eventBus.$emit('error', 'Operation cancelled - no split faces');\n      }\n    });\n\n    context.dispatch('trimGeometry', { geometry_id });\n  },\n\n  /*\n  * Given a dx, dy, and face\n  * clone the face with all points adjusted by the delta and destroy the original\n  * this will trigger all set operations\n  */\n  moveFaceByOffset(context, payload) {\n    const\n      { face_id, dx, dy } = payload,\n      currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'],\n      face = geometryHelpers.faceForId(face_id, currentStoryGeometry),\n      movedPoints = geometryHelpers.verticesForFaceId(face.id, currentStoryGeometry).map(v => ({\n        x: v.x + dx,\n        y: v.y + dy,\n      })),\n      newGeoms = newGeometriesOfOverlappedFaces(\n        movedPoints,\n        // Don't consider face we're modifying as a reason to disqualify the action.\n        geometryHelpers.exceptFace(currentStoryGeometry, face_id),\n      );\n\n    if (newGeoms.error) {\n      window.eventBus.$emit('error', `Operation cancelled - ${newGeoms.error}`);\n\n      window.eventBus.$emit('reload-grid');\n      return;\n    }\n\n    const movedGeom = validateFaceGeometry(movedPoints, currentStoryGeometry);\n    if (!movedGeom.success) {\n      window.eventBus.$emit('error', movedGeom.error);\n      window.eventBus.$emit('reload-grid');\n      return;\n    }\n\n    const movementsByFaceId = { [face_id]: { dx, dy } };\n\n    withPreservedComponents(context, currentStoryGeometry.id, movementsByFaceId, () => {\n      newGeoms.forEach(newGeom => context.dispatch('replaceFacePoints', newGeom));\n\n      context.dispatch('replaceFacePoints', {\n        geometry_id: currentStoryGeometry.id,\n        face_id,\n        vertices: movedGeom.vertices,\n        edges: movedGeom.edges,\n        dx,\n        dy,\n      });\n    });\n\n    context.dispatch('trimGeometry', { geometry_id: currentStoryGeometry.id });\n  },\n  /*\n  * create a face and associated edges and vertices from an array of points\n  * associate the face with the space or shading included in the payload\n  */\n  createFaceFromPoints,\n\n  /*\n  * given a face which may or may not be saved to the datastore\n  * look up and destroy all edges and vertices referenced only by that face\n  * destroy the face\n  */\n  destroyFaceAndDescendents(context, payload) {\n    const { geometry_id, face } = payload;\n\n    const\n      geometry = context.state.find(g => g.id === geometry_id),\n      // find edges and vertices referenced ONLY by the face being destroyed so that no shared geometry is lost\n      expVertices = face.edgeRefs\n        .map((edgeRef) => {\n          const\n            edge = geometryHelpers.edgeForId(edgeRef.edge_id, geometry),\n            // look up the vertex associated with v1 unless the edge reference on the face is reversed\n            vertexId = edgeRef.reverse ? edge.v2 : edge.v1;\n          return geometryHelpers.vertexForId(vertexId, geometry);\n        })\n        .filter(v => geometryHelpers.facesForVertexId(v.id, geometry).length < 2),\n      expEdgeRefs = face.edgeRefs.filter(edgeRef => geometryHelpers.facesForEdgeId(edgeRef.edge_id, geometry).length < 2);\n\n    // destroy face, then edges, then vertices\n    context.commit('destroyGeometry', { id: face.id });\n    expEdgeRefs.forEach(edgeRef => context.commit('destroyGeometry', { id: edgeRef.edge_id }));\n    expVertices.forEach(vertex => context.commit('destroyGeometry', { id: vertex.id }));\n  },\n\n  replaceFacePoints(context, { geometry_id, face_id, vertices, edges }) {\n    const geom = _.find(context.state, { id: geometry_id });\n    // because we make several calls to replaceFacePoints in a row,\n    // (eg: when a new polygon overlaps existing ones, we need to replace the\n    //  existing polygon's face points with new ones)\n    // it's possible for duplicate vertices to sneak in.\n    const spacing = context.rootState.project.grid.spacing;\n\n    const replacementVertIds = _.chain(vertices)\n      .map((vert) => {\n        const gVert = _.find(geom.vertices, v => distanceBetweenPoints(v, vert) < (spacing / 20));\n        if (!gVert) return null; // this vertex doesn't match any existing ones\n        if (vert.id === gVert.id) return null; // this vertex already exists\n        return [vert.id, gVert.id]; // this vertex *would* be a dup, so use the existing one\n      })\n      .compact()\n      .fromPairs()\n      .value();\n\n    const updatedVertices = vertices.map(v => ({\n      ...v,\n      id: replacementVertIds[v.id] || v.id,\n    }));\n    const updatedEdges = edges.map(e => ({\n      ...e,\n      v1: replacementVertIds[e.v1] || e.v1,\n      v2: replacementVertIds[e.v2] || e.v2,\n    }));\n\n    updatedEdges.forEach((edge) => {\n      const gEdge = _.find(geom.edges, { v1: edge.v1, v2: edge.v2 }) || _.find(geom.edges, { v1: edge.v2, v2: edge.v1 });\n      if (!gEdge) return; // this edge doesn't match any existing ones\n      if (edge.id === gEdge.id) return; // this edge already exists\n      edge.id = gEdge.id;\n      edge.reverse = (gEdge.v1 !== edge.v1);\n    });\n    context.commit('replaceFacePoints', {\n      geometry_id,\n      vertices: updatedVertices,\n      edges: updatedEdges,\n      face_id,\n    });\n  },\n\n  trimGeometry({ rootState, commit }, { geometry_id }) {\n    const\n      story = _.find(rootState.models.stories, { geometry_id }),\n      vertsReferencedByDCs = _.flatMap(story.spaces, s => _.map(s.daylighting_controls, 'vertex_id'));\n\n    commit('trimGeometry', { geometry_id, vertsReferencedElsewhere: vertsReferencedByDCs });\n  },\n  cloneStoryGeometry(context, payload) {\n    const currentStory = context.rootGetters['application/currentStoryGeometry'];\n    context.commit('updateClonedGeometry', { newGeom: payload, currentStoryId: currentStory.id });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/actions/actions.js","import _ from 'lodash';\nimport factory from './../factory';\nimport geometryHelpers, { distanceBetweenPoints } from './../helpers';\nimport modelHelpers from './../../models/helpers';\nimport { uniq, dropConsecutiveDups, allPairs } from './../../../../utilities';\nimport { withPreservedComponents } from './componentPreservationSociety';\n/*\n * create a face and associated edges and vertices from an array of points\n * associate the face with the space or shading included in the payload\n */\nexport default function createFaceFromPoints(context, payload) {\n  const {\n    model_id,\n    points,\n  } = payload;\n\n  if (uniq(points).length < 3) { return; }\n  // lookup target model and type for face assignment\n  const currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n  const target = modelHelpers.libraryObjectWithId(context.rootState.models, model_id);\n\n  // if the target already has an existing face, use the union of the new and existing faces\n  const existingFace = target.face_id ? geometryHelpers.faceForId(target.face_id, currentStoryGeometry) : null;\n  let facePoints;\n\n  if (existingFace) {\n    const existingFaceVertices = geometryHelpers.verticesForFaceId(existingFace.id, currentStoryGeometry);\n    facePoints = geometryHelpers.setOperation('union', existingFaceVertices, points);\n    if (facePoints.error) {\n      window.eventBus.$emit('error', `Operation cancelled - ${facePoints.error}`);\n      return;\n    }\n  } else {\n    facePoints = points;\n  }\n\n\n  const faceGeometry = validateFaceGeometry(facePoints, context.rootGetters['application/currentStoryGeometry'], context.rootGetters['project/snapTolerance']);\n  if (!faceGeometry.success) {\n    window.eventBus.$emit('error', faceGeometry.error);\n    console.error(faceGeometry.error);\n    return;\n  }\n\n  const newGeoms = newGeometriesOfOverlappedFaces(\n    facePoints,\n    // Don't consider face we're modifying as a reason to disqualify the action.\n    geometryHelpers.exceptFace(currentStoryGeometry, existingFace && existingFace.id),\n  );\n\n  // prevent overlapping faces by erasing existing geometry covered by the points defining the new face\n  if (newGeoms.error) {\n    window.eventBus.$emit('error', `Operation cancelled - ${newGeoms.error}`);\n    return;\n  }\n\n  // Generate the list of new edges and vertices\n  // Below, any new edges and vertices generated by replacing the face points is appended to the list\n  let newEdges = faceGeometry.edges.slice();\n  let newVertices = faceGeometry.vertices.slice();\n  withPreservedComponents(context, currentStoryGeometry.id, () => {\n    const oldEdgeLength = currentStoryGeometry.edges.length,\n      oldVertexLength = currentStoryGeometry.vertices.length;\n\n    newGeoms.forEach(newGeom => context.dispatch('replaceFacePoints', newGeom));\n\n    newEdges = newEdges.concat(currentStoryGeometry.edges.slice(oldEdgeLength));\n    newVertices = newVertices.concat(currentStoryGeometry.vertices.slice(oldVertexLength));\n\n    // save the face and its descendent geometry\n    storeFace(faceGeometry, target, context, existingFace);\n\n    // if we trim geometry after splitting edges\n    // we get unwanted behavior whereby extending a face\n    // includes both the original face's vertices and the new ones\n    // by moving it before we split edges we avoid this scenario\n    context.dispatch('trimGeometry', { geometry_id: currentStoryGeometry.id });\n\n    // split edges where vertices touch them\n    splitEdges(context, newEdges, newVertices);\n  });\n\n}\n\n// ////////////////////// HELPERS //////////////////////////// //\n\nexport function newGeometriesOfOverlappedFaces(points, geometry) {\n  if (points.length < 3 || !geometryHelpers.areaOfSelection(points)) {\n    return false;\n  }\n\n  const geom = geometryHelpers.denormalize(geometry);\n  const intersectedFaces = geom.faces\n    .filter((face) => {\n      const inter = geometryHelpers.intersection(face.vertices, points);\n      // We care about faces have an intersection with the new one, or that\n      // cause errors (eg, split face) upon intersection\n      // eg of causing an error upon intersection: https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/599dca36956980d6eef2b009/3849c0e2a87c866fbf630cff073163ff/capture.png\n      return inter.error || inter.length > 0;\n    });\n\n  const newFaceVertices = intersectedFaces.map(existingFace =>\n    geometryHelpers.difference(existingFace.vertices, points),\n  );\n\n  const errantCase = _.find(newFaceVertices, 'error');\n  if (errantCase) {\n    // difference caused split face or hole\n    return errantCase;\n  }\n\n  const newFaceGeometries = newFaceVertices.map(\n    verts => validateFaceGeometry(verts, geometry));\n\n  const errantGeometry = _.find(newFaceGeometries, 'error');\n  if (errantGeometry) {\n    // validation failed on one of the geometries\n    return errantGeometry;\n  }\n\n  return _.zip(intersectedFaces, newFaceGeometries).map(([face, { vertices, edges }]) => ({\n    geometry_id: geometry.id,\n    face_id: face.id,\n    vertices,\n    edges,\n  }));\n}\n\n/*\n * Erase the selection defined by a set of points on all faces on the current story\n * used by the eraser tool and by the createFaceFromPoints action (to prevent overlapping faces)\n * returns false if the erase operation splits an existing face\n */\nexport function eraseSelection(points, context) {\n  const currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n\n  // validation - a selection must have at least 3 vertices and area\n  if (points.length < 3 || !geometryHelpers.areaOfSelection(points)) {\n    return false;\n  }\n\n  /*\n   * find all existing faces that have an intersection with the selection being erased\n   * destroy faces intersecting the eraser selection and recreate them\n   * from the difference between their original area and the eraser selection\n  */\n  const newGeoms = newGeometriesOfOverlappedFaces(points, currentStoryGeometry);\n  // prevent overlapping faces by erasing existing geometry covered by the points defining the new face\n  if (newGeoms.error) {\n    window.eventBus.$emit('error', `Operation cancelled - ${newGeoms.error}`);\n    return false;\n  }\n\n  const oldEdgeLength = currentStoryGeometry.edges.length,\n    oldVertexLength = currentStoryGeometry.vertices.length;\n\n  newGeoms.forEach(newGeom => context.dispatch('replaceFacePoints', newGeom));\n\n  const newEdges = currentStoryGeometry.edges.slice(oldEdgeLength),\n    newVertices = currentStoryGeometry.vertices.slice(oldVertexLength);\n\n  splitEdges(context, newEdges, newVertices);\n\n  return true;\n}\n\n/*\n* saves the validated face geometry (edges and vertices) to the datastore\n* skips shared edges and vertices since they are already stored\n* creates and saves a face with edgeRefs, updates the target space or shading in the datastore\n*/\nfunction storeFace({ vertices, edges }, target, context, existingFace) {\n  const currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n  const face = existingFace || new factory.Face([]);\n\n  context.dispatch('replaceFacePoints', {\n    face_id: face.id,\n    geometry_id: currentStoryGeometry.id,\n    vertices,\n    edges,\n  });\n\n  context.dispatch(target.type === 'space' ? 'models/updateSpaceWithData' : 'models/updateShadingWithData', {\n    [target.type]: target,\n    face_id: face.id,\n  }, {\n    root: true,\n  });\n}\n\nexport function findExistingEdge(v1, v2, edges) {\n  const sharedEdge = edges.find(e => (\n    (e.v1 === v1.id && e.v2 === v2.id) ||\n    (e.v2 === v1.id && e.v1 === v2.id)));\n  // if a shared edge exists, check if its direction matches the edge direction required for the face being created\n  return sharedEdge && {\n    ...sharedEdge,\n    // this property will be used (then deleted) when we create and save the face with edgeRefs\n    reverse: sharedEdge.v1 === v2.id,\n  };\n}\n\nfunction matchOrCreateEdge(existingEdges) {\n  return ([v1, v2]) => (findExistingEdge(v1, v2, existingEdges) || new factory.Edge(v1.id, v2.id));\n}\n\nexport function matchOrCreateEdges(vertices, existingEdges) {\n   // pair each vertex with the next (wrapping back to start at the end)\n  if (!vertices.length) {\n    return [];\n  }\n  return _.zip(vertices, [...vertices.slice(1), vertices[0]])\n  // try and find a shared edge, but fall back to creating a new one\n    .map(matchOrCreateEdge(existingEdges));\n}\n\nfunction InvalidFaceGeometry(message) {\n  this.message = message;\n}\nInvalidFaceGeometry.prototype = new Error();\n\nexport function errOnTooFewVerts(vertices) {\n  if (vertices.length < 3) {\n    throw new InvalidFaceGeometry(`can't make a polygon with fewer than three vertices: ${JSON.stringify(vertices)}`);\n  }\n}\n\nexport function errOnDuplicateVerts(vertices) {\n  vertices.forEach((vertex) => {\n    if (\n      _.find(vertices, { x: vertex.x, y: vertex.y }).length >= 2\n    ) {\n      throw new InvalidFaceGeometry(`Duplicate vertex at (${vertex.x}, ${vertex.y})`);\n    }\n  });\n}\n\nexport function errOnVertexIntersectsEdge(vertices, edges) {\n  edges.forEach(({ v1: v1id, v2: v2id }) => {\n    const\n      v1 = _.find(vertices, { id: v1id }),\n      v2 = _.find(vertices, { id: v2id });\n\n    vertices.forEach((v) => {\n      if (v.id === v1id || v.id === v2id) {\n        return; // this is an endpoint of an edge under consideration.\n      }\n\n      if (!geometryHelpers.ptsAreCollinear(v1, v2, v)) {\n        return;\n      }\n\n      // if the points *are* collinear, is v between v1 and v2?\n      const positionAlongEdge = _.reject(\n        [\n          (v.x - v1.x) / (v2.x - v1.x),\n          (v.y - v1.y) / (v2.y - v1.y),\n        ],\n        isNaN)[0];\n      // positionAlongEdge = 0 implies v == v1\n      // positionAlongEdge = 1 implies v == v2\n      // positionAlongEdge > 1 or < 0 implies not on the line segment\n      if (positionAlongEdge > 1 || positionAlongEdge < 0) {\n        return;\n      }\n      throw new InvalidFaceGeometry(\n        `An edge is being touched by a vertex on the same face at (${v.x}, ${v.y})`);\n    });\n  });\n}\n\nexport function errOnEdgeIntersectsEdge(vertices, edges) {\n  const vertexMap = vertices.reduce((acc, cur) => {\n    acc[cur.id] = cur;\n    return acc;\n  }, {});\n\n  allPairs(edges).forEach(([e1, e2]) => {\n    const\n      e1v1 = vertexMap[e1.v1],\n      e1v2 = vertexMap[e1.v2],\n      e2v1 = vertexMap[e2.v1],\n      e2v2 = vertexMap[e2.v2];\n\n    const intersection = geometryHelpers.intersectionOfLines(e1v1, e1v2, e2v1, e2v2);\n    if (intersection) {\n      throw new InvalidFaceGeometry(\n        `Self intersection at ${intersection.x}, ${intersection.y}`);\n    }\n  });\n}\n\n/*\n * Given a set of points, creates vertices and edges for the face defined by the points\n * validates the face geometry for self intersection\n * returns object with success boolean and face geometry or error message depending on validation results\n */\nexport function validateFaceGeometry(points, currentStoryGeometry) {\n  /* validation consists of:\n   - try and match each vertex to an existing one that is already in the geometry\n   - create edges, and try to re-use existing ones (reversed, if necessary)\n   - after snapping, check if any vertices were merged to the same point\n     Duplicate vertices can cause two problems:\n      1. zero-area portions of the face:\n\n       1\n        *---------------* 2\n        |               |\n        |               |3\n        |               *-----* 4\n        |               |5\n        |               |\n        *---------------* 6\n       7\n      2. not even actually a polygon:\n\n        *                         *\n        |\\                         \\\n        | \\                        \\\\\n        |  \\                       \\\\\n        |   \\          ====>       \\\\\n        |    \\                      \\\\\n        |     \\                     \\\\\n        |      \\                     \\\\\n        *---@---*                    **\n\n      @ is an existing point (on another face). Both * at the base of the triangle\n      were snapped to the location of @, causing a degenerate polygon (just a line).\n\n     Consecutive vertices are okay (we should combine them to a single example) as long\n     as the total number of distinct vertices is at least 3.\n\n   - Check if any vertices on the face lie on an edge in the face. Err out if they do.\n     (this would cause either a zero-area portion of the face,\n      eg: https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/598b740a2e569128b4392cb5/f71690195e4801010773652bac9d0a9c/capture.png\n      or a split face.\n      eg: https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/598b743607a58f375889faad/99ec60d5ddcf78c97db43e8628efa7b9/capture.png\n     )\n   - Check if two edges on the new face intersect. (again, to prevent split faces)\n  */\n\n  if (points.length === 0) {\n    return {\n      success: true,\n      vertices: [],\n      edges: [],\n    };\n  }\n  if (points.length <= 2) {\n    return { success: false, error: 'need at least 3 points to make a face' };\n  }\n\n  // build an array of vertices for the face being created\n  let faceVertices = points.map(point => (\n      // if a vertex already exists at a given location, reuse it\n    geometryHelpers.vertexForCoordinates(point, currentStoryGeometry) || new factory.Vertex(point.x, point.y)\n  ));\n\n\n  // first, we can just join together consecutive duplicates, since that doesn't change\n  // the geometry at all.\n  faceVertices = dropConsecutiveDups(faceVertices);\n\n  // create edges connecting each vertex in order\n  const faceEdges = matchOrCreateEdges(faceVertices, currentStoryGeometry.edges);\n\n  try {\n    errOnTooFewVerts(faceVertices);\n    errOnDuplicateVerts(faceVertices);\n    errOnVertexIntersectsEdge(faceVertices, faceEdges);\n    errOnEdgeIntersectsEdge(faceVertices, faceEdges);\n  } catch (e) {\n    if (e instanceof InvalidFaceGeometry) {\n      return {\n        success: false,\n        error: e.message,\n      };\n    }\n    // not an error we know about -- shouldn't have caught it\n    // (...grumble, grumble javascript's underpowered exceptions...)\n    throw e;\n  }\n\n  return {\n    success: true,\n    vertices: faceVertices,\n    edges: faceEdges,\n  };\n}\n\nfunction edgesFromVerts(verts, existingEdges) {\n  return _.zip(verts.slice(0, -1), verts.slice(1))\n    .map(matchOrCreateEdge(existingEdges));\n}\n\nfunction replacementEdgeRefs(geometry, dyingEdgeId, newEdges) {\n  // look up all faces with a reference to the original edge being split\n  const affectedFaces = geometryHelpers.facesForEdgeId(dyingEdgeId, geometry);\n  // remove reference to old edge and add references to the new edges\n  const replaceEdgeRefs = affectedFaces.map((affectedFace) => {\n    const dyingEdgeReversed = _.find(affectedFace.edgeRefs, { edge_id: dyingEdgeId }).reverse;\n\n    const replacementEdges = newEdges.map(({ id, reverse }) => ({\n      id,\n      // new edge reference should be reversed if exactly one of\n      // - the suggested replacement edge ref\n      // - the dying edge ref\n      // is reversed.\n      // if *both* are reversed, they cancel out.\n      // if neither is reversed, the edge keeps original direction.\n      reverse: ((!reverse) !== (!dyingEdgeReversed)),\n    }));\n\n    if (dyingEdgeReversed) {\n      // not enough to reverse each individual component -- the whole thing\n      // must also be reversed!\n      replacementEdges.reverse();\n    }\n\n    return {\n      type: 'replaceEdgeRef',\n      geometry_id: geometry.id,\n      edge_id: dyingEdgeId,\n      face_id: affectedFace.id,\n      newEdges: replacementEdges,\n    };\n  });\n\n  return replaceEdgeRefs;\n}\n\n/**\n * Returns a list of all the edges that need to be split (i.e. edges that are on top of one another)\n *\n * @param {*} geometry \n * @param {*} spacing \n * @param {*} newEdges List of new edges added, optional\n * @param {*} newVertices List of new vertices added, optional\n * @returns \n */\nexport function edgesToSplit(geometry, spacing, newEdges, newVertices) {\n  const priorIterationEdges = [];\n\n  function determineEdges(geometry, edge, splittingVertices) {\n    if (splittingVertices.length === 0) {\n      return false;\n    }\n\n    const\n      startpoint = geometryHelpers.vertexForId(edge.v1, geometry),\n      endpoint = geometryHelpers.vertexForId(edge.v2, geometry);\n\n    // sort splittingVertices by location on original edge\n    splittingVertices = _.sortBy(splittingVertices, v => distanceBetweenPoints(v, startpoint));\n\n    // add startpoint and endpoint of original edge to splittingVertices array from which new edges will be created\n    splittingVertices = [startpoint, ...splittingVertices, endpoint];\n    // create new edges by connecting the original edge startpoint, ordered splitting vertices, and original edge endpoint\n    // eg: startpoint -> SV1, SV1 -> SV2, SV2 -> SV3, SV3 -> endpoint\n    const\n      newEdges = edgesFromVerts(splittingVertices, [...geometry.edges, ...priorIterationEdges]),\n      replaceEdgeRefs = replacementEdgeRefs(geometry, edge.id, newEdges);\n    // The edges we're recommending don't yet exist, but we'd like to re-use them for future iterations.\n    // Otherwise we end up creating two edges when one will do.\n    priorIterationEdges.push(...newEdges);\n    return {\n      edgeToDelete: edge.id,\n      newEdges,\n      replaceEdgeRefs,\n    };\n  }\n\n  // When both the new edges and vertices are provided, a lot of comparisons can be avoided\n  // In that case, the new edges are compared to all vertices and the new vertices and compared to all edges\n  if (newEdges && newVertices) {\n    const obj = {};\n    newEdges.forEach((edge) => {\n      const splittingVertices = geometryHelpers.splittingVerticesForEdgeId(edge, geometry, spacing);\n      const edgeInfo = determineEdges(geometry, edge, splittingVertices);\n      if (edgeInfo) {\n        obj[edgeInfo.edgeToDelete] = edgeInfo;\n      }\n    });\n\n    geometry.edges.forEach((edge) => {\n      const splittingVertices = geometryHelpers.splittingVerticesForEdgeId(edge, geometry, spacing, newVertices);\n      const edgeInfo = determineEdges(geometry, edge, splittingVertices);\n      if (edgeInfo) {\n        obj[edgeInfo.edgeToDelete] = edgeInfo;\n      }\n    });\n\n    return Object.entries(obj).map(([_, value]) => value);\n  }\n\n  return geometry.edges.map((edge) => {\n    const splittingVertices = geometryHelpers.splittingVerticesForEdgeId(edge, geometry, spacing);\n    return determineEdges(geometry, edge, splittingVertices);\n  }).filter(e => e);\n}\n\n/*\n * loop through all edges on the currentStoryGeometry, checking if there are any vertices touching (splitting) them\n * order the splitting vertices based on where they appear on the original edge\n * build and store a new set of edges by connecting the ordered splitting vertices\n * look up all faces referencing the original edge and replace those references with references to the new edges\n * destroy the original edge\n */\nfunction splitEdges(context, newEdges, newVertices) {\n  const\n    currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'],\n    currentProjectSpacing = context.rootState.project.grid.spacing,\n    edgeChanges = edgesToSplit(currentStoryGeometry, currentProjectSpacing, newEdges, newVertices);\n\n  edgeChanges.forEach(payload => context.commit({\n    type: 'splitEdge',\n    geometry_id: currentStoryGeometry.id,\n    ...payload,\n  }));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/actions/createFaceFromPoints.js","import _ from 'lodash';\nimport helpers from './helpers';\nimport checkGeometry from '../../../utilities/checkGeometry';\n\nexport default {\n  denormalized(state) {\n    return state.map(g => helpers.denormalize(g));\n  },\n\n  errors(state, getters) {\n    return _.flatMap(getters['denormalized'], checkGeometry);\n  },\n\n    /*\n    * When the user saves a floorplan, format the geometry for openstudio\n    */\n    exportData (state, getters, rootState, rootGetters) {\n        return state.map(geometry => ({\n\t\t\tid: geometry.id,\n            vertices: geometry.vertices.map(vertex => ({\n                id: vertex.id,\n                x: Number(vertex.x),\n                y: Number(vertex.y),\n                edge_ids: helpers.edgesForVertexId(vertex.id, geometry).map(e => e.id)\n            })),\n\n            edges: geometry.edges.map(edge => ({\n                id: edge.id,\n                vertex_ids: [edge.v1, edge.v2],\n                face_ids: helpers.facesForEdgeId(edge.id, geometry).map(f => f.id)\n            })),\n\n            faces: geometry.faces.map(face => ({\n                id: face.id,\n                edge_ids: face.edgeRefs.map(eR => eR.edge_id),\n                // tracks the direction of each edge in the edge_ids array (0 for reverse)\n                edge_order: face.edgeRefs.map(eR => eR.reverse ? 0 : 1)\n            }))\n        }));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/getters.js","import actions from './actions/actions'\nimport * as mutations from './mutations'\nimport getters from './getters'\n\nexport default {\n    namespaced: true,\n    // each story references a geometry object in this state array\n    state: [/*{\n        id: null,\n        vertices: [{\n            id: null,\n            x: null,\n            y: null\n        }],\n        edges: [{\n            id: null,\n            v1: null,\n            v2: null\n        }],\n        faces: [{\n            id: null,\n            edgeRefs: [{\n                edge_id: null,\n                reverse: false\n            }]\n        }]\n    }*/],\n    actions: actions,\n    mutations: mutations,\n    getters: getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/index.js","import _ from 'lodash';\n    /*\n    * create a new geometry set, face, edge, or vertex in the data store\n    */\n\nexport function trimGeometry(state, { geometry_id, vertsReferencedElsewhere }) {\n  const\n    geometry = _.find(state, { id: geometry_id }),\n    edgesInUse = new Set(_.flatMap(geometry.faces, f => _.map(f.edgeRefs, 'edge_id'))),\n    vertsOnEdges = _.flatMap(\n      geometry.edges.filter(e => edgesInUse.has(e.id)),\n      e => [e.v1, e.v2]),\n    verticesInUse = new Set([\n      ...(vertsReferencedElsewhere || []),\n      ...vertsOnEdges,\n    ]);\n  const newEdges = geometry.edges.filter(e => edgesInUse.has(e.id));\n  const newVerts = geometry.vertices.filter(v => verticesInUse.has(v.id));\n  const missingEdges = _.difference([...edgesInUse], _.map(newEdges, 'id'));\n  if (missingEdges.length) {\n    console.error('An edge is referenced by a face, but does not exist!', JSON.stringify(geometry));\n  }\n  const missingVerts = _.difference(vertsOnEdges, _.map(newVerts, 'id'));\n  if (missingVerts.length) {\n    console.error('A vertex is referenced by a face, but does not exist!', JSON.stringify(geometry));\n  }\n  geometry.vertices = newVerts;\n  geometry.edges = newEdges;\n  geometry.faces = geometry.faces.filter(face => face.edgeRefs.length > 0);\n}\n\nexport function initGeometry(state, payload) {\n  const { geometry } = payload;\n  state.push(geometry);\n}\n\nexport function createVertex(state, payload) {\n  const { geometry_id, vertex } = payload;\n  state.find(g => g.id === geometry_id).vertices.push(vertex);\n}\nexport function createFace(state, payload) {\n  const { geometry_id, face } = payload;\n  state.find(g => g.id === geometry_id).faces.push(face);\n}\n\n    /*\n    * removes an object with a given id from the datastore\n    * the object can be a geometry set, face, edge, or vertex\n    */\nexport function destroyGeometry(state, payload) {\n        // id of the object to be destroyed\n  const { id } = payload;\n        // loop through all geometry sets in the store and check if they contain the object\n        // break from the loop if the object is found\n  for (let i = 0; i < state.length; i++) {\n    const g = state[i];\n    if (g.id === id) {\n      state.splice(state.findIndex(g => g.id === id), 1);\n      break;\n    } else if (~g.faces.map(f => f.id).indexOf(id)) {\n      g.faces.splice(g.faces.findIndex(f => f.id === id), 1);\n      break;\n    } else if (~g.edges.map(e => e.id).indexOf(id)) {\n      g.edges.splice(g.edges.findIndex(e => e.id === id), 1);\n      g.faces.forEach((face) => {\n        face.edgeRefs.forEach((edgeRef) => {\n          if (id === edgeRef.edge_id) {\n            face.edgeRefs.splice(face.edgeRefs.findIndex(r => r.edge_id === id), 1);\n          }\n        });\n      });\n      break;\n    } else if (~g.vertices.map(v => v.id).indexOf(id)) {\n      g.vertices.splice(g.vertices.findIndex(v => v.id === id), 1);\n      break;\n    }\n  }\n}\n\n    // set a reference to an edge on a face\nexport function createEdgeRef(state, payload) {\n  const { geometry_id, face_id, edgeRef } = payload,\n    geometry = state.find(g => g.id === geometry_id),\n    face = geometry.faces.find(f => f.id === face_id),\n    edge = geometry.edges.find(e => e.id === edgeRef.edge_id);\n\n  if (edge) { face.edgeRefs.push(edgeRef); }\n}\n\n    // set the array of edgeRefs on a face\nexport function setEdgeRefsForFace(state, payload) {\n  const { geometry_id, face_id, edgeRefs } = payload,\n    geometry = state.find(g => g.id === geometry_id),\n    face = geometry.faces.find(f => f.id === face_id);\n  face.edgeRefs = edgeRefs.filter(ref => geometry.edges.find(e => e.id === ref.edge_id));\n}\n\n    // remove a reference to an edge from a face\nexport function destroyEdgeRef(state, payload) {\n  const { geometry_id, face_id, edge_id } = payload,\n    geometry = state.find(g => g.id === geometry_id),\n    face = geometry.faces.find(f => f.id === face_id);\n  face.edgeRefs.splice(face.edgeRefs.findIndex(eR => eR.edge_id === edge_id), 1);\n}\n\nexport function replaceEdgeRef(state, payload) {\n  const\n    { geometry_id, face_id, edge_id, newEdges } = payload,\n    geometry = state.find(g => g.id === geometry_id),\n    face = geometry.faces.find(f => f.id === face_id),\n    edgeRefIx = _.findIndex(face.edgeRefs, { edge_id });\n  face.edgeRefs.splice(\n    edgeRefIx, 1, // remove existing edge\n    // replacing it with these ones, in the same direction.\n    ...newEdges.map(({ id: newEdgeId, reverse }) => ({\n      edge_id: newEdgeId,\n      reverse,\n    })),\n  );\n}\n\nexport function ensureVertsExist(state, { geometry_id, vertices }) {\n  const geometry = _.find(state, { id: geometry_id });\n  vertices.forEach(v =>\n    _.find(geometry.vertices, { id: v.id }) || geometry.vertices.push(v),\n  );\n}\n\nexport function ensureEdgesExist(state, { geometry_id, edges }) {\n  const geometry = _.find(state, { id: geometry_id });\n  edges.forEach(e =>\n    _.find(geometry.edges, { id: e.id }) || geometry.edges.push(e),\n  );\n}\n\nexport function splitEdge(state, { geometry_id, edgeToDelete, newEdges, replaceEdgeRefs }) {\n  ensureEdgesExist(state, { geometry_id, edges: newEdges });\n  replaceEdgeRefs.forEach(replacement => replaceEdgeRef(state, replacement));\n  destroyGeometry(state, { id: edgeToDelete });\n}\n\nexport function replaceFacePoints(state, { geometry_id, vertices, edges, face_id }) {\n  const geometry = _.find(state, { id: geometry_id });\n\n  ensureVertsExist(state, { geometry_id, vertices });\n\n  ensureEdgesExist(state, { geometry_id, edges, vertices });\n  let face = _.find(geometry.faces, { id: face_id });\n  if (!face) {\n    face = { id: face_id, edgeRefs: [] };\n    geometry.faces.push(face);\n  }\n\n  face.edgeRefs = edges.map(e => ({\n    edge_id: e.id,\n    reverse: !!e.reverse,\n  }));\n}\n\nexport function updateClonedGeometry(state, payload) {\n  const newGeometry = state.find(story => story.id === payload.currentStoryId);\n  newGeometry.edges = payload.newGeom.edges;\n  newGeometry.faces = payload.newGeom.faces;\n  newGeometry.vertices = payload.newGeom.vertices;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/mutations.js","import _ from 'lodash';\nimport libconfig from './libconfig';\nimport factory, { getDefaults } from './factory';\nimport idFactory, { genName } from './../../utilities/generateId';\nimport geometryFactory from '../geometry/factory';\nimport helpers from './helpers';\nimport geometryHelpers from '../geometry/helpers';\n\nexport default {\n  initStory(context) {\n      const name = helpers.generateName(context.state, 'stories');\n      const story = new factory.Story(name);\n\n      // create story\n      context.commit('initStory', { story });\n      // create geometry\n      context.dispatch('geometry/initGeometry', { story_id: story.id }, { root: true });\n      // create space and select\n      context.dispatch('initSpace', { story });\n      context.dispatch('initShading', { story });\n      context.dispatch('selectStory', { story });\n    },\n\n    initSpace (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            name = helpers.generateName(context.state, 'spaces', story),\n            space = new factory.Space(name);\n\n        context.commit('initSpace', { story, space });\n    },\n\n    initShading (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            name = helpers.generateName(context.state, 'shading', story),\n            shading = new factory.Shading(name);\n\n        context.commit('initShading', { story, shading });\n    },\n\n    destroyStory(context, payload) {\n      const stories = context.state.stories;\n      const storyIndex = stories.findIndex(s => s.id === payload.story.id);\n      const story = stories[storyIndex];\n\n      context.commit('destroyStory', { story });\n      context.dispatch('geometry/destroyGeometry', story.geometry_id, { root: true });\n      if (stories.length === 0) {\n        context.dispatch('initStory');\n      } else {\n        context.dispatch('selectStory', { story: stories[storyIndex - 1] });\n      }\n    },\n\n    destroySpace (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            space = story.spaces.find(s => s.id === payload.space.id);\n\n        context.commit('destroySpace', {\n            space: space,\n            story: story\n        });\n        const geom = context.rootGetters['application/currentStoryGeometry'];\n        const face = geom.faces.find(f => f.id === space.face_id);\n        if (face) {\n            // delete all windows associated with an edge on that face\n            const edges = geom.edges.filter(edge => face.edgeRefs.map(er => er.edge_id).includes(edge.id));\n            edges.forEach(edge => {\n              const windows = story.windows.filter(w => w.edge_id === edge.id);\n              windows.forEach(window => context.dispatch('destroyWindow', {\n                  story_id: story.id,\n                  object: window,\n                }));\n            });\n            // destroy face associated with the space\n            context.dispatch('geometry/destroyFaceAndDescendents', {\n                face: face,\n                geometry_id: geom.id\n            }, { root: true });\n        }\n    },\n\n    destroyShading (context, payload) {\n      const story = context.state.stories.find(s => s.id === payload.story.id),\n        shading = story.shading.find(s => s.id === payload.shading.id);\n\n      context.commit('destroyShading', {\n        shading,\n        story,\n      });\n\n      const face = context.rootGetters['application/currentStoryGeometry'].faces.find(f => f.id === shading.face_id);\n      if (face) {\n        // destroy face associated with the space\n        context.dispatch('geometry/destroyFaceAndDescendents', {\n          face,\n          geometry_id: context.rootGetters['application/currentStoryGeometry'].id\n        }, { root: true });\n      }\n    },\n\n    destroyImage (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            image = story.images.find(i => i.id === payload.image.id);\n\n        context.commit('destroyImage', {\n            image: image,\n            story: story\n        });\n    },\n\n  destroyWindowDef(context, payload) {\n    context.commit('destroyWindowsByDefinition', payload.object);\n    context.commit('destroyObject', payload);\n  },\n\n  destroyDaylightingControlDef(context, payload) {\n    context.commit('destroyDaylightingControlsByDefinition', payload.object);\n    context.commit('destroyObject', payload);\n  },\n\n  destroyDoorDef(context, payload) {\n    context.commit('destroyDoorsByDefinition', payload.object);\n    context.commit('destroyObject', payload);\n  },\n\n    // this is ONLY for library objects and does not include shading, spaces, or stories\n    destroyObject (context, payload) {\n        context.commit('destroyObject', {\n            object: payload.object\n        });\n    },\n\n    updateStoryWithData (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            validProperties = Object.keys(libconfig.stories.keymap),\n            cleanedPayload = {};\n\n        // remove extra properties from the payload\n        for (var key in payload) {\n            if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n                cleanedPayload[key] = payload[key];\n            }\n        }\n        cleanedPayload.story = story;\n\n        // TODO: validation\n        context.commit('updateStoryWithData', cleanedPayload);\n    },\n\n    updateSpaceWithData (context, payload) {\n        const space = context.getters.allSpaces.find(s => s.id === payload.space.id),\n            validProperties = Object.keys(space),\n            cleanedPayload = {};\n\n        // remove extra properties from the payload\n        for (var key in payload) {\n            if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n                cleanedPayload[key] = payload[key];\n            }\n        }\n        cleanedPayload.space = space;\n\n        // TODO: validation\n        context.commit('updateSpaceWithData', cleanedPayload);\n    },\n\n    updateShadingWithData (context, payload) {\n        const shading = context.getters.allShading.find(s => s.id === payload.shading.id),\n            validProperties = Object.keys(shading),\n            cleanedPayload = {};\n\n        // remove extra properties from the payload\n        for (var key in payload) {\n            if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n                cleanedPayload[key] = payload[key];\n            }\n        }\n        cleanedPayload.shading = shading;\n\n        // TODO: validation\n        context.commit('updateShadingWithData', cleanedPayload);\n    },\n\n    updateImageWithData (context, payload) {\n      const\n        image = context.getters.allImages.find(i => i.id === payload.image.id),\n        validProperties = _.difference(Object.keys(image), ['src', 'naturalWidth', 'naturalHeight']);\n\n      if (payload.scale) {\n        payload.height = payload.scale * image.naturalHeight;\n        payload.width = payload.scale * image.naturalWidth;\n      }\n      const cleanedPayload = _.pick(payload, validProperties);\n      cleanedPayload.image = image;\n\n      // TODO: validation\n      context.commit('updateImageWithData', cleanedPayload);\n    },\n\n  updateWindowDefinitionWithData({ state, dispatch }, payload) {\n    const { object: { id } } = payload;\n\n    const windowDefnDefaults = _.pick(\n      getDefaults('WindowDefinition'),\n      ['height', 'width', 'window_spacing', 'wwr']);\n    // blank out the keys that don't make sense for that type.\n    if (payload.window_definition_mode === 'Window to Wall Ratio') {\n      Object.assign(payload, windowDefnDefaults, {\n        height: null,\n        width: null,\n        window_spacing: null,\n      });\n    } else if (payload.window_definition_mode === 'Repeating Windows') {\n      Object.assign(payload, windowDefnDefaults, {\n        wwr: null,\n      });\n    } else if (payload.window_definition_mode === 'Single Window') {\n      Object.assign(payload, windowDefnDefaults, {\n        wwr: null,\n        window_spacing: null,\n      });\n    } else if (payload.window_definition_mode) {\n      throw new Error(`unrecognized window_definition_mode: ${payload.window_definition_mode}`);\n    }\n\n    if (_.includes(['Window to Wall Ratio', 'Repeating Windows'], payload.window_definition_mode)) {\n      // upon change of window_definition_mode, we need to\n      // prevent multiple repeating/wwr from sharing the same edge\n      const windowsToDelete = _.flatMap(state.stories, story =>\n        _.chain(story.windows)\n          .filter({ window_definition_id: id })\n          .groupBy('edge_id')\n          .values()\n          .flatMap(_.tail)\n          .map(w => ({ story_id: story.id, object: { id: w.id } }))\n          .value());\n\n      windowsToDelete.forEach(pl => dispatch('destroyWindow', pl));\n    }\n\n    dispatch('updateObjectWithData', payload);\n  },\n\n    updateObjectWithData (context, payload) {\n        const object = helpers.libraryObjectWithId(context.state, payload.object.id);\n        payload.object = object;\n        // TODO: validation\n        context.commit('updateObjectWithData', payload);\n    },\n\n  createImageForStory(context, payload) {\n    const story = context.state.stories.find(s => s.id === payload.story_id);\n    const name = helpers.generateName(context.state, 'images', story);\n    const image = new factory.Image(name, payload.src);\n\n    image.height = payload.height;\n    image.width = payload.width;\n    image.x = payload.x;\n    image.y = payload.y;\n    image.naturalWidth = payload.naturalWidth;\n    image.naturalHeight = payload.naturalHeight;\n\n    context.commit('createImageForStory', {\n      story_id: story.id,\n      image,\n    });\n  },\n\n  createObjectWithType (context, payload) {\n    const type = payload.type,\n      name = helpers.generateName(context.state, type),\n      object = new helpers.map[type].init({ name });\n\n    context.commit('initObject', { type, object });\n  },\n\n  /**\n   * Creates a new object in the library and selects it on the targeted space\n   *\n   * @param {{state: any}} context Context for the mutation; contains the current state\n   * @param {{ space_id: number, type: string, type_id: string }} payload Information about the object and space.\n   *  Contains the ID of the space to update along with the type of object to create\n   */\n  createObjectWithTypeAndSelect (context, payload) {\n    const { space_id, type, type_id } = payload,\n      name = helpers.generateName(context.state, type),\n      object = new helpers.map[type].init({ name });\n\n    context.commit('initObjectWithSelection', { space_id, type, type_id, object });\n  },\n\n  selectStory(context, payload) {\n    const story = payload.story;\n    context.dispatch('application/setCurrentStoryId', { id: story.id }, { root: true });\n  },\n  cloneStory(context, payload) {\n    const currentStory = context.rootGetters['application/currentStory'];\n    context.commit('cloneObjectArray', { storyInfo: payload, currentStory });\n  },\n\n  createWindow(context, payload) {\n    const\n      { story_id, edge_id, window_definition_id, alpha } = payload,\n      story = _.find(context.state.stories, { id: story_id }),\n      windowDefn = _.find(context.state.library.window_definitions, { id: window_definition_id }),\n      geometry = story && _.find(context.rootState.geometry, { id: story.geometry_id }),\n      edge = geometry && _.find(geometry.edges, { id: edge_id });\n    if (!story) {\n      throw new Error('Story not found');\n    } else if (!windowDefn) {\n      throw new Error('Window Definition not found');\n    } else if (!geometry) {\n      throw new Error('Geometry not found');\n    } else if (!edge) {\n      throw new Error('Edge not found');\n    } else if (alpha < 0 || alpha > 1) {\n      throw new Error('Alpha must be between 0 and 1');\n    }\n\n    const windowsOnEdge = _.filter(story.windows, { edge_id })\n      .map(w => ({\n        ...w,\n        window_definition_mode: _.find(\n          context.state.library.window_definitions,\n          { id: w.window_definition_id },\n        ).window_definition_mode,\n      }));\n    let windowsToDelete;\n    if (windowDefn.window_definition_mode === 'Single Window') {\n      // single windows can coexist with other single windows\n      windowsToDelete = _.reject(windowsOnEdge, { window_definition_mode: 'Single Window' });\n    } else {\n      // Repeating and WWR cannot share with single window, or with one another.\n      windowsToDelete = windowsOnEdge;\n    }\n    windowsToDelete.forEach(\n      w => context.commit(\n        'destroyWindow',\n        { story_id, object: { id: w.id } }));\n\n    context.commit('createWindow', {\n      ...payload,\n      id: idFactory.generate(),\n      name: genName(windowDefn.name),\n    });\n  },\n\n  /**\n   * A batched version of the `createWindow` action\n   *\n   * @param {*} context \n   * @param {*} payload Array of windows to be created\n   */\n  createWindows(context, payload) {\n    const deletes = [];\n    const creates = [];\n\n    payload.forEach((p) => {\n      const\n        { story_id, edge_id, window_definition_id, alpha } = p,\n        story = _.find(context.state.stories, { id: story_id }),\n        windowDefn = _.find(context.state.library.window_definitions, { id: window_definition_id }),\n        geometry = story && _.find(context.rootState.geometry, { id: story.geometry_id }),\n        edge = geometry && _.find(geometry.edges, { id: edge_id });\n      if (!story) {\n        throw new Error('Story not found');\n      } else if (!windowDefn) {\n        throw new Error('Window Definition not found');\n      } else if (!geometry) {\n        throw new Error('Geometry not found');\n      } else if (!edge) {\n        throw new Error('Edge not found');\n      } else if (alpha < 0 || alpha > 1) {\n        throw new Error('Alpha must be between 0 and 1');\n      }\n\n      const windowsOnEdge = _.filter(story.windows, { edge_id })\n        .map(w => ({\n          ...w,\n          window_definition_mode: _.find(\n            context.state.library.window_definitions,\n            { id: w.window_definition_id },\n          ).window_definition_mode,\n        }));\n      let windowsToDelete;\n      if (windowDefn.window_definition_mode === 'Single Window') {\n        // single windows can coexist with other single windows\n        windowsToDelete = _.reject(windowsOnEdge, { window_definition_mode: 'Single Window' });\n      } else {\n        // Repeating and WWR cannot share with single window, or with one another.\n        windowsToDelete = windowsOnEdge;\n      }\n      windowsToDelete.forEach(\n        w => deletes.push({ story_id, object: { id: w.id } }));\n\n      creates.push({\n        ...p,\n        id: idFactory.generate(),\n        name: genName(windowDefn.name),\n      });\n    });\n\n    context.commit('destroyWindows', deletes);\n    context.commit('createWindows', creates);\n  },\n\n  createDoor(context, payload) {\n    const\n      { story_id, edge_id, door_definition_id, alpha } = payload,\n      story = _.find(context.state.stories, { id: story_id }),\n      doorDefn = _.find(context.state.library.door_definitions, { id: door_definition_id }),\n      geometry = story && _.find(context.rootState.geometry, { id: story.geometry_id }),\n      edge = geometry && _.find(geometry.edges, { id: edge_id });\n    if (!story) {\n      throw new Error('Story not found');\n    } else if (!doorDefn) {\n      throw new Error('Door Definition not found');\n    } else if (!geometry) {\n      throw new Error('Geometry not found');\n    } else if (!edge) {\n      throw new Error('Edge not found');\n    } else if (alpha < 0 || alpha > 1) {\n      throw new Error('Alpha must be between 0 and 1');\n    }\n\n    context.commit('createDoor', {\n      ...payload,\n      id: idFactory.generate(),\n      name: genName(doorDefn.name),\n    });\n  },\n\n  /**\n   * Batched version of the `createDoor` action\n   * @param {*} context \n   * @param {*} payload Array of doors to be created\n   */\n  createDoors(context, payload) {\n    const arr = payload.map((p) => {\n      const { story_id, edge_id, door_definition_id, alpha } = p,\n      story = _.find(context.state.stories, { id: story_id }),\n      doorDefn = _.find(context.state.library.door_definitions, { id: door_definition_id }),\n      geometry = story && _.find(context.rootState.geometry, { id: story.geometry_id }),\n      edge = geometry && _.find(geometry.edges, { id: edge_id });\n      if (!story) {\n        throw new Error('Story not found');\n      } else if (!doorDefn) {\n        throw new Error('Door Definition not found');\n      } else if (!geometry) {\n        throw new Error('Geometry not found');\n      } else if (!edge) {\n        throw new Error('Edge not found');\n      } else if (alpha < 0 || alpha > 1) {\n        throw new Error('Alpha must be between 0 and 1');\n      }\n\n      return {\n        ...p,\n        id: idFactory.generate(),\n        name: genName(doorDefn.name),\n      };\n    });\n\n    context.commit('createDoors', arr);\n  },\n\n\n  createDaylightingControl(context, payload) {\n    const\n      { story_id, face_id, daylighting_control_definition_id, x, y } = payload,\n      story = _.find(context.state.stories, { id: story_id }),\n      daylightingDefn = _.find(context.state.library.daylighting_control_definitions, { id: daylighting_control_definition_id }),\n      geometry = story && _.find(context.rootState.geometry, { id: story.geometry_id }),\n      face = geometry && _.find(geometry.faces, { id: face_id }),\n      vertex = geometry && (\n        geometryHelpers.vertexForCoordinates({ x, y }, geometry) || geometryFactory.Vertex(x, y));\n    if (!story) {\n      throw new Error('Story not found');\n    } else if (!daylightingDefn) {\n      throw new Error('Daylighting Control Definition not found');\n    } else if (!geometry) {\n      throw new Error('Geometry not found');\n    } else if (!face) {\n      throw new Error('Face not found');\n    } else if (!vertex.id) {\n      throw new Error('Unable to find or create vertex');\n    }\n    context.commit('geometry/ensureVertsExist', { geometry_id: geometry.id, vertices: [vertex] }, { root: true });\n    context.commit('createDaylightingControl', {\n      ...payload,\n      vertex_id: vertex.id,\n      id: idFactory.generate(),\n      name: genName(daylightingDefn.name),\n    });\n  },\n  destroyDaylightingControl({ commit }, payload) {\n    commit('destroyDaylightingControl', payload);\n  },\n  destroyWindow({ commit }, payload) {\n    commit('destroyWindow', payload);\n  },\n\n  /**\n   * Batched version of the `destroyWindow` commit\n   * @param {*} context \n   * @param {*} payload \n   */\n  destroyWindows({ commit }, payload) {\n    commit('destroyWindows', payload);\n  },\n  destroyDoor({ commit }, payload) {\n    commit('destroyDoor', payload);\n  },\n\n  /**\n   * Batched version of the `destroyDoor` commit\n   * @param {*} context \n   * @param {*} payload \n   */\n  destroyDoors({ commit }, payload) {\n    commit('destroyDoors', payload);\n  },\n  modifyDaylightingControl({ commit }, payload) {\n    commit('modifyDaylightingControl', payload);\n  },\n  modifyWindow({ commit }, payload) {\n    commit('modifyWindow', payload);\n  },\n  modifyDoor({ commit }, payload) {\n    commit('modifyDoor', payload);\n  },\n  destroyAllComponents({ commit }, { story_id }) {\n    commit('dropDaylightingControls', { story_id });\n    commit('dropWindows', { story_id });\n    commit('dropDoors', { story_id });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/actions.js","import _ from 'lodash';\n\nexport function number(n, col) {\n  if (n === '' || n === null) {\n    return _.has(col, 'default') ? col.default :\n      col.nullable ? null : 0;\n  }\n  return +n;\n}\nexport function bool(b) { return typeof b === typeof true ? b : b.toLowerCase() === 'true'; }\nexport function gt0orNull(n) { return +n || null; }\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/converters.js","export default {\n    // all spaces across all stories\n    allSpaces (state, getters, rootState, rootGetters) {\n        return rootState.models.stories.reduce((spaces, story) => {\n            return spaces.concat(story.spaces)\n        }, []);\n    },\n    // all shading across all stories\n    allShading (state, getters, rootState, rootGetters) {\n        return rootState.models.stories.reduce((shading, story) => {\n            return shading.concat(story.shading)\n        }, []);\n    },\n    // all spaces across all stories\n    allImages (state, getters, rootState, rootGetters) {\n        return rootState.models.stories.reduce((images, story) => {\n            return images.concat(story.images)\n        }, []);\n    },\n    all (state, getters, rootState, rootGetters) {\n        let objs = {\n            ...rootState.models.library,\n            stories: rootState.models.stories,\n            spaces: getters.allSpaces,\n            shading: getters.allShading,\n            images: getters.allImages\n        };\n\n        return Object.keys(objs).reduce((out,key) => {\n            out.push(...objs[key]);\n            return out;\n        }, []);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/getters.js","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nexport default {\n    namespaced: true,\n    state: {\n        stories: [/*{\n            id: null,\n            handle: null,\n            name: null,\n            geometry_id: null,\n            below_floor_plenum_height: 0,\n            above_floor_plenum_height: 0,\n            floor_to_ceiling_height: 0,\n            multiplier: 0,\n            spaces: [{\n                id: null,\n                name: null,\n                handle: null,\n                face_id: null,\n                daylighting_controls: [{\n                    daylighting_control_id: null,\n                    vertex_id: null\n                }],\n                building_unit_id: null,\n                thermal_zone_id: null,\n                space_type_id: null,\n                construction_set_id: null\n            }],\n            shading: [{\n                name: null,\n                face_id: null\n            }],\n            images: [{\n                id: null,\n                src: null,\n                name: null,\n                visible: false,\n                // coordinates and dimensions stored in RWU\n                height: 0,\n                width: 0,\n                x: 0,\n                y: 0,\n                z: 0,\n                opacity: 0\n            }],\n            windows: [{\n                window_id: null,\n                vertex_id: null\n            }]\n        }*/],\n        // lib\n        library: {\n            building_units: [],\n            thermal_zones: [],\n            space_types: [],\n            building_types: [\n                {\n                    id: 'SecondarySchool',\n                    name: 'Secondary School',\n                },\n                {\n                    id: 'PrimarySchool',\n                    name: 'Primary School',\n                },\n                {\n                    id: 'SmallOffice',\n                    name: 'Small Office',\n                },\n                {\n                    id: 'MediumOffice',\n                    name: 'Medium Office',\n                },\n                {\n                    id: 'LargeOffice',\n                    name: 'Large Office',\n                },\n                {\n                    id: 'SmallHotel',\n                    name: 'Small Hotel',\n                },\n                {\n                    id: 'LargeHotel',\n                    name: 'Large Hotel',\n                },\n                {\n                    id: 'Warehouse',\n                    name: 'Warehouse',\n                },\n                {\n                    id: 'RetailStandalone',\n                    name: 'Retail Standalone',\n                },\n                {\n                    id: 'RetailStripmall',\n                    name: 'Retail Stripmall',\n                },\n                {\n                    id: 'QuickServiceRestaurant',\n                    name: 'Quick Service Restaurant',\n                },\n                {\n                    id: 'FullServiceRestaurant',\n                    name: 'Full Service Restaurant',\n                },\n                {\n                    id: 'MidriseApartment',\n                    name: 'Midrise Apartment',\n                },\n                {\n                    id: 'HighriseApartment',\n                    name: 'Highrise Apartment',\n                },\n                {\n                    id: 'Hospital',\n                    name: 'Hospital',\n                },\n                {\n                    id: 'Outpatient',\n                    name: 'Outpatient',\n                },\n                {\n                    id: 'SuperMarket',\n                    name: 'Super Market',\n                },\n                {\n                    id: 'Laboratory',\n                    name: 'Laboratory',\n                },\n                {\n                    id: 'LargeDataCenterLowITE',\n                    name: 'Large Data Center Low ITE',\n                },\n                {\n                    id: 'LargeDataCenterHighITE',\n                    name: 'Large Data Center High ITE',\n                },\n                {\n                    id: 'SmallDataCenterLowITE',\n                    name: 'Small Data Center Low ITE',\n                },\n                {\n                    id: 'SmallDataCenterHighITE',\n                    name: 'Small Data Center High ITE',\n                },\n            ],\n            construction_sets: [],\n            window_definitions: [],\n            daylighting_control_definitions: [],\n            pitched_roofs: [],\n            door_definitions: [],\n        }\n    },\n    actions: actions,\n    mutations: mutations,\n    getters: getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/index.js","import _ from 'lodash';\nimport helpers from './helpers.js'\n\nexport default {\n  initStory(state, payload) { state.stories.push(payload.story); },\n  initSpace(state, payload) { payload.story.spaces.push(payload.space); },\n  initShading(state, payload) { payload.story.shading.push(payload.shading); },\n\n  initObject(state, payload) {\n    state.library[payload.type].push(payload.object);\n  },\n\n  /**\n   * Modifies the state to create a new object and select it on the provided space\n   * @param {*} state \n   * @param {{ object: { space_id: number, type: string, type_id: string }}} payload \n   * @returns \n   */\n  initObjectWithSelection(state, payload) {\n    state.library[payload.type].push(payload.object);\n\n    for (let story of state.stories) {\n      for (let space of story.spaces) {\n        if (space.id === payload.space_id) {\n          space[payload.type_id] = payload.object.id;\n          return;\n        }\n      }\n    }\n  },\n\n  destroySpace(state, payload) {\n    payload.story.spaces.splice(payload.story.spaces.findIndex((s) => {\n      return s.id === payload.space.id;\n    }), 1);\n  },\n  destroyShading(state, payload) {\n    payload.story.shading.splice(payload.story.shading.findIndex((s) => {\n      return s.id === payload.shading.id;\n    }), 1);\n  },\n  destroyImage(state, payload) {\n    payload.story.images.splice(payload.story.images.findIndex((i) => {\n      return i.id === payload.image.id;\n    }), 1);\n  },\n  destroyStory(state, payload) {\n    state.stories.splice(state.stories.findIndex((s) => {\n      return s.id === payload.story.id;\n    }), 1);\n  },\n  destroyObject(state, { object: { id } }) {\n    // search the library\n    state.library = _.mapValues(\n      state.library,\n      lst => _.reject(lst, { id }),\n    );\n  },\n\n  updateStoryWithData(state, payload) {\n    const story = payload.story;\n    delete payload.story;\n    Object.assign(story, payload);\n  },\n  createImageForStory(state, payload) {\n    const story = state.stories.find(s => s.id === payload.story_id);\n    story.images.push(payload.image);\n  },\n\n  /**\n   * Updates the basic data stored on the space\n   * If the building type is changed, it will affect all other spaces in the same building unit\n   * If the building unit is changed, it will change the type of the building to match all other spaces with that building unit\n   *\n   * @param {*} state State to update\n   * @param {*} payload Payload with data fields to update on the space\n   */\n  updateSpaceWithData(state, payload) {\n    const space = payload.space;\n\n    if (payload.building_type_id && space.building_unit_id) {\n      state.stories = state.stories.map((story) => {\n        return {\n          ...story,\n          spaces: story.spaces.map((s) => {\n              if (s.building_unit_id === space.building_unit_id) {\n                return {\n                  ...s,\n                  building_type_id: payload.building_type_id,\n                };\n              } else {\n                return s;\n              }\n            })\n        };\n      });\n    } else if (payload.building_unit_id) {\n      let found = false;\n      // Control iteration manually so break can be used for early exits\n      for (let story of state.stories) {\n        for (let space of story.spaces) {\n          if (space.building_unit_id === payload.building_unit_id) {\n            payload = {\n              ...payload,\n              building_type_id: space.building_type_id,\n            };\n            found = true;\n            break;\n          }\n        }\n\n        if (found) {\n          break;\n        }\n      }\n    }\n\n    Object.assign(space, payload);\n    delete space.space;\n  },\n\n  updateShadingWithData(state, payload) {\n    const shading = payload.shading;\n    Object.assign(shading, payload);\n    delete shading.shading;\n  },\n  updateImageWithData(state, payload) {\n    const image = payload.image;\n    Object.assign(image, payload);\n    delete image.image;\n  },\n  updateObjectWithData(state, payload) {\n    const object = payload.object;\n    Object.assign(object, payload);\n    delete object.object;\n  },\n  createWindow(state, { story_id, edge_id, window_definition_id, alpha, id, name }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.windows.push({\n      window_definition_id,\n      edge_id,\n      alpha,\n      id,\n      name,\n    });\n  },\n\n  /**\n   * Batched version of the `createWindow` mutation\n   * @param {*} state \n   * @param {*} payload Array of windows to be created\n   */\n  createWindows(state, payload) {\n    const obj = {};\n    payload.forEach(({ story_id, edge_id, window_definition_id, alpha, id, name }) => {\n      const window = {\n        window_definition_id,\n        edge_id,\n        alpha,\n        id,\n        name,\n      };\n      if (obj[story_id]) {\n        obj[story_id].push(window);\n      } else {\n        obj[story_id] = [window];\n      }\n    });\n\n    Object.entries(obj).forEach(([key, value]) => {\n      const story = _.find(state.stories, { id: key });\n      story.windows = story.windows.concat(value);\n    });\n  },\n  createDoor(state, { story_id, edge_id, door_definition_id, alpha, id }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.doors.push({\n      door_definition_id,\n      edge_id,\n      alpha,\n      id,\n      name,\n    });\n  },\n\n  /**\n   * Batched version of the `createDoor` mutation\n   * @param {*} state \n   * @param {*} payload Array of doors to be created\n   */\n  createDoors(state, payload) {\n    const obj = {};\n    payload.forEach(({ story_id, edge_id, door_definition_id, alpha, id }) => {\n      const door = {\n        door_definition_id,\n        edge_id,\n        alpha,\n        id,\n        name,\n      };\n      if (obj[story_id]) {\n        obj[story_id].push(door);\n      } else {\n        obj[story_id] = [door];\n      }\n    });\n\n    Object.entries(obj).forEach(([key, value]) => {\n      const story = _.find(state.stories, { id: key });\n      story.doors = story.doors.concat(value);\n    });\n  },\n\n  dropWindows(state, { story_id }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.windows = [];\n  },\n  dropDoors(state, { story_id }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.doors = [];\n  },\n  createDaylightingControl(state, { story_id, face_id, daylighting_control_definition_id, vertex_id, name, id }) {\n    const\n      story = _.find(state.stories, { id: story_id }),\n      space = _.find(story.spaces, { face_id });\n\n    space.daylighting_controls.push({\n      daylighting_control_definition_id,\n      vertex_id,\n      id,\n      name,\n    });\n  },\n  dropDaylightingControls(state, { story_id }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.spaces = story.spaces.map((space) => {\n      if (space.daylighting_controls.length === 0) {\n        return space;\n      } else {\n        return Object.assign({}, space, { daylighting_controls: [] });\n      }\n    });\n  },\n  destroyWindowsByDefinition(state, { id }) {\n    state.stories.forEach((story) => {\n      story.windows = _.reject(story.windows, { window_definition_id: id });\n    });\n  },\n  destroyDaylightingControlsByDefinition(state, { id }) {\n    state.stories.forEach((story) => {\n      story.spaces.forEach((space) => {\n        space.daylighting_controls = _.reject(space.daylighting_controls, { daylighting_control_definition_id: id });\n      });\n    });\n  },\n  destroyDoorsByDefinition(state, { id }) {\n    state.stories.forEach((story) => {\n      story.doors = _.reject(story.doors, { door_definition_id: id });\n    });\n  },\n  destroyDaylightingControl(state, { story_id, object: { id } }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.spaces.forEach((space) => {\n      space.daylighting_controls = _.reject(space.daylighting_controls, { id });\n    });\n  },\n  modifyDaylightingControl(state, { story_id, id, key, value }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.spaces.some((space) => {\n      const dc = _.find(space.daylighting_controls, { id });\n      if (dc) {\n        dc[key] = value;\n        return true;\n      }\n      // not on this space, maybe another?\n      return false;\n    });\n  },\n  destroyWindow(state, { story_id, object: { id } }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.windows = _.reject(story.windows, { id });\n  },\n  destroyWindows(state, payload) {\n    const obj = {};\n\n    payload.forEach(({ story_id, object: { id } }) => {\n      if (obj[story_id]) {\n        obj[story_id].push(id);\n      } else {\n        obj[story_id] = [id];\n      }\n    });\n\n    Object.entries(obj).forEach(([key, value]) => {\n      const story = _.find(state.stories, { id: key });\n      story.windows = story.windows.filter((window) => {\n        return value.indexOf(window.id) === -1;\n      });\n    });\n  },\n  destroyDoor(state, { story_id, object: { id } }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.doors = _.reject(story.doors, { id });\n  },\n  destroyDoors(state, payload) {\n    const obj = {};\n\n    payload.forEach(({ story_id, object: { id } }) => {\n      if (obj[story_id]) {\n        obj[story_id].push(id);\n      } else {\n        obj[story_id] = [id];\n      }\n    });\n\n    Object.entries(obj).forEach(([key, value]) => {\n      const story = _.find(state.stories, { id: key });\n      story.doors = story.doors.filter((window) => {\n        return value.indexOf(window.id) === -1;\n      });\n    });\n  },\n  modifyWindow(state, { story_id, id, key, value }) {\n    const\n      story = _.find(state.stories, { id: story_id }),\n      windew = _.find(story.windows, { id });\n    windew[key] = value;\n  },\n  modifyDoor(state, { story_id, id, key, value }) {\n    const\n      story = _.find(state.stories, { id: story_id }),\n      door = _.find(story.doors, { id });\n    door[key] = value;\n  },\n  cloneObjectArray(state, payload) {\n    const newStory = state.stories.find(story => story.id === payload.currentStory.id);\n    newStory['spaces'] = payload.storyInfo['spaces'];\n    helpers.replaceSpaceNamesForCloning(state, 'spaces', payload.currentStory);\n    newStory['shading'] = payload.storyInfo['shading'];\n    newStory['doors'] = payload.storyInfo['doors'];\n    newStory['images'] = payload.storyInfo['images'];\n    newStory['windows'] = payload.storyInfo['windows'];\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/mutations.js","import _ from 'lodash';\n\nexport default {\n  name(object, store, value, type) {\n    let objs = store.getters['models/all'];\n\n    switch (type) {\n      case 'stories':\n        objs = store.state.models.stories;\n        break;\n      case 'spaces':\n        objs = store.getters['models/allSpaces'];\n        break;\n      case 'shading':\n        objs = store.getters['models/allShading'];\n        break;\n      case 'images':\n        objs = store.getters['models/allImages'];\n        break;\n      default:\n        objs = store.state.models.library[type];\n        break;\n    }\n    let error = '';\n    if (objs.filter(s => (s.name === value) && (s.id !== object.id)).length) {\n      error = 'Names must be unique.';\n    } else if (value === '') {\n      error = 'Names must be at least 1 characters long.';\n    }\n\n    return error ? { success: false, error } : { success: true };\n  },\n  number(object, store, value, type) {\n    let error = '';\n    if (isNaN(value)) {\n      error = 'Value must be numeric.';\n    }\n\n    return error ? { success: false, error } : { success: true };\n  },\n  oneOf(...args) {\n    return (object, store, value, type) => {\n      if (!_.includes(args, value)) {\n        return { success: false, error: `Expected one of ${args}, got ${value}` };\n      }\n      return { success: true };\n    };\n  },\n  gt0(object, story, value, type) {\n    return value > 0 ? { success: true } : { success: false, error: 'Expected value to be greater than zero' };\n  },\n  closedInterval(start, end) {\n    return (object, store, value, type) => {\n      if (value < start || value > end) {\n        return { success: false, error: `Must be between ${start} and ${end}` };\n      }\n      return { success: true };\n    };\n  },\n  halfOpenInterval(start, end) {\n    return (object, store, value, type) => {\n      if (value < start || value >= end) {\n        return { success: false, error: `Must be greater than or equal ${start} and less than ${end}` };\n      }\n      return { success: true };\n    };\n  },\n  gt0orNull(object, story, value, type) {\n    if (value === null || value === '' || value > 0) {\n      return { success: true };\n    }\n    return { success: false, error: 'If provided, value must be greater than 0' };\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/validators.js","import _ from 'lodash';\nimport Validator from './../../utilities/validator';\n\nexport default {\n    // CONFIG\n  setUnits({ commit, dispatch, rootState }, payload) {\n    if (payload.units === 'm' || payload.units === 'ft') {\n      throw new Error('units must be \"ip\" or \"si\"');\n    } else if (payload.units === 'ip' || payload.units === 'si') {\n      commit('setUnits', payload);\n      rootState.models.stories.forEach(\n        story => dispatch('models/destroyStory', { story }, { root: true }));\n    }\n  },\n    setLanguage (context, payload) {\n        if (payload.language === 'EN-US') {\n            context.commit('setLanguage', payload);\n        }\n    },\n    setNorthAxis (context, payload) {\n      const { north_axis } = payload;\n      if (north_axis > 360 || north_axis < 0) { return; }\n      context.commit('setConfigNorthAxis', { north_axis });\n      context.commit('setMapRotation', { rotation: (north_axis * Math.PI) / 180 });\n    },\n    setMapVisible (context, payload) {\n        if (typeof payload.visible === 'boolean') {\n            context.commit('setMapVisible', payload);\n        }\n    },\n    setMapEnabled(context, payload) {\n        if (typeof payload.enabled === 'boolean') {\n            context.commit('setMapEnabled', payload);\n        }\n    },\n    setMapInitialized(context, payload) {\n        if (typeof payload.initialized === 'boolean') {\n            context.commit('setMapInitialized', payload);\n        }\n    },\n    setGridVisible (context, payload) {\n        if (typeof payload.visible === 'boolean') {\n            context.commit('setGridVisible', payload);\n        }\n    },\n\n    // state.grid.spacing\n    setSpacing (context, payload) {\n       context.commit('setSpacing', payload);\n    },\n\n    setViewMinX (context, payload) {\n        context.commit('setViewMinX', payload);\n    },\n    setViewMinY (context, payload) {\n        context.commit('setViewMinY', payload);\n    },\n\n    setViewMaxX (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateInt('max_x');\n        // check that the proposed max_x is greater than the min_x\n        validator.validateMin('max_x', context.state.view.min_x);\n        context.commit('setViewMaxX', validator.validatedPayload);\n    },\n    setViewMaxY (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateInt('max_y');\n        // check that the proposed max_y is greater than the min_y\n        validator.validateMin('max_y', context.state.view.min_y);\n        context.commit('setViewMaxY', validator.validatedPayload);\n    },\n\n    /**\n     * Set all four dimensions at once\n     * Combines the logic of the four methods immediately preceding this one\n     * @param {*} context \n     * @param {*} payload \n     */\n    setDimensions (context, payload) {\n      const validator = new Validator(payload);\n\n      validator.validateInt('max_y');\n      // check that the proposed max_y is greater than the min_y\n      validator.validateMin('max_y', context.state.view.min_y);\n\n      validator.validateInt('max_x');\n      // check that the proposed max_x is greater than the min_x\n      validator.validateMin('max_x', context.state.view.min_x);\n\n      context.commit('setDimensions', payload);\n    },\n    // setFov (context, payload) {\n    //     context.commit('setFov', payload);\n    // },\n    setZoom (context, payload) {\n        context.commit('setMapZoom', payload);\n    },\n    // setFilmOffset (context, payload) {\n    //     context.commit('setFilmOffset', payload);\n    // },\n\n    setMapLatitude (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateFloat('latitude');\n        validator.validateMax('latitude', 180);\n        validator.validateMin('latitude', -180);\n        context.commit('setMapLatitude', validator.validatedPayload);\n    },\n\n    setMapLongitude (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateFloat('longitude');\n        validator.validateMax('longitude', 180);\n        validator.validateMin('longitude', -180);\n        context.commit('setMapLongitude', validator.validatedPayload);\n    },\n\n    setMapZoom (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateFloat('zoom');\n        context.commit('setMapZoom',  { zoom: payload.zoom });\n    },\n\n\n    setMapRotation (context, payload) {\n        context.commit('setConfigNorthAxis', { north_axis: (payload.rotation/(2*Math.PI)) * 360 });\n        context.commit('setMapRotation', { rotation: payload.rotation });\n    },\n\n\n    setPreviousStoryVisible (context, payload) {\n        context.commit('setPreviousStoryVisible', { visible: payload.visible });\n\n    },\n\n    setShowImportExport(context, payload) {\n      context.commit('setShowImportExport', payload);\n    },\n\n  zoomToFit(context, { geometry_id, widthOverHeight }) {\n    context.commit('setView', { xExtent, yExtent });\n  },\n\n  modifyGround({ state, commit }, { key, val }) {\n    let value = +val;\n    if (isNaN(value)) {\n      value = 0;\n    }\n    if (!_.includes(Object.keys(state.ground), key)) {\n      console.error(`unrecognized ground property \"${key}\"`);\n      return;\n    }\n    if (key === 'tilt_angle' && (value < 0 || value >= 90)) {\n      window.eventBus.$emit('error', 'Tilt Angle must be in [0, 90)');\n      return;\n    }\n    commit('modifyGround', { key, value });\n  },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/project/actions.js","export default {\n  snapTolerance(state) {\n    const defaultTolerance = Math.abs(state.view.max_x - state.view.min_x) * 0.025;\n    return state.grid.visible ? state.grid.spacing * 0.5 : defaultTolerance;\n  },\n  angleTolerance() {\n    return 20;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/project/getters.js","export default {\n    // CONFIG\n  setUnits(state, payload) {\n    if ('units' in payload) {\n      state.config.units = payload.units;\n    }\n    if ('editable' in payload) {\n      state.config.unitsEditable = payload.editable;\n    }\n  },\n    setLanguage (state, payload) {\n        if ('language' in payload) {\n            state.config.language = payload.language;\n        }\n    },\n    setConfigNorthAxis (state, payload) {\n        if ('north_axis' in payload) {\n            state.north_axis = payload.north_axis;\n        }\n    },\n\n    // GRID\n    setGridVisible (state, payload) {\n\t\tif ('visible' in payload) {\n            state.grid.visible = payload.visible;\n        }\n    },\n    setSpacing (state, payload) {\n        state.grid.spacing = payload.spacing;\n    },\n\n    // VIEW\n    setViewMinX (state, payload) {\n        if ('min_x' in payload) {\n            state.view.min_x = payload.min_x;\n        }\n    },\n    setViewMinY (state, payload) {\n        if ('min_y' in payload) {\n            state.view.min_y = payload.min_y;\n        }\n    },\n    setViewMaxX (state, payload) {\n        if ('max_x' in payload) {\n            state.view.max_x = payload.max_x;\n        }\n    },\n    setViewMaxY (state, payload) {\n        if ('max_y' in payload) {\n            state.view.max_y = payload.max_y;\n        }\n    },\n    setDimensions (state, payload) {\n        state.view = Object.assign({}, state.view, payload);\n    },\n\n    // MAP\n    setMapEnabled (state, payload) {\n        if ('enabled' in payload) {\n            state.map.enabled = payload.enabled;\n        }\n    },\n    setMapInitialized (state, payload) {\n        if ('initialized' in payload) {\n            state.map.initialized = payload.initialized;\n        }\n    },\n    setMapVisible (state, payload) {\n        if ('visible' in payload) {\n            state.map.visible = payload.visible;\n        }\n    },\n\n    setMapLatitude (state, payload) {\n        if ('latitude' in payload) {\n            state.map.latitude = payload.latitude;\n        }\n    },\n\n    setMapLongitude (state, payload) {\n        if ('longitude' in payload) {\n            state.map.longitude = payload.longitude;\n        }\n    },\n\n    setMapZoom (state, payload) {\n        if ('zoom' in payload) {\n            state.map.zoom = payload.zoom;\n        }\n    },\n\n    setMapRotation (state, payload) {\n        if ('rotation' in payload) {\n            state.map.rotation = payload.rotation;\n        }\n    },\n\n    setPreviousStoryVisible (state, payload) {\n        if ('visible' in payload) {\n            state.previous_story.visible = payload.visible;\n        }\n    },\n  setShowImportExport(state, payload) {\n    state.show_import_export = payload;\n  },\n\n  modifyGround(state, { key, value }) {\n    state.ground[key] = value;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/project/mutations.js","import _ from 'lodash';\nimport project from './modules/project';\n\nexport default {\n  importState(state, payload) {\n    // replace any keys in both, but keep keys appearing only in project\n    // (for backward compatibilty)\n    state.project = Object.assign(project.state, payload.project);\n    state.application = payload.application;\n    state.models = payload.models;\n    state.geometry = payload.geometry;\n  },\n  importLibrary(state, payload) {\n    state.models.library = payload;\n  },\n  changeUnits(state, newState) {\n    _.keys(state).forEach((k) => {\n      state[k] = newState[k];\n    });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import _ from 'lodash';\n\nconst serializeState = (state) => {\n  return JSON.stringify(state);\n};\nconst filteredActions = [\n  'application/setScaleX',\n  'application/setCurrentTool',\n  'application/setScaleY',\n  'project/setSpacing',\n  'project/setViewMinX',\n  'project/setViewMinY',\n  'project/setViewMaxX',\n  'project/setViewMaxY',\n  'project/setDimensions',\n  'application/clearSubSelections',\n  'application/setCurrentStoryId',\n  'application/setCurrentStory',\n  'application/setCurrentSpace',\n  'application/setCurrentShading',\n  'application/setCurrentImage',\n  'application/setCurrentSpacePropertyId',\n  'application/setCurrentSubSelectionType',\n  'project/setPreviousStoryVisible',\n  'project/setGridVisible',\n  'project/setMapLatitude',\n  'project/setMapLongitude',\n  'project/setMapRotation',\n];\nconst permanentActions = [\n  'importFloorplan',\n  'project/setMapEnabled',\n  'project/setMapInitialized',\n];\n\nconst logState = state => state;\n\nexport default {\n  store: null,\n  pastTimetravelStates: [],\n  futureTimetravelStates: [],\n  currentlyInBatch: false,\n  triggeringAction: '(none)',\n  init(store) {\n    const that = this;\n    this.store = store;\n    store.timetravel = this;\n\n    this.pastTimetravelStates = [];\n    this.futureTimetravelStates = [];\n\n    this.store.replaceState({ ...store.state, timetravelInitialized: true });\n    /*\n    * store.commit and store.replaceState mutate the data store\n    * monkey patch them to call the onChange function supplied in app config\n    */\n    const originalReplaceState = store.replaceState;\n    store.replaceState = function overrideReplaceState(...args) {\n      if (window.api) { window.api.config.onChange(); }\n      const newState = args[0];\n\n      // non timetravel props\n      newState.application.scale = this.state.application.scale;\n      newState.project.view = this.state.project.view;\n      newState.project.grid = this.state.project.grid;\n      newState.project.previous_story = this.state.project.previous_story;\n\n      originalReplaceState.apply(this, args);\n    };\n    const originalCommit = store.commit;\n    store.commit = function overrideCommit(...args) {\n      if (window.api) { window.api.config.onChange(); }\n      originalCommit.apply(this, args);\n    };\n\n    /*\n    * monkey patch store.dispatch to store a new copy of the store.state for each\n    * set of actions dispatched\n    */\n    const originalDispatch = store.dispatch;\n    store.dispatch = function overrideDispatch(...args) {\n      const action = args[0];\n\n      // ignore changes to view bounds\n      if (!_.includes(filteredActions, action)) {\n        that.maybeSaveCheckpoint(action);\n        console.log('dispatching action:', args[0]);\n      }\n\n      originalDispatch.apply(this, args);\n    };\n  },\n  maybeSaveCheckpoint(action) {\n    if (!this.currentlyInBatch) {\n      this.saveCheckpoint(action);\n    }\n    // now, ignore the next few calls, until we clear the event loop.\n    this.currentlyInBatch = true;\n    clearTimeout(this.resetBatchFlag);\n    this.resetBatchFlag = setTimeout(() => { this.currentlyInBatch = false; }, 0);\n  },\n  /*\n  * Empty future states and save the currentState to pastTimetravelStates\n  */\n  saveCheckpoint(action) {\n    this.pastTimetravelStates.push({\n      triggeringAction: this.triggeringAction,\n      state: serializeState(this.store.state),\n    });\n    this.triggeringAction = action;\n    console.warn('saving state');\n    this.futureTimetravelStates = [];\n    this.potentiallyRollbackCheckpoint(action);\n  },\n\n  potentiallyRollbackCheckpoint(action) {\n    const prevStates = this.pastTimetravelStates;\n    const store = this.store;\n    if (_.includes(permanentActions, action)) {\n      // roll back all the way.\n      this.pastTimetravelStates = [];\n      this.futureTimetravelStates = [];\n      return;\n    }\n    _.defer(() => {\n      // after save checkpoint and dust has settled\n      while (\n        prevStates.length > 0 &&\n        _.isEqual(serializeState(store.state), prevStates[prevStates.length - 1].state)\n      ) {\n        console.log('current state matches previous, so rolling back', prevStates[prevStates.length - 1].triggeringAction);\n        prevStates.pop();\n      }\n    });\n  },\n\n  undo() {\n    if (!this.pastTimetravelStates.length) { return; }\n    const { state: replacementState, triggeringAction } = this.pastTimetravelStates.pop();\n    const newState = JSON.parse(replacementState);\n    const oldAction = this.triggeringAction;\n    this.futureTimetravelStates.push({\n      triggeringAction: this.triggeringAction,\n      state: serializeState(this.store.state),\n    });\n    this.triggeringAction = triggeringAction;\n    this.store.replaceState(newState);\n    console.log('undo', newState);\n    window.eventBus.$emit('success', `undo ${oldAction}`);\n  },\n\n  redo() {\n    if (!this.futureTimetravelStates.length) { return; }\n    const { state: replacementState, triggeringAction } = this.futureTimetravelStates.pop();\n    const newState = JSON.parse(replacementState);\n    this.pastTimetravelStates.push({\n      state: serializeState(this.store.state),\n      triggeringAction: this.triggeringAction,\n    });\n    this.triggeringAction = triggeringAction;\n    this.store.replaceState(newState);\n    window.eventBus.$emit('success', `redo ${triggeringAction}`);\n    console.log('redo', newState);\n  },\n  logTimetravel() {\n    console.log('past:', this.pastTimetravelStates.map(s => logState(s)));\n    console.log('current', logState(this.store.state));\n    console.log('future:', this.futureTimetravelStates.map(s => logState(s)));\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/timetravel.js","import _ from 'lodash';\nimport version from '../../version';\nimport { repeatingWindowCenters } from '../../store/modules/geometry/helpers';\n\nfunction formatHex(val) {\n  if (!val) { return null; }\n  if (val.length === 4) {\n    return `#${val[1]}${val[1]}${val[2]}${val[2]}${val[3]}${val[3]}`;\n  }\n  return val;\n}\n\nfunction formatObject(obj) {\n  if (_.isArray(obj)) {\n    return obj.map(formatObject);\n  } else if (_.isObject(obj)) {\n    return _.mapValues(obj, (val, key) => {\n      if ((key === 'id' || key.indexOf('_id') >= 0) && _.isNumber(val)) {\n        return String(val);\n      }\n      if (key === 'color') {\n        return formatHex(val);\n      }\n      return formatObject(val);\n    });\n  }\n  return obj;\n}\n\nfunction mungeWindows(windows, geometry, windowDefs) {\n  const repeatingWindowDefs = _.chain(windowDefs)\n    .filter({ window_definition_mode: 'Repeating Windows' })\n    .map(wd => [wd.id, wd])\n    .fromPairs()\n    .value();\n\n  return windows.map((w) => {\n    const def = repeatingWindowDefs[w.window_definition_id];\n    if (def) {\n      const edge = _.find(geometry.edges, { id: w.edge_id });\n      const centers = repeatingWindowCenters({\n        start: _.find(geometry.vertices, { id: edge.vertex_ids[0] }),\n        end: _.find(geometry.vertices, { id: edge.vertex_ids[1] }),\n        spacing: def.window_spacing,\n        width: def.width,\n      });\n      return {\n        ...w,\n        alpha: _.map(centers, 'alpha'),\n      };\n    }\n    return w;\n  });\n}\n\n\nfunction mungeStories(stories, geometries, windowDefs) {\n  return stories.map((story) => {\n    const geometry = JSON.parse(JSON.stringify(\n      _.find(geometries, { id: story.geometry_id }) || { edges: [], vertices: [], faces: [] },\n    ));\n    return {\n      ...story,\n      spaces: story.spaces,\n      geometry,\n      windows: mungeWindows(story.windows, geometry, windowDefs),\n      geometry_id: undefined,\n    };\n  });\n}\n\nexport default function exportData(state, getters) {\n  const exportObject = {\n    application: state.application,\n    project: state.project,\n    stories: mungeStories(\n      state.models.stories,\n      getters['geometry/exportData'],\n      state.models.library.window_definitions,\n    ),\n    ...state.models.library,\n    version,\n  };\n  return formatObject(exportObject);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/export.js","import appconfig from './../modules/application/appconfig';\n\nconst typeIndices = {};\n\nexport default function colorFactory(type) {\n  typeIndices[type] = (typeIndices[type] || 0) + 1;\n  return appconfig.palette.colors[typeIndices[type] % appconfig.palette.colors.length];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/generateColor.js","import { textures } from './../modules/application/appconfig';\n\nconst typeIndices = {};\n\nexport default function nextTextureForType(type) {\n  typeIndices[type] = (typeIndices[type] || 0) + 1;\n  return textures[typeIndices[type] % textures.length];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/generateTexture.js","import _ from 'lodash';\nimport idFactory from './generateId';\nimport { getDefaults } from '../modules/models/factory';\n\nfunction maybeUpdateProject(project) {\n  // backwards compatibility changes:\n  // 1. project.config.north_axis is now at project.north_axis\n  if (project.config.north_axis) {\n    // don't overwrite current key, if it's set\n    project.north_axis = project.north_axis || project.config.north_axis;\n    delete project.config.north_axis;\n  }\n  project.config.units = (\n      project.config.units === 'ft' ? 'ip' :\n      project.config.units === 'm' ? 'si' :\n      project.config.units);\n\n  return project;\n}\n\nfunction withHandleProp(arr) {\n  if (!arr || !arr.length) {\n    return [];\n  }\n  return arr.map(obj => ({\n    handle: null,\n    ...obj,\n  }));\n}\n\nfunction withWindowDefinitionDefaults(arr) {\n  if (!arr || !arr.length) return [];\n  return arr.map(obj => ({\n    ...getDefaults('WindowDefinition'),\n    // backwards compatibility: we used to call window_definition_mode \"window_definition_type\"\n    window_definition_mode: obj.window_definition_type || getDefaults('WindowDefinition').window_definition_mode,\n    ...obj,\n    window_definition_type: undefined,\n  }));\n}\n\nfunction withStoryDefaults(stories) {\n  return stories.map((story) => {\n    const multiplier = story.multiplier >= 1 ?\n      story.multiplier : getDefaults('Story').multiplier;\n\n    return {\n      ...getDefaults('Story'),\n      ...story,\n      spaces: story.spaces\n        .map(space => ({\n          ...getDefaults('Space'),\n          ...space,\n        })),\n      shading: withHandleProp(story.shading),\n      multiplier,\n    };\n  });\n}\n\nexport default function importFloorplan(context, payload) {\n  // intialize a versionNumber if the app is running in embedded mode\n  if (window.api) { window.versionNumber = 0; }\n  const options = payload.options || {};\n\n  // GEOMETRY\n  const geometry = payload.data.stories.map((story) => {\n    const faces = story.geometry.faces.map((face) => {\n      const edgeRefs = face.edge_ids.map((id, index) => ({\n        edge_id: id,\n        reverse: !face.edge_order[index],\n      }));\n      return {\n        id: face.id,\n        edgeRefs,\n      };\n    });\n\n    const edges = story.geometry.edges.map(e => ({\n      id: e.id,\n      v1: e.vertex_ids[0],\n      v2: e.vertex_ids[1],\n    }));\n    return {\n      id: story.geometry.id,\n      faces,\n      edges,\n      vertices: story.geometry.vertices,\n    };\n  });\n\n  // MODELS\n  const stories = payload.data.stories.map((s) => {\n    const story = {\n      geometry_id: s.geometry.id,\n      ...s,\n    };\n    delete story.geometry;\n    return story;\n  });\n\n  function forEachNestedProp(obj, func, propName = null) {\n    if (_.isObject(obj)) {\n      Object.keys(obj).forEach(k => forEachNestedProp(obj[k], func, k));\n    } else if (_.isArray(obj)) {\n      obj.forEach(elem => forEachNestedProp(elem, func));\n    } else {\n      func(propName, obj);\n    }\n  }\n\n  // find the highest id in the imported floorplan\n  let largestId = 0;\n  forEachNestedProp(payload, (k, v) => {\n    if (k && k === 'id' && (+v > largestId)) {\n      largestId = +v;\n    }\n  });\n\n  // set the idFactory to the next id\n  largestId += 1;\n  idFactory.setId(largestId);\n\n  context.commit('importState', {\n    project: maybeUpdateProject(payload.data.project),\n    application: context.state.application,\n    models: {\n      stories: withStoryDefaults(stories),\n      library: {\n        building_units: withHandleProp(payload.data.building_units),\n        building_types: withHandleProp(payload.data.building_types),\n        thermal_zones: withHandleProp(payload.data.thermal_zones),\n        space_types: withHandleProp(payload.data.space_types),\n        construction_sets: withHandleProp(payload.data.construction_sets),\n        window_definitions: withWindowDefinitionDefaults(payload.data.window_definitions),\n        daylighting_control_definitions: payload.data.daylighting_control_definitions || [],\n        pitched_roofs: (payload.data.pitched_roofs || []).map(pr => ({\n          shed_direction: null,\n          ...pr,\n        })),\n        door_definitions: withHandleProp(payload.data.door_definitions),\n      },\n    },\n    geometry,\n  });\n  _.defer(() => {\n    context.dispatch(\n      'application/setCurrentStoryId',\n      { id: stories[0].id },\n      { root: true });\n\n    stories.forEach(story => context.dispatch('geometry/trimGeometry', { geometry_id: story.geometry_id }));\n    if (!options.noReloadGrid) {\n      _.defer(() => window.eventBus.$emit('zoomToFit'));\n    }\n  });\n\n  if (!options.noReloadGrid) {\n    document.getElementById('svg-grid').dispatchEvent(new Event('reloadGrid'));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/importFloorplan.js","import _ from 'lodash';\nimport idFactory from './generateId';\nimport { libraryTypes } from '../modules/application/appconfig';\nimport { convertLibrary } from './unitConversion';\n\nexport default function importLibrary(context, payload) {\n  let count = 0;\n  libraryTypes.forEach((type) => {\n    if (!payload.data[type] || !payload.data[type].length) {\n      // library was created before this type existed, or\n      // has no entries of this type.\n      return;\n    }\n    const existingNames = context.state.models.library[type].map((o) => {\n      // /_\\d+[\\w\\s]?$/\n      // if object name contains duplicate suffix, remove suffix\n      if (/_\\d+[\\w\\s]?$/.test(o.name)) {\n        return o.name.split('_').slice(0, -1).join('_');\n      }\n      return o.name;\n    });\n    payload.data[type] = payload.data[type].map((obj) => {\n      const importObj = obj;\n      importObj.id = idFactory.generate();\n      // number of existing objects with the same prefix\n      const duplicateCount = existingNames.filter(n => n === obj.name).length;\n      if (duplicateCount) { importObj.name += `_${duplicateCount}`; }\n      count += 1;\n      return importObj;\n    });\n  });\n\n  const projectSystem = context.state.project.config.units;\n  const librarySystemRaw = _.get(payload, 'data.project.config.units');\n  let librarySystem = (\n        librarySystemRaw === 'ft' ? 'ip' :\n        librarySystemRaw === 'm' ? 'si' :\n        librarySystemRaw);\n\n  if (librarySystem !== 'ip' && librarySystem !== 'si') {\n    console.warn(`Expected data.project.config.units to be \"ip\" or \"si\", received \"${librarySystemRaw}\"`);\n    console.warn('unable to determine units of library -- using project units');\n    librarySystem = projectSystem;\n  }\n  const localUnitsPayload = convertLibrary(payload.data, librarySystem, projectSystem);\n\n  window.eventBus.$emit('success', `Imported ${count} object${count !== 1 ? 's' : ''}`);\n  // merge the import data with the existing library objects\n  context.commit(\n    'importLibrary',\n    _.fromPairs([\n      'building_units', 'thermal_zones', 'space_types', 'construction_sets',\n      'window_definitions', 'daylighting_control_definitions', 'pitched_roofs',\n    ].map(k => (\n      [k, context.state.models.library[k].concat(localUnitsPayload[k] || [])]\n    ))),\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/importLibrary.js","/*\n* The validator builds a validatedPayload object containing all key/vals that have validation run on them\n* which have not been marked invalid\n* To add key value pairs to the validatedPayload without actually calling a validation method on them\n* provide a validatedPayload argument to the Validator constructor\n*/\nexport default function Validator (payload, validatedPayload = {}) {\n    // if a key fails validation, it will be blacklisted so that it is not added to the validatedPayload on a later validation call\n    const invalidKeys = [];\n    return {\n        invalidKeys: invalidKeys,\n        validatedPayload: validatedPayload,\n        validateLength (key, minLength = 0) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload && payload[key].length >= minLength) {\n                validatedPayload[key] = payload[key];\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        // NOT  inclusive\n        validateMin (key, min = 0) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (payload[key] > min) {\n                validatedPayload[key] = payload[key];\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        // NOT  inclusive\n        validateMax (key, max = 0) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload && payload[key] < max) {\n                validatedPayload[key] = payload[key];\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        validateFloat (key) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload && !isNaN(parseFloat(payload[key]))) {\n                validatedPayload[key] = parseFloat(payload[key]);\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        validateInt (key) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload && !isNaN(parseInt(payload[key]))) {\n                validatedPayload[key] = parseInt(payload[key]);\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        validateBoolean (key) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload) {\n                validatedPayload[key] = !!(payload[key]);\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/validator.js","import _ from 'lodash';\nimport { ptsAreCollinear, distanceBetweenPoints } from '../store/modules/geometry/helpers';\n\nexport function checkVertexList(vertices, name = 'list of vertices') {\n  const errors = [];\n  vertices\n    .map((v, ix, a) => [\n      a[ix === 0 ? a.length - 1 : ix - 1],\n      a[ix],\n      a[(ix + 1) % a.length],\n    ])\n    .forEach(([fst, snd, thd]) => {\n      if (\n        ptsAreCollinear(fst, snd, thd) &&\n        distanceBetweenPoints(fst, snd) > distanceBetweenPoints(fst, thd)\n      ) {\n        errors.push(`${name} has a backwards section (${JSON.stringify(fst)} -> ${JSON.stringify(snd)} -> ${JSON.stringify(thd)})`);\n      }\n    });\n  return errors;\n}\n\nexport function checkFace(face) {\n  return checkVertexList(face.vertices, `face ${face.id}`);\n}\n\nexport default function checkGeometry(geom) {\n  const\n    errors = [],\n    vertPos = v => `${v.x}:${v.y}`,\n    vertPosToId = _.fromPairs(geom.vertices.map(v => [vertPos(v), v.id])),\n    edgePos = e => `${Math.min(+e.v1.id, +e.v2.id)}:${Math.max(+e.v1.id, +e.v2.id)}`,\n    edgePosToId = _.fromPairs(geom.edges.map(e => [edgePos(e), e.id]));\n\n  geom.vertices.forEach((vert) => {\n    if (vert.id !== vertPosToId[vertPos(vert)]) {\n      errors.push(`vertex ${vert.id} is a duplicate of ${vertPosToId[vertPos(vert)]}`);\n    }\n  });\n\n  geom.edges.forEach((edge) => {\n    if (\n      edge.v1.id === edge.v2.id ||\n      vertPos(edge.v1) === vertPos(edge.v2)\n    ) {\n      errors.push(`edge ${edge.id} is of length zero`);\n    }\n    if (edge.id !== edgePosToId[edgePos(edge)]) {\n      errors.push(`edge ${edge.id} is a duplicate of ${edgePosToId[edgePos(edge)]}`);\n    }\n  });\n\n  geom.faces.map(checkFace)\n    .forEach(errs => errors.push(...errs));\n\n  return errors;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/checkGeometry.js","export function brightness(r, g, b) {\n  // returns a value in 0..255 representing perceived brightness\n  // according to https://trendct.org/2016/01/22/how-to-choose-a-label-color-to-contrast-with-background/\n\n  return (r * 299 + g * 587 + b * 114) / 1000;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/color.js","// Floorspace.js, Copyright (c) 2016-2017, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'lodash';\n\nconst d3 = require('d3');\nconst d3Selection = require('d3-selection');\n\n/*\nYou might ask: Why do we need a copy-pasta version of lodash.throttle?\n\nOur hand-rolled throttle implementation (sure enough) wasn't running on the trailing edge. I switched to using `_.throttle`, which has `trailing: true` by default. Error message:\nhttps://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/59cbeb80295a82a03226fca5/89f83cf5e7d2392b793279b93fba1f31/capture.png\n\nThe issue was that the throttled function calls `d3.mouse()`, which depends on the value of `d3.event` internally.\nd3 was clearing that value after the event had fired. So it was gone by the time we hit the trailing call.\n\nThe fix: update the throttle code to record the value of `d3.event` and set it just before calling the function each time.\nhttps://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/59cbec239d4a68c1cbc981e1/25a207c92459b0a327e6a624d1f33bca/capture.png\n\nThe error: https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/59cbec593206a0ef014a1d0f/af6d3293fc434f38ca4946252ea78084/capture.png\n\nd3.event is a getter, and cannot be set. After digging through d3's source code, found where the value is _actually_ stored, and d3.event reads from that.\nhttps://github.com/d3/d3/blob/17fbf8d4b16ed19303d71dee4881d871bddbc037/test/d3-test.js\n\n*/\n\n/**\n    Modified from lodash 4.17.4 on 2017-09-27\n\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction d3Debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      lastD3Event,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError('Expected a function');\n  }\n  wait = _.toNumber(wait) || 0;\n  if (_.isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? Math.max(_.toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis,\n        saveD3Event = d3.event;\n\n    d3Selection.event = lastD3Event;\n    lastD3Event = lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    d3Selection.event = saveD3Event;\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? Math.min(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = _.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastD3Event = lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastD3Event = lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(_.now());\n  }\n\n  function debounced() {\n    var time = _.now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n    lastD3Event = d3.event;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default function d3AwareThrottle(func, wait) {\n  return d3Debounce(func, wait, {\n    leading: true,\n    trailing: true,\n    maxWait: wait,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/d3-aware-throttle.js","import _ from 'lodash';\n\nexport default function deepFreeze(obj) {\n  _.forOwn(obj, (value) => {\n    if (_.isObject(value)) {\n      deepFreeze(value);\n    }\n  });\n\n  if (!Object.isFrozen(obj)) {\n    Object.freeze(obj);\n  }\n  return obj;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/deepFreeze.js","module.exports = '0.7.0';\n\n\n\n// WEBPACK FOOTER //\n// ./src/version.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/vue-loader/lib/style-rewriter?id=data-v-c1b60834!sass-loader?sourceMap!./scss/main.scss\")\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/vue-loader/lib/style-rewriter?id=data-v-c1b60834&scoped=true!sass-loader?sourceMap!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler?id=data-v-c1b60834!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  \"data-v-c1b60834\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 640\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-031586be&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Canvas.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Canvas.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-031586be!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Canvas.vue\"),\n  /* scopeId */\n  \"data-v-031586be\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Canvas/Canvas.vue\n// module id = 641\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3d99eee3&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Map.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-3d99eee3!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Map.vue\"),\n  /* scopeId */\n  \"data-v-3d99eee3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Canvas/Map.vue\n// module id = 642\n// module chunks = 2","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ComponentInstanceEditBar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-46185816!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ComponentInstanceEditBar.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ComponentInstanceEditBar.vue\n// module id = 643\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-306f4abb&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditBar.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditBar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-306f4abb!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditBar.vue\"),\n  /* scopeId */\n  \"data-v-306f4abb\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditBar.vue\n// module id = 644\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-746cecc8&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditableSelectList.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditableSelectList.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-746cecc8!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditableSelectList.vue\"),\n  /* scopeId */\n  \"data-v-746cecc8\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditableSelectList.vue\n// module id = 645\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-4b0808dc!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditableTable.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditableTable.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-4b0808dc!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditableTable.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditableTable.vue\n// module id = 646\n// module chunks = 2","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ExpandableDrawer.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-5252b93a!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ExpandableDrawer.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ExpandableDrawer.vue\n// module id = 647\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-a8e9dfbe&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Grid.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Grid.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-a8e9dfbe!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Grid.vue\"),\n  /* scopeId */\n  \"data-v-a8e9dfbe\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Grid/Grid.vue\n// module id = 648\n// module chunks = 2","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageUpload.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-5190cdce!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImageUpload.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ImageUpload.vue\n// module id = 649\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-987d60e8&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Info.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Info.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-987d60e8!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Info.vue\"),\n  /* scopeId */\n  \"data-v-987d60e8\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Info.vue\n// module id = 650\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-73ec12ee&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Inspector.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Inspector.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-73ec12ee!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Inspector.vue\"),\n  /* scopeId */\n  \"data-v-73ec12ee\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Inspector.vue\n// module id = 651\n// module chunks = 2","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Library.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-a0779666!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Library.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Library.vue\n// module id = 652\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-6bbb2c29&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LibrarySelect.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LibrarySelect.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-6bbb2c29!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LibrarySelect.vue\"),\n  /* scopeId */\n  \"data-v-6bbb2c29\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LibrarySelect.vue\n// module id = 653\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-d56d6c28&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MapModal.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapModal.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-d56d6c28!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapModal.vue\"),\n  /* scopeId */\n  \"data-v-d56d6c28\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modals/MapModal.vue\n// module id = 654\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3c3490f3&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SaveAsModal.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SaveAsModal.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-3c3490f3!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SaveAsModal.vue\"),\n  /* scopeId */\n  \"data-v-3c3490f3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modals/SaveAsModal.vue\n// module id = 655\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-2aef9e5e!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Settings.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-2aef9e5e!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settings.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modals/Settings.vue\n// module id = 656\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-64bc751c&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Navigation.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Navigation.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-64bc751c!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Navigation.vue\"),\n  /* scopeId */\n  \"data-v-64bc751c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Navigation.vue\n// module id = 657\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-7f3bef5a!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NonChromeWarning.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NonChromeWarning.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-7f3bef5a!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NonChromeWarning.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NonChromeWarning.vue\n// module id = 658\n// module chunks = 2","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RenderByDropdown.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-8cb59cc8!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RenderByDropdown.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RenderByDropdown.vue\n// module id = 659\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-309036ee&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TextureSelect.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextureSelect.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-309036ee!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TextureSelect.vue\"),\n  /* scopeId */\n  \"data-v-309036ee\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TextureSelect.vue\n// module id = 660\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-58b79196!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Textures.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Textures.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-58b79196!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Textures.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Textures.vue\n// module id = 661\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-40563b8d&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Toolbar.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toolbar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-40563b8d!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Toolbar.vue\"),\n  /* scopeId */\n  \"data-v-40563b8d\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Toolbar.vue\n// module id = 662\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"canvas\",\n    attrs: {\n      \"id\": \"canvas\"\n    }\n  }, [_c('svg', {\n    attrs: {\n      \"id\": \"north_axis\",\n      \"height\": \"1792\",\n      \"viewBox\": \"0 0 1792 1792\",\n      \"width\": \"1792\",\n      \"xmlns\": \"http://www.w3.org/2000/svg\",\n      \"transform\": (\"rotate(\" + _vm.northAxis + \")\")\n    }\n  }, [_c('path', {\n    attrs: {\n      \"d\": \"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z\"\n    }\n  })]), _vm._v(\" \"), (_vm.mapEnabled) ? _c('map-view', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.mapVisible),\n      expression: \"mapVisible\"\n    }]\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-031586be!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Canvas/Canvas.vue\n// module id = 663\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.col.readonly || !_vm.col.input_type) ? _c('span', {\n    class: {\n      numeric: _vm.col.numeric\n    }\n  }, [_vm._v(\"\\n  \" + _vm._s(_vm.value) + \"\\n\")]) : (_vm.col.input_type === 'text') ? _c('input', {\n    class: {\n      numeric: _vm.col.numeric\n    },\n    attrs: {\n      \"disabled\": _vm.disabled,\n      \"placeholder\": _vm.col.nullable && _vm.row[_vm.col.name] === null ? '(none)' : null\n    },\n    domProps: {\n      \"value\": _vm.value\n    },\n    on: {\n      \"keydown\": _vm.blurOnEnter,\n      \"blur\": function($event) {\n        _vm.onChange($event.target.value);\n        _vm.$forceUpdate()\n      }\n    }\n  }) : (_vm.col.input_type === 'color') ? _c('div', {\n    staticClass: \"color-wrapper\"\n  }, [_c('input', {\n    staticClass: \"input-color\",\n    style: (_vm.colorStyles),\n    attrs: {\n      \"disabled\": _vm.disabled,\n      \"readonly\": \"\"\n    },\n    domProps: {\n      \"value\": _vm.row[_vm.col.name]\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.showColorModal = true\n      }\n    }\n  }), _vm._v(\" \"), (_vm.showColorModal) ? _c('ColorPickerModal', {\n    attrs: {\n      \"value\": _vm.row[_vm.col.name]\n    },\n    on: {\n      \"close\": function($event) {\n        _vm.showColorModal = false\n      },\n      \"change\": _vm.onChange\n    }\n  }) : _vm._e()], 1) : (_vm.col.input_type === 'select') ? _c('pretty-select', {\n    attrs: {\n      \"options\": _vm.selectData,\n      \"value\": _vm.row[_vm.col.name],\n      \"disabled\": _vm.disabled,\n      \"editable\": _vm.col.editable,\n      \"type\": _vm.col.type,\n      \"type_id\": _vm.col.name,\n      \"space_id\": _vm.row.id\n    },\n    on: {\n      \"change\": function (val) { return _vm.onChange(val); }\n    }\n  }) : (_vm.col.input_type === 'texture') ? _c('TextureSelect', {\n    attrs: {\n      \"value\": _vm.row[_vm.col.name],\n      \"disabled\": _vm.disabled\n    },\n    on: {\n      \"change\": function (val) { return _vm.onChange(val); }\n    }\n  }) : _vm._e()\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-14ece691!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/GenericInput.vue\n// module id = 664\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('aside', [_c('div', {\n    staticClass: \"overlay\",\n    on: {\n      \"click\": _vm.close\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"modal\"\n  }, [_c('span', [_c('svg', {\n    staticClass: \"close-button\",\n    attrs: {\n      \"viewBox\": \"0 0 256 256\",\n      \"xmlns\": \"http://www.w3.org/2000/svg\"\n    },\n    on: {\n      \"click\": _vm.close\n    }\n  }, [_c('path', {\n    attrs: {\n      \"d\": \"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z\"\n    }\n  })])]), _vm._v(\" \"), _c('header', [_c('h2', [_vm._v(_vm._s(_vm.title))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_vm._t(\"default\")], 2)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-20be75f3!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modals/ModalBase.vue\n// module id = 665\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"modal\"\n    }\n  }, [_c('Portal', {\n    attrs: {\n      \"to\": \"color-picker\"\n    }\n  }, [_c('div', {\n    staticClass: \"color-picker-modal\"\n  }, [_c('div', {\n    staticClass: \"modal-mask\"\n  }, [_c('div', {\n    staticClass: \"modal-wrapper\",\n    on: {\n      \"click\": function($event) {\n        return _vm.$emit('close')\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"modal-container\",\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"modal-body\"\n  }, [_c('swatches', {\n    attrs: {\n      \"inline\": \"\",\n      \"show-fallback\": \"\"\n    },\n    model: {\n      value: (_vm.color),\n      callback: function($$v) {\n        _vm.color = $$v\n      },\n      expression: \"color\"\n    }\n  })], 1)])])])])])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-21300217!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modals/ColorPickerModal.vue\n// module id = 666\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ModalBase', {\n    staticClass: \"settings-modal\",\n    attrs: {\n      \"title\": \"Settings\"\n    },\n    on: {\n      \"close\": function($event) {\n        return _vm.$emit('close')\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"settings\"\n  }, [_c('p', [_c('label', {\n    staticClass: \"input-text\"\n  }, [_vm._v(\"\\n        North Axis\\n        \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number.lazy\",\n      value: (_vm.northAxis),\n      expression: \"northAxis\",\n      modifiers: {\n        \"number\": true,\n        \"lazy\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"disabled\": _vm.mapEnabled\n    },\n    domProps: {\n      \"value\": (_vm.northAxis)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.northAxis = _vm._n($event.target.value)\n      },\n      \"blur\": function($event) {\n        return _vm.$forceUpdate()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('ExpandableDrawer', {\n    staticClass: \"ground-props-drawer\",\n    attrs: {\n      \"title\": \"Ground Properties\"\n    }\n  }, [_c('p', [_c('label', {\n    staticClass: \"input-text\"\n  }, [_vm._v(\"\\n          Floor Offset\\n          \"), _c('Info', [_vm._v(\"\\n            Specifies the vertical offset between the building floor and the ground plane.\\n            Use a value < 0 for buildings with below-grade spaces, or a value > 0 for,\\n            e.g., buildings on piers.\\n          \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.floor_offset),\n      expression: \"floor_offset\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.floor_offset)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.floor_offset = $event.target.value\n      }\n    }\n  })], 1)]), _vm._v(\" \"), _c('p', [_c('label', {\n    staticClass: \"input-text\"\n  }, [_vm._v(\"\\n          Azimuth Angle\\n          \"), _c('Info', [_vm._v(\"\\n            Direction of the ground plane, in clockwise degrees from the\\n            positive y-axis when viewed from above.\\n          \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.azimuth_angle),\n      expression: \"azimuth_angle\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.azimuth_angle)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.azimuth_angle = $event.target.value\n      }\n    }\n  })], 1)]), _vm._v(\" \"), _c('p', [_c('label', {\n    staticClass: \"input-text\"\n  }, [_vm._v(\"\\n          Tilt Slope\\n          \"), _c('Info', [_vm._v(\"\\n            Slope of the ground plane from horizontal. For example, a value of 1 implies a 45 angle.\\n          \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.tilt_slope),\n      expression: \"tilt_slope\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.tilt_slope)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.tilt_slope = $event.target.value\n      }\n    }\n  })], 1)])]), _vm._v(\" \"), _c('button', {\n    staticClass: \"button\",\n    on: {\n      \"click\": function($event) {\n        return _vm.$emit('close')\n      }\n    }\n  }, [_vm._v(\"Okay\")])], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-2aef9e5e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modals/Settings.vue\n// module id = 667\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"edit-bar\"\n  }, [_vm._l((_vm.columns), function(col) {\n    return _c('span', {\n      key: col.name,\n      attrs: {\n        \"data-column\": col.name\n      }\n    }, [_c('GenericInput', {\n      attrs: {\n        \"col\": col,\n        \"row\": _vm.row,\n        \"onChange\": _vm.updateRow.bind(null, _vm.row.id, col.name)\n      }\n    })], 1)\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"destroy\",\n    on: {\n      \"click\": function($event) {\n        return _vm.destroy()\n      }\n    }\n  }, [_c('Delete', {\n    staticClass: \"button\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-306f4abb!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditBar.vue\n// module id = 668\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"input-select\"\n  }, [(!_vm.disabled) ? _c('button', {\n    class: (\"texture-\" + _vm.value),\n    on: {\n      \"click\": function($event) {\n        _vm.open = !_vm.open\n      },\n      \"blur\": function($event) {\n        _vm.open = false\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"svg-background\"\n  }), _vm._v(\" \"), _c('svg', {\n    attrs: {\n      \"xmlns\": \"http://www.w3.org/2000/svg\",\n      \"viewBox\": \"0 0 13 14\",\n      \"height\": \"10px\"\n    }\n  }, [_c('path', {\n    attrs: {\n      \"d\": \"M.5 0v14l11-7-11-7z\",\n      \"transform\": \"translate(13) rotate(90)\"\n    }\n  })])]) : _vm._e(), _vm._v(\" \"), (_vm.open) ? _c('Portal', {\n    attrs: {\n      \"to\": \"texture-options\"\n    }\n  }, [_c('ul', {\n    style: (_vm.ulStyle())\n  }, _vm._l((_vm.textures), function(texture) {\n    return _c('li', {\n      key: texture,\n      class: ( _obj = {\n        selected: texture === _vm.value,\n      }, _obj[(\"texture-\" + texture)] = true, _obj ),\n      on: {\n        \"mousedown\": function($event) {\n          return _vm.choose(texture)\n        }\n      }\n    })\n    var _obj;\n  }), 0)]) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-309036ee!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/TextureSelect.vue\n// module id = 669\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ModalBase', {\n    attrs: {\n      \"title\": (\"Save \" + _vm.saveWhat + \" as\")\n    },\n    on: {\n      \"close\": function($event) {\n        return _vm.$emit('close')\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"input-text\"\n  }, [_c('input', {\n    ref: \"downloadName\",\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"download-name\",\n      \"spellcheck\": \"false\"\n    },\n    domProps: {\n      \"value\": _vm.saveWhat.toLowerCase()\n    },\n    on: {\n      \"keyup\": function($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) { return null; }\n        return _vm.downloadFile.apply(null, arguments)\n      }\n    }\n  }), _vm._v(\"\\n    .json\\n    \"), _c('button', {\n    staticClass: \"download-button\",\n    on: {\n      \"click\": _vm.downloadFile\n    }\n  }, [_vm._v(\"Download\")])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3c3490f3!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modals/SaveAsModal.vue\n// module id = 670\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"map-container\"\n    }\n  }, [_c('div', {\n    ref: \"map\",\n    style: ({\n      'pointer-events': _vm.tool === 'Map' ? 'all' : 'none'\n    }),\n    attrs: {\n      \"id\": \"map\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tool === 'Map'),\n      expression: \"tool === 'Map'\"\n    }],\n    attrs: {\n      \"id\": \"autocomplete\"\n    }\n  }, [_c('span', {\n    staticClass: \"input-text\"\n  }, [_c('input', {\n    ref: \"addressSearch\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Search for a location\"\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tool === 'Map'),\n      expression: \"tool === 'Map'\"\n    }],\n    attrs: {\n      \"id\": \"help-text\"\n    }\n  }, [_c('p', [_vm._v(\"Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.finishSetup\n    }\n  }, [_vm._v(\"Done\")])]), _vm._v(\" \"), (_vm.mapModalVisible && !_vm.mapInitialized) ? _c('map-modal', {\n    on: {\n      \"close\": function($event) {\n        _vm.mapModalVisible = false;\n        _vm.showReticle()\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('svg', {\n    attrs: {\n      \"id\": \"reticle\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3d99eee3!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Canvas/Map.vue\n// module id = 671\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('nav', {\n    attrs: {\n      \"id\": \"toolbar\"\n    }\n  }, [_c('section', {\n    attrs: {\n      \"id\": \"top\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"navigation-head\"\n    }\n  }, [(_vm.showImportExport) ? _c('div', {\n    staticClass: \"import-export-buttons\"\n  }, [_c('input', {\n    ref: \"importLibrary\",\n    attrs: {\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": function($event) {\n        return _vm.importDataAsFile($event, 'library')\n      }\n    }\n  }), _vm._v(\" \"), _c('input', {\n    ref: \"importInput\",\n    attrs: {\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": function($event) {\n        return _vm.importDataAsFile($event, 'floorplan')\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"open floorplan\"\n    }\n  }, [_c('open-floorplan-svg', {\n    staticClass: \"button\",\n    attrs: {\n      \"id\": \"import\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.$refs.importInput.click()\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"save floorplan\"\n    }\n  }, [_c('save-floorplan-svg', {\n    staticClass: \"button\",\n    attrs: {\n      \"id\": \"export\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.exportData.apply(null, arguments)\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"import library\"\n    }\n  }, [_c('import-library-svg', {\n    staticClass: \"button\",\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.$refs.importLibrary.click()\n      }\n    }\n  })], 1)]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"undo-redo\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"title\": \"undo\"\n    }\n  }, [_c('undo-svg', {\n    staticClass: \"button\",\n    class: {\n      'disabled': !_vm.timetravelInitialized\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.undo.apply(null, arguments)\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"redo\"\n    }\n  }, [_c('redo-svg', {\n    staticClass: \"button\",\n    class: {\n      'disabled': !_vm.timetravelInitialized\n    },\n    attrs: {\n      \"disabled\": !_vm.timetravelInitialized\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.redo.apply(null, arguments)\n      }\n    }\n  })], 1)])]), _vm._v(\" \"), _c('ul', {\n    attrs: {\n      \"id\": \"mode-tabs\"\n    }\n  }, [_c('li', {\n    staticClass: \"tab\",\n    class: {\n      active: _vm.modeTab === 'floorplan'\n    },\n    attrs: {\n      \"data-modetab\": \"floorplan\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.modeTab = 'floorplan'\n      }\n    }\n  }, [_c('span', [_vm._v(\"\\n          Floorplan\\n          \"), _c('tab-floorplan-svg', {\n    staticClass: \"icon\"\n  })], 1)]), _vm._v(\" \"), _c('li', {\n    staticClass: \"tab\",\n    class: {\n      active: _vm.modeTab === 'assign'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.modeTab = 'assign'\n      }\n    }\n  }, [_c('span', [_vm._v(\"\\n          Assignments\\n          \"), _c('tab-assign-svg', {\n    staticClass: \"icon\"\n  })], 1)]), _vm._v(\" \"), _c('li', {\n    staticClass: \"tab\",\n    class: {\n      active: _vm.modeTab === 'components'\n    },\n    attrs: {\n      \"data-modetab\": \"components\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.modeTab = 'components'\n      }\n    }\n  }, [_c('span', [_vm._v(\"\\n          Components\\n          \"), _c('tool-component-svg', {\n    staticClass: \"icon\"\n  })], 1)]), _vm._v(\" \"), _vm._m(0)]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"grid-settings\"\n    }\n  }, [_c('div', {\n    staticClass: \"input-checkbox\"\n  }, [_c('label', [_vm._v(\"Story Below\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.previousStoryVisible),\n      expression: \"previousStoryVisible\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.previousStoryVisible) ? _vm._i(_vm.previousStoryVisible, null) > -1 : (_vm.previousStoryVisible)\n    },\n    on: {\n      \"change\": function($event) {\n        var $$a = _vm.previousStoryVisible,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.previousStoryVisible = $$a.concat([$$v]))\n          } else {\n            $$i > -1 && (_vm.previousStoryVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.previousStoryVisible = $$c\n        }\n      }\n    }\n  })]), _vm._v(\" \"), (_vm.mapEnabled) ? _c('div', {\n    staticClass: \"input-checkbox\"\n  }, [_c('label', [_vm._v(\"map\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.mapVisible),\n      expression: \"mapVisible\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.mapVisible) ? _vm._i(_vm.mapVisible, null) > -1 : (_vm.mapVisible)\n    },\n    on: {\n      \"change\": function($event) {\n        var $$a = _vm.mapVisible,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.mapVisible = $$a.concat([$$v]))\n          } else {\n            $$i > -1 && (_vm.mapVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.mapVisible = $$c\n        }\n      }\n    }\n  })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-checkbox\"\n  }, [_c('label', [_vm._v(\"grid\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.gridVisible),\n      expression: \"gridVisible\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.gridVisible) ? _vm._i(_vm.gridVisible, null) > -1 : (_vm.gridVisible)\n    },\n    on: {\n      \"change\": function($event) {\n        var $$a = _vm.gridVisible,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.gridVisible = $$a.concat([$$v]))\n          } else {\n            $$i > -1 && (_vm.gridVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.gridVisible = $$c\n        }\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-number\"\n  }, [_c('label', [_vm._v(\"spacing\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number.lazy\",\n      value: (_vm.spacing),\n      expression: \"spacing\",\n      modifiers: {\n        \"number\": true,\n        \"lazy\": true\n      }\n    }],\n    domProps: {\n      \"value\": (_vm.spacing)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.spacing = _vm._n($event.target.value)\n      },\n      \"blur\": function($event) {\n        return _vm.$forceUpdate()\n      }\n    }\n  }), _vm._v(\" \"), (!_vm.allowSettingUnits) ? _c('label', [_vm._v(_vm._s(_vm.rwUnits))]) : _vm._e()]), _vm._v(\" \"), (_vm.allowSettingUnits) ? _c('PrettySelect', {\n    ref: \"unitsSelect\",\n    attrs: {\n      \"options\": ['ft', 'm'],\n      \"value\": _vm.rwUnits\n    },\n    on: {\n      \"change\": _vm.updateUnits\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"settings\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.showGroundPropsModal = true\n      }\n    }\n  }, [_c('SettingsGear', {\n    staticClass: \"button\"\n  })], 1)], 1)]), _vm._v(\" \"), _c('section', {\n    class: _vm.modeTab,\n    attrs: {\n      \"id\": \"bottom\"\n    }\n  }, [(_vm.modeTab === 'floorplan') ? [_c('div', {\n    attrs: {\n      \"id\": \"instructions\"\n    }\n  }, [_vm._v(\"Draw a floorplan and import images\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"tools-list tools\",\n    attrs: {\n      \"id\": \"drawing-tools\"\n    }\n  }, [_c('div', {\n    class: {\n      active: _vm.tool === 'Rectangle'\n    },\n    attrs: {\n      \"data-tool\": \"Rectangle\",\n      \"title\": \"Rectangle\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tool = 'Rectangle'\n      }\n    }\n  }, [_c('tool-draw-rectangle-svg', {\n    staticClass: \"button\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    class: {\n      active: _vm.tool === 'Polygon'\n    },\n    attrs: {\n      \"data-tool\": \"Polygon\",\n      \"title\": \"Polygon\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tool = 'Polygon'\n      }\n    }\n  }, [_c('tool-draw-polygon-svg', {\n    staticClass: \"button\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    class: {\n      active: _vm.tool === 'Fill'\n    },\n    attrs: {\n      \"data-tool\": \"Fill\",\n      \"title\": \"Fill\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tool = 'Fill'\n      }\n    }\n  }, [_c('tool-fill-svg', {\n    staticClass: \"button\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    class: {\n      active: _vm.tool === 'Eraser'\n    },\n    attrs: {\n      \"data-tool\": \"Eraser\",\n      \"title\": \"Eraser\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tool = 'Eraser'\n      }\n    }\n  }, [_c('tool-erase-svg', {\n    staticClass: \"button\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    class: {\n      active: _vm.tool === 'Image'\n    },\n    attrs: {\n      \"data-tool\": \"Image\",\n      \"title\": \"Image\"\n    },\n    on: {\n      \"click\": _vm.setImageTool\n    }\n  }, [_c('tool-image-svg', {\n    staticClass: \"button\"\n  })], 1)])] : _vm._e(), _vm._v(\" \"), (_vm.modeTab === 'components') ? [_c('div', {\n    attrs: {\n      \"id\": \"instructions\"\n    }\n  }, [(!_vm.currentComponentDefinition) ? _c('span', [_vm._v(\"Add fenestration, daylighting, and PV\")]) : _c('span', [_vm._v(\"Click to place a \" + _vm._s(_vm.currentComponentDefinition.name))])]), _vm._v(\" \"), _c('ComponentInstanceEditBar')] : _vm._e(), _vm._v(\" \"), (_vm.modeTab === 'assign') ? [_c('div', {\n    attrs: {\n      \"id\": \"instructions\"\n    }\n  }, [_vm._v(\"Assign thermal zones, etc, to spaces\")])] : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"grid-tools\"\n    }\n  }, [_c('RenderByDropdown'), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"zoom to fit\"\n    }\n  }, [_c('ZoomToFitSvg', {\n    staticClass: \"button\",\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.zoomToFit.apply(null, arguments)\n      }\n    }\n  })], 1)], 1)], 2), _vm._v(\" \"), _c('section', {\n    staticClass: \"modals\"\n  }, [(_vm.showSaveModal) ? _c('SaveAsModal', {\n    attrs: {\n      \"saveWhat\": _vm.thingWereSaving,\n      \"dataToDownload\": _vm.dataToDownload\n    },\n    on: {\n      \"close\": function () {\n        _vm.showSaveModal = false;\n        _vm.thingWereSaving = '';\n      }\n    }\n  }) : (_vm.showGroundPropsModal) ? _c('Settings', {\n    on: {\n      \"close\": function($event) {\n        _vm.showGroundPropsModal = false\n      }\n    }\n  }) : _vm._e()], 1)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('li', [_c('span')])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-40563b8d!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Toolbar.vue\n// module id = 672\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.showInstanceEditor) ? _c('EditBar', {\n    attrs: {\n      \"row\": _vm.componentInstance,\n      \"columns\": _vm.visibleColumns,\n      \"updateRow\": _vm.modifyComponentInstance,\n      \"destroy\": _vm.destroyComponent\n    }\n  }) : _vm._e()\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-46185816!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ComponentInstanceEditBar.vue\n// module id = 673\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"editable-table\"\n  }, [_c('RecycleScroller', {\n    staticClass: \"scroller\",\n    attrs: {\n      \"id\": \"recycle-scroller\",\n      \"items\": _vm.sortedRows,\n      \"item-size\": 70\n    },\n    nativeOn: {\n      \"scroll\": function($event) {\n        _vm.wrapperScrollLeft = $event.target.scrollLeft\n      }\n    },\n    scopedSlots: _vm._u([{\n      key: \"before\",\n      fn: function() {\n        return [_c('div', {\n          staticClass: \"flex-row fixed\",\n          style: ({\n            '-webkit-transform': 'translateX(' + -_vm.wrapperScrollLeft + 'px)',\n            transform: 'translateX(' + -_vm.wrapperScrollLeft + 'px)',\n            'clip-path': (\"polygon(\" + _vm.wrapperScrollLeft + \"px 0%, 100% 0%, 100% 100%, \" + _vm.wrapperScrollLeft + \"px 100%)\"),\n          }),\n          attrs: {\n            \"id\": \"fixedHeader\"\n          }\n        }, [_c('div', {\n          staticClass: \"checkbox-header\"\n        }), _vm._v(\" \"), _vm._l((_vm.visibleColumns), function(col) {\n          return _c('div', {\n            key: col.name,\n            staticClass: \"headers\",\n            class: {\n              active: _vm.sortKey === col.name\n            },\n            attrs: {\n              \"fixed\": col.fixed,\n              \"id\": col.displayName.replace(/\\s/g, ''),\n              \"data-column\": col.name,\n              \"prop\": col.name,\n              \"label\": col.displayName,\n              \"class-name\": (\"column__\" + (col.name)),\n              \"min-width\": col.width || 165\n            },\n            on: {\n              \"click\": function($event) {\n                return _vm.sortBy(col.name)\n              }\n            }\n          }, [_vm._v(\"\\n          \" + _vm._s(col.displayName) + \"\\n          \"), (\n            _vm.sortKey !== col.name || (_vm.sortKey === col.name && _vm.sortDescending)\n          ) ? _c('i', {\n            staticClass: \"icon-chevron-down\"\n          }) : _vm._e(), _vm._v(\" \"), (_vm.sortKey === col.name && !_vm.sortDescending) ? _c('i', {\n            staticClass: \"icon-chevron-up\"\n          }) : _vm._e()])\n        })], 2)]\n      },\n      proxy: true\n    }, {\n      key: \"default\",\n      fn: function(ref) {\n        var item = ref.item;\n\n        return [_c('div', {\n          staticClass: \"cell table-data flex-row table-first-column\"\n        }, [_c('div', {\n          staticClass: \"select\",\n          on: {\n            \"click\": function($event) {\n              $event.stopPropagation();\n              return _vm.selectRow(item)\n            }\n          }\n        }, [_c('input', {\n          attrs: {\n            \"type\": \"radio\"\n          },\n          domProps: {\n            \"checked\": _vm.selectedItemId === item.id\n          }\n        })]), _vm._v(\" \"), _c('generic-input', {\n          attrs: {\n            \"col\": _vm.visibleColumns[0],\n            \"row\": item,\n            \"onChange\": _vm.updateRow.bind(null, item.id, _vm.visibleColumns[0].name)\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          key: item.id,\n          staticClass: \"flex-row\",\n          attrs: {\n            \"fixed\": item.fixed,\n            \"data-column\": item.name,\n            \"prop\": item.name,\n            \"label\": item.displayName,\n            \"class-name\": (\"column__\" + (item.name)),\n            \"min-width\": item.width || 154\n          }\n        }, [_vm._l((_vm.visibleColumns.slice(1)), function(col) {\n          return _c('div', {\n            key: col.name,\n            staticClass: \"cell table-data\",\n            attrs: {\n              \"data-column\": col.name,\n              \"prop\": col.name,\n              \"label\": col.displayName\n            }\n          }, [_c('generic-input', {\n            attrs: {\n              \"col\": col,\n              \"row\": item,\n              \"onChange\": _vm.updateRow.bind(null, item.id, col.name)\n            }\n          })], 1)\n        }), _vm._v(\" \"), _c('div', [_c('div', {\n          staticClass: \"duplicate\",\n          attrs: {\n            \"title\": \"duplicate\"\n          },\n          on: {\n            \"click\": function($event) {\n              $event.stopPropagation();\n              return _vm.duplicateRow(item)\n            }\n          }\n        }, [_c('Copy', {\n          staticClass: \"button\"\n        })], 1)]), _vm._v(\" \"), _c('div', [_c('div', {\n          staticClass: \"destroy\",\n          attrs: {\n            \"title\": \"destroy\"\n          },\n          on: {\n            \"click\": function($event) {\n              $event.stopPropagation();\n              return _vm.deleteRow(item)\n            }\n          }\n        }, [_c('Delete', {\n          staticClass: \"button\"\n        })], 1)])], 2)]\n      }\n    }])\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-4b0808dc!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditableTable.vue\n// module id = 674\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('input', {\n    ref: \"imageInput\",\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/jpeg,image/png,image/svg,image/gif\",\n      \"id\": \"upload-image-input\"\n    },\n    on: {\n      \"change\": _vm.uploadImage\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5190cdce!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ImageUpload.vue\n// module id = 675\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: {\n      'expandable-drawer': true,\n      expanded: _vm.expanded,\n    }\n  }, [_c('p', {\n    staticClass: \"title\",\n    on: {\n      \"click\": function($event) {\n        _vm.expanded = !_vm.expanded\n      }\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.caret) + \" \" + _vm._s(_vm.title) + \"\\n  \")]), _vm._v(\" \"), (_vm.expanded) ? _c('p', [_vm._t(\"default\")], 2) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5252b93a!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ExpandableDrawer.vue\n// module id = 676\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('svg', {\n    attrs: {\n      \"id\": \"pattern-defs\"\n    }\n  }, [_c('defs', [_vm._l((_vm.modifiers), function(color, modifier) {\n    return [_c('pattern', {\n      attrs: {\n        \"id\": (\"circles-2\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"5\",\n        \"height\": \"5\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"5\",\n        \"height\": \"5\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.7\"\n      }\n    }), _vm._v(\" \"), _c('circle', {\n      attrs: {\n        \"cx\": \"1.5\",\n        \"cy\": \"1.5\",\n        \"r\": \"1.5\",\n        \"fill\": color\n      }\n    })]), _vm._v(\" \"), _c('pattern', {\n      attrs: {\n        \"id\": (\"circles-5\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"9\",\n        \"height\": \"9\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"9\",\n        \"height\": \"9\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.7\"\n      }\n    }), _vm._v(\" \"), _c('circle', {\n      attrs: {\n        \"cx\": \"3\",\n        \"cy\": \"3\",\n        \"r\": \"3\",\n        \"fill\": color\n      }\n    })]), _vm._v(\" \"), _c('pattern', {\n      attrs: {\n        \"id\": (\"circles-8\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"10\",\n        \"height\": \"10\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"10\",\n        \"height\": \"10\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.7\"\n      }\n    }), _vm._v(\" \"), _c('circle', {\n      attrs: {\n        \"cx\": \"4.5\",\n        \"cy\": \"4.5\",\n        \"r\": \"4.5\",\n        \"fill\": color\n      }\n    })]), _vm._v(\" \"), _c('pattern', {\n      attrs: {\n        \"id\": (\"diagonal-stripe-1\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"10\",\n        \"height\": \"10\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"10\",\n        \"height\": \"10\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.7\"\n      }\n    }), _vm._v(\" \"), _c('path', {\n      attrs: {\n        \"d\": \"M-1,1 l2,-2\\n                 M0,10 l10,-10\\n                 M9,11 l2,-2\",\n        \"stroke\": color,\n        \"stroke-width\": \"1\"\n      }\n    })]), _vm._v(\" \"), _c('pattern', {\n      attrs: {\n        \"id\": (\"diagonal-stripe-4\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"10\",\n        \"height\": \"10\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"10\",\n        \"height\": \"10\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.7\"\n      }\n    }), _vm._v(\" \"), _c('path', {\n      attrs: {\n        \"d\": \"M-1,1 l2,-2\\n                 M0,10 l10,-10\\n                 M9,11 l2,-2\",\n        \"stroke\": color,\n        \"stroke-width\": \"3\"\n      }\n    })]), _vm._v(\" \"), _c('pattern', {\n      attrs: {\n        \"id\": (\"diagonal-stripe-6\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"10\",\n        \"height\": \"10\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"10\",\n        \"height\": \"10\",\n        \"fill\": color\n      }\n    }), _vm._v(\" \"), _c('path', {\n      attrs: {\n        \"d\": \"M-1,1 l2,-2\\n                 M0,10 l10,-10\\n                 M9,11 l2,-2\",\n        \"stroke\": \"white\",\n        \"stroke-width\": \"1\"\n      }\n    })]), _vm._v(\" \"), _c('pattern', {\n      attrs: {\n        \"id\": (\"dots-5\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"10\",\n        \"height\": \"10\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"10\",\n        \"height\": \"10\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.7\"\n      }\n    }), _vm._v(\" \"), _c('rect', {\n      attrs: {\n        \"x\": \"0\",\n        \"y\": \"0\",\n        \"width\": \"5\",\n        \"height\": \"5\",\n        \"fill\": color\n      }\n    })]), _vm._v(\" \"), _c('pattern', {\n      attrs: {\n        \"id\": (\"dots-8\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"10\",\n        \"height\": \"10\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"10\",\n        \"height\": \"10\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.7\"\n      }\n    }), _vm._v(\" \"), _c('rect', {\n      attrs: {\n        \"x\": \"0\",\n        \"y\": \"0\",\n        \"width\": \"8\",\n        \"height\": \"8\",\n        \"fill\": color\n      }\n    })]), _vm._v(\" \"), _c('pattern', {\n      attrs: {\n        \"id\": (\"crosshatch\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"8\",\n        \"height\": \"8\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"8\",\n        \"height\": \"8\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.7\"\n      }\n    }), _vm._v(\" \"), _c('path', {\n      attrs: {\n        \"d\": \"M0 0L8 8ZM8 0L0 8Z\",\n        \"stroke-width\": \"0.5\",\n        \"stroke\": color,\n        \"stroke-opacity\": \"0.8\"\n      }\n    })]), _vm._v(\" \"), _c('pattern', {\n      attrs: {\n        \"id\": (\"vertical-line\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"4\",\n        \"height\": \"49\"\n      }\n    }, [_c('rect', {\n      attrs: {\n        \"width\": \"4\",\n        \"height\": \"50\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.8\"\n      }\n    }), _vm._v(\" \"), _c('rect', {\n      attrs: {\n        \"width\": \"2\",\n        \"height\": \"50\",\n        \"fill\": \"#fff\",\n        \"fill-opacity\": \"0.5\"\n      }\n    }), _vm._v(\" \"), _c('rect', {\n      attrs: {\n        \"x\": \"2\",\n        \"width\": \"1\",\n        \"height\": \"50\",\n        \"fill\": color,\n        \"fill-opacity\": \"0.5\"\n      }\n    })])]\n  })], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-58b79196!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Textures.vue\n// module id = 677\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"layout-navigation\"\n    }\n  }, [_c('nav', {\n    attrs: {\n      \"id\": \"navigation\"\n    }\n  }, [_c('section', {\n    attrs: {\n      \"id\": \"selections\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"list\"\n    }\n  }, [_c('Library', {\n    attrs: {\n      \"objectTypes\": ['stories'],\n      \"mode\": 'stories',\n      \"compact\": _vm.libraryExpanded !== 'stories'\n    },\n    on: {\n      \"toggleCompact\": function($event) {\n        _vm.libraryExpanded = (_vm.libraryExpanded === 'stories' ? false : 'stories')\n      }\n    }\n  }), _vm._v(\" \"), _c('Library', {\n    attrs: {\n      \"addNewOnHotkey\": \"true\",\n      \"objectTypes\": _vm.objectTypesForTab,\n      \"mode\": _vm.subselectionType,\n      \"searchAvailable\": true,\n      \"compact\": _vm.libraryExpanded !== 'subselection'\n    },\n    on: {\n      \"changeMode\": function (newMode) {\n        _vm.subselectionType = newMode;\n      },\n      \"toggleCompact\": function($event) {\n        _vm.libraryExpanded = (_vm.libraryExpanded === 'subselection' ? false : 'subselection')\n      }\n    }\n  })], 1)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-64bc751c!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Navigation.vue\n// module id = 678\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"library-select\"\n  }, [_c('div', {\n    staticClass: \"rows\"\n  }, _vm._l((_vm.rows), function(item) {\n    return _c('div', {\n      key: item.id,\n      class: {\n        active: _vm.selectedItemId === item.id\n      },\n      attrs: {\n        \"data-id\": item.id\n      },\n      on: {\n        \"click\": function($event) {\n          return _vm.selectItem(item)\n        }\n      }\n    }, [_c('span', {\n      style: ({\n        'background-color': item.color\n      })\n    }), _vm._v(\"\\n        \" + _vm._s(item.name) + \"\\n        \"), _c('div', {\n      staticClass: \"buttons\"\n    }, [_c('a', {\n      staticClass: \"duplicate\",\n      attrs: {\n        \"title\": \"duplicate\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          return _vm.duplicateRow(item)\n        }\n      }\n    }, [_c('Copy', {\n      staticClass: \"button\"\n    })], 1), _vm._v(\" \"), _c('a', {\n      staticClass: \"destroy\",\n      attrs: {\n        \"title\": \"delete\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          return _vm.destroyItem(item)\n        }\n      }\n    }, [_c('Delete', {\n      staticClass: \"button\"\n    })], 1)])])\n  }), 0)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-6bbb2c29!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/LibrarySelect.vue\n// module id = 679\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"inspector\"\n    }\n  }, [_c('section', {\n    staticClass: \"list\",\n    attrs: {\n      \"id\": \"geometry-list\"\n    }\n  }, [_vm._l((_vm.currentStoryGeometry.faces), function(face) {\n    return (!_vm.currentSpace && !_vm.currentShading) ? [_c('header', [_c('h3', [_vm._v(\"Face \" + _vm._s(face.id))])]), _vm._v(\" \"), _vm._l((face.edgeRefs), function(edgeRef) {\n      return _c('div', {\n        staticClass: \"list-item\"\n      }, [_vm._v(\"\\n        edge \" + _vm._s(edgeRef.edge_id) + \" \" + _vm._s(edgeRef.reverse ? 'reversed ' : '') + \"\\n        \"), _c('br'), _vm._v(\"startpoint \" + _vm._s(_vm.startpoint(edgeRef)) + \"\\n        \"), _c('br'), _vm._v(\"endpoint \" + _vm._s(_vm.endpoint(edgeRef)) + \"\\n      \")])\n    })] : _vm._e()\n  }), _vm._v(\" \"), (_vm.currentSubSelectionFace) ? [_c('header', [_c('h3', [_vm._v(\"Face \" + _vm._s(_vm.currentSubSelectionFace.id) + \" on \" + _vm._s(_vm.currentSpace ? _vm.currentSpace.name : _vm.currentShading.name))])]), _vm._v(\" \"), _vm._l((_vm.currentSubSelectionFace.edgeRefs), function(edgeRef) {\n    return _c('div', {\n      staticClass: \"list-item\"\n    }, [_vm._v(\"\\n        edge \" + _vm._s(edgeRef.edge_id) + \" \" + _vm._s(edgeRef.reverse ? 'reversed ' : '') + \"\\n        \"), _c('br'), _vm._v(\"startpoint \" + _vm._s(_vm.startpoint(edgeRef)) + \"\\n        \"), _c('br'), _vm._v(\"endpoint \" + _vm._s(_vm.endpoint(edgeRef)) + \"\\n      \")])\n  })] : _vm._e()], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-73ec12ee!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Inspector.vue\n// module id = 680\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"editable-select-list\",\n    class: {\n      'expanded': !_vm.compact\n    },\n    attrs: {\n      \"data-object-type\": _vm.selectedObjectType\n    }\n  }, [_c('div', {\n    staticClass: \"controls\"\n  }, [_c('div', {\n    staticClass: \"control-group\"\n  }, [(_vm.objectTypes.length > 1) ? _c('PrettySelect', {\n    attrs: {\n      \"options\": _vm.objectTypes,\n      \"value\": _vm.selectedObjectType\n    },\n    on: {\n      \"change\": function (val) { return _vm.$emit('selectObjectType', val); }\n    }\n  }) : _c('span', [_vm._v(_vm._s(_vm.objectTypes[0].display || _vm.objectTypes[0].displayName))]), _vm._v(\" \"), (_vm.addRow) ? _c('a', {\n    staticClass: \"add-new\",\n    attrs: {\n      \"title\": \"Create new\"\n    },\n    on: {\n      \"click\": _vm.addRow\n    }\n  }, [_c('AddNew', {\n    staticClass: \"button\"\n  })], 1) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"control-group\"\n  }, [_c('a', {\n    attrs: {\n      \"title\": _vm.compact ? 'expand' : 'contract'\n    },\n    on: {\n      \"click\": _vm.toggleCompact\n    }\n  }, [_c('DoubleArrows', {\n    staticClass: \"button\",\n    attrs: {\n      \"transform\": _vm.compact ? '' : 'scale(-1, 1)'\n    }\n  })], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-text search-spot\"\n  }, [(_vm.searchAvailable) ? _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.search),\n      expression: \"search\"\n    }],\n    staticClass: \"search-bar\",\n    attrs: {\n      \"placeholder\": \"search\"\n    },\n    domProps: {\n      \"value\": (_vm.search)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.search = $event.target.value\n      }\n    }\n  }) : _vm._e()]), _vm._v(\" \"), (_vm.compact) ? _c('LibrarySelect', {\n    attrs: {\n      \"rows\": _vm.searchedRows,\n      \"selectItem\": _vm.selectRow,\n      \"destroyItem\": _vm.destroyRow,\n      \"selectedItemId\": _vm.selectedRowId,\n      \"duplicateRow\": _vm.duplicateRow\n    }\n  }) : _c('EditableTable', {\n    attrs: {\n      \"selectRow\": _vm.selectRow,\n      \"selectedItemId\": _vm.selectedRowId,\n      \"columns\": _vm.visibleColumns,\n      \"rows\": _vm.searchedRows,\n      \"deleteRow\": _vm.destroyRow,\n      \"updateRow\": _vm.editRow,\n      \"duplicateRow\": _vm.duplicateRow\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-746cecc8!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditableSelectList.vue\n// module id = 681\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (!_vm.isChrome) ? _c('p', {\n    staticClass: \"non-chrome-warning\"\n  }, [_vm._v(\"\\n  Warning. This web-app is currently only tested against recent versions of Chrome. \\n\")]) : _vm._e()\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-7f3bef5a!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/NonChromeWarning.vue\n// module id = 682\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"render-by\"\n  }, [_c('PrettySelect', {\n    attrs: {\n      \"label\": \"View By\",\n      \"options\": _vm.renderableOptions,\n      \"value\": _vm.currentMode\n    },\n    on: {\n      \"change\": function (val) {\n        _vm.currentMode = val\n      }\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-8cb59cc8!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/RenderByDropdown.vue\n// module id = 683\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"input-select\"\n  }, [(_vm.label) ? _c('label', [_vm._v(_vm._s(_vm.label))]) : _vm._e(), _vm._v(\" \"), _c('select', {\n    ref: \"select\",\n    staticClass: \"pretty-select\",\n    attrs: {\n      \"disabled\": _vm.disabled\n    },\n    on: {\n      \"change\": _vm.handleChange\n    }\n  }, _vm._l((_vm.normalizedOpts), function(opt) {\n    return _c('option', {\n      domProps: {\n        \"value\": opt.val,\n        \"selected\": opt.val === _vm.value\n      }\n    }, [_vm._v(_vm._s(opt.display))])\n  }), 0), _vm._v(\" \"), _c('svg', {\n    attrs: {\n      \"xmlns\": \"http://www.w3.org/2000/svg\",\n      \"viewBox\": \"0 0 13 14\",\n      \"height\": \"10px\"\n    }\n  }, [_c('path', {\n    attrs: {\n      \"d\": \"M.5 0v14l11-7-11-7z\",\n      \"transform\": \"translate(13) rotate(90)\"\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-8f6e6820!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/PrettySelect.vue\n// module id = 684\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"info\"\n  }, [_c('InfoIcon', {\n    staticClass: \"button\"\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"tooltip-text\"\n  }, [_vm._t(\"default\")], 2)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-987d60e8!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Info.vue\n// module id = 685\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('EditableSelectList', {\n    attrs: {\n      \"selectedObjectType\": _vm.mode,\n      \"objectTypes\": _vm.objectTypesDisplay,\n      \"rows\": _vm.rows,\n      \"columns\": _vm.columns,\n      \"selectedRowId\": _vm.selectedObject && _vm.selectedObject.id,\n      \"selectRow\": function (row) {\n        _vm.selectedObject = row;\n      },\n      \"addRow\": _vm.addRowPermitted && _vm.createObject,\n      \"editRow\": _vm.modifyObject,\n      \"destroyRow\": _vm.destroyObject,\n      \"duplicateRow\": _vm.duplicateRow,\n      \"searchAvailable\": _vm.searchAvailable,\n      \"compact\": _vm.compact\n    },\n    on: {\n      \"toggleCompact\": function (c) { return _vm.$emit('toggleCompact', c); },\n      \"selectObjectType\": _vm.changeMode\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-a0779666!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Library.vue\n// module id = 686\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"gridParent\",\n    class: {\n      'reduce-ticks': _vm.reduceTicks\n    },\n    style: ({\n      'pointer-events': (_vm.currentTool === 'Drag' || _vm.currentTool === 'Map') ? 'none' : 'auto'\n    }),\n    attrs: {\n      \"id\": \"grid\"\n    }\n  }, [_c('svg', {\n    ref: \"grid\",\n    attrs: {\n      \"id\": \"svg-grid\"\n    }\n  }, [_c('g', {\n    staticClass: \"axis axis--x\"\n  }), _vm._v(\" \"), _c('g', {\n    staticClass: \"axis axis--y\"\n  }), _vm._v(\" \"), _c('g', {\n    staticClass: \"images\",\n    attrs: {\n      \"data-transform-plz\": \"\"\n    }\n  }), _vm._v(\" \"), _c('g', {\n    staticClass: \"polygons\",\n    attrs: {\n      \"data-transform-plz\": \"\"\n    }\n  }), _vm._v(\" \"), _c('g', {\n    staticClass: \"walls\",\n    attrs: {\n      \"data-transform-plz\": \"\"\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-a8e9dfbe!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Grid/Grid.vue\n// module id = 687\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: (\"tool_\" + (_vm.tool.toLowerCase())),\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('toolbar', {\n    class: {\n      'disabled-component': _vm.tool === 'Map'\n    }\n  }), _vm._v(\" \"), _c('div', {\n    class: {\n      'nav-on-top': _vm.navigationExpanded\n    },\n    attrs: {\n      \"id\": \"layout-main\"\n    }\n  }, [_c('navigation', {\n    class: {\n      'disabled-component': _vm.tool === 'Map'\n    },\n    on: {\n      \"expanded\": function (val) {\n        _vm.navigationExpanded = val;\n      }\n    }\n  }), _vm._v(\" \"), _c('main', [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.error || _vm.success),\n      expression: \"error || success\"\n    }],\n    class: {\n      error: _vm.error, success: _vm.success\n    },\n    attrs: {\n      \"id\": \"alert-text\"\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.error || _vm.success))])]), _vm._v(\" \"), _c('canvas-view'), _vm._v(\" \"), _c('grid-view')], 1)], 1), _vm._v(\" \"), _c('ImageUpload'), _vm._v(\" \"), _c('Textures'), _vm._v(\" \"), _c('PortalTarget', {\n    attrs: {\n      \"name\": \"texture-options\"\n    }\n  }), _vm._v(\" \"), _c('PortalTarget', {\n    attrs: {\n      \"name\": \"color-picker\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-c1b60834!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 688\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('aside', [_c('div', {\n    staticClass: \"overlay\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"modal\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('NonChromeWarning'), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('p', [_c('a', {\n    staticClass: \"quickstart-action new-floorplan\",\n    on: {\n      \"click\": function($event) {\n        _vm.mapEnabled = false;\n        _vm.mapVisible = false;\n        _vm.$emit('close')\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"New\")]), _vm._v(\" \"), _c('QuickstartIconNewFloorplan'), _vm._v(\" \"), _c('div', {\n    staticClass: \"explanation\"\n  }, [_vm._v(\"Create a new floorplan\")])], 1)]), _vm._v(\" \"), _c('p', [_c('a', {\n    staticClass: \"quickstart-action\",\n    attrs: {\n      \"disabled\": !_vm.online\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.mapEnabled = true;\n        _vm.tool = 'Map';\n        _vm.$emit('close')\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"New With Map\")]), _vm._v(\" \"), _c('QuickstartIconNewMapFloorplan'), _vm._v(\" \"), _c('div', {\n    staticClass: \"explanation\"\n  }, [_vm._v(\"Create a new floorplan with a map\")])], 1)]), _vm._v(\" \"), _c('p', [_c('a', {\n    staticClass: \"quickstart-action open-floorplan\",\n    attrs: {\n      \"id\": \"import\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.$refs.importInput.click()\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Open\")]), _vm._v(\" \"), _c('QuickstartIconOpenFloorplan'), _vm._v(\" \"), _c('div', {\n    staticClass: \"explanation\"\n  }, [_vm._v(\"Open an existing floorplan\")])], 1)]), _vm._v(\" \"), _c('input', {\n    ref: \"importInput\",\n    attrs: {\n      \"id\": \"importInput\",\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": _vm.importFloorplanAsFile\n    }\n  })])], 1)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('header', [_c('h2', [_vm._v(\"Quickstart\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-d56d6c28!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modals/MapModal.vue\n// module id = 689\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18.4 17.7V5H.6v13h18.2l-.4-.3zM1.6 6h15.8v11L13 13.7l-2.3 1.7L7 11.5 1.8 17h-.2V6z\",\"fill\":\"#fff\"}}),_c('circle',{attrs:{\"cx\":\"9.7\",\"cy\":\"5.4\",\"fill\":\"#39b54a\",\"r\":\"5\"}}),_c('path',{attrs:{\"d\":\"M11.5 4.5h-1.2V3.3c0-.3-.2-.5-.5-.5h-.6c-.3 0-.5.2-.5.5v1.2H7.5c-.3 0-.5.2-.5.5v.6c0 .2.2.4.5.4h1.2v1.2c0 .3.2.5.5.5h.6c.3 0 .5-.2.5-.5V6h1.2c.3 0 .5-.2.5-.5V5c-.1-.3-.3-.5-.5-.5z\",\"fill\":\"#58595b\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/add_image.svg\n// module id = 690\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"10.5\",\"cy\":\"10\",\"fill\":\"#39b54a\",\"r\":\"7.9\"}}),_c('path',{attrs:{\"d\":\"M13.6 8.8h-1.9V6.9c0-.4-.3-.8-.8-.8H10c-.4 0-.8.3-.8.8v1.9H7.3c-.4 0-.8.3-.8.8v.9c0 .4.3.8.8.8h1.9v1.9c0 .4.3.8.8.8h.9c.4 0 .8-.3.8-.8v-1.9h1.9c.4 0 .8-.3.8-.8v-1c-.1-.4-.4-.7-.8-.7z\",\"fill\":\"#58595b\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/add_new.svg\n// module id = 691\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM12.9 5.1c0-.9-.7-1.7-1.7-1.7-.9 0-1.7.7-1.7 1.7 0 .9.7 1.7 1.7 1.7.9 0 1.7-.8 1.7-1.7zm5.3 15.5h-2.9v1.1h7v-1.1h-1.7v-7.3h1.7v-1.1h-9.7v1.1h5.6v7.3zM6 16.7v.1c0 .3.2.5.5.5h1.6v1.5h.3v1l-2 .6v.5h.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1l1.6-.2v.1h.1v.6h.2v.4H9v-1h.1v-.1l1.5.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1h.2v-.5l-2-.5v-1h.3v-1.5h1.9c.3 0 .5-.2.5-.5v-.1c0-.2-.1-.3-.2-.4h1.3l-.8 4c-.1.5.3 1.1.8 1.2.6.1 1.1-.2 1.2-.8l1.1-5.3v-.4c-.1-.6-.5-1-1.1-1h-3.2l.4-1.9h3.9c.2 0 .3 0 .5-.1h4.2v-.5c.1 0 .1-.1.2-.1l.5.2 1.9-5-.6-.2-1.9 4.9h-.1c-.1 0-.2.1-.2.2H16v-.1c0-.5-.4-.9-.9-.9h-3.5l.2-1c.2-.9-.4-1.7-1.3-1.9l-.5-.1c-.8-.4-1.6.1-1.8 1L7.7 11l-.1.7V10c0-.3-.2-.5-.5-.5h-.5c-.3 0-.6.2-.6.5v3.8c0 .3.2.5.5.5v1.8c-.3.1-.5.3-.5.6zm1-1c.1.2.3.4.5.5H7v-.5z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_activity.svg\n// module id = 692\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zm-8.5-.2H6v-19h13v19zm-12.1-.9H18v-17H6.9v17z\"}}),_c('path',{attrs:{\"d\":\"M11.8 15.9h5.8v4.3h-5.8zm0-5.7h5.8v4.3h-5.8zm0-5.8h5.8v4.3h-5.8z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_bldgmodule.svg\n// module id = 693\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM20.6 6.6c0-.1-.1-.2-.1-.3-.1.1-.1.2-.2.2-.7.8-1.3 1.7-2 2.5-.4.5-1 .6-1.5.2-.1-.1-.2-.2-.4-.3-.2-.2-.3-.4-.4-.7 0-.3.1-.6.3-.8.7-.8 1.3-1.7 2-2.5.1-.1.1-.2.2-.2-.1 0-.2 0-.3-.1-1.2-.2-2.5.3-3.4 1.3-.8 1-1 2.4-.6 3.6-.6.8-1.3 1.7-1.9 2.5L9.2 7.7c.2-.1.4-.3.6-.5 1.9-1.4 2.4-.2 2.9-.8.5-.6-2-2.2-4.1-.7-.1.2-.3.4-.5.5-.3-.2-.7-.3-1 0-.2.2-.3.5-.2.8-.6.5-1.1.8-1.3 1l-.1-.1c-.2-.3-.6-.3-.8-.1l-.7.5c-.3.2-.4.5-.2.8L5 10.8c.2.3.6.3.9.1l.7-.5c.3-.2.3-.6.1-.9.2-.2.7-.5 1.3-.9l3.4 4.7-.1.1c-.2.1-.3.3-.3.5-1.2 1.5-2.4 3.1-3.6 4.6-.2.3-.4.7-.3 1.1 0 .4.2.7.5 1 .1.1.2.2.4.3.6.5 1.5.4 2-.3.9-1.2 1.9-2.4 2.8-3.6l2.3 3.5c.3.4.8.4 1.1.2l2.2-1.6c.4-.3.4-.8.2-1.1l-3.4-4.1c.6-.7 1.1-1.5 1.7-2.2 1.2.2 2.4-.3 3.2-1.4.8-1.1 1-2.5.5-3.7z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_constructions.svg\n// module id = 694\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM15.6 10.3l5.4 5.2L10.2 17zm-6.5 6.8l6-7.4-7.4-4-5.9 7.4z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_roof.svg\n// module id = 695\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM3 2.9v18h21v-18H3zm14.6 4H8.8l-2.6-2h14.1l-2.7 2zm-.6 2v6h-7v-6h7zm-9 .6v5.6l-3 2.6V7l3 2.5zm1.6 7.4h8.2l2.6 2H6.9l2.7-2zm9.4-1.8V8.8l3-2.6v11.4l-3-2.5z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_thermalzone.svg\n// module id = 696\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zm-6.4-8.9h-1.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm-15.3 0H4.3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm6.9-6.3c-.3 0-.5-.2-.5-.5V4.8c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm0 14.8c-.3 0-.5-.2-.5-.5v-1.5c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm4.9-4.1l1.1 1m0 .5c-.1 0-.2 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.1.1-.3.1-.4.1zM6.8 7l1.1 1.1m0 .5c-.1 0-.3 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.2 0-.3.1-.4.1zm9.5-.7l1-1m-1 1.5c-.1 0-.3-.1-.4-.2-.2-.2-.2-.5 0-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.3.2zm-10.9 10l1.1-1m-1.1 1.5c-.1 0-.3-.1-.4-.2-.1-.1-.1-.5.1-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.4.2z\"}}),_c('ellipse',{attrs:{\"cx\":\"12.8\",\"cy\":\"12.9\",\"rx\":\"4.8\",\"ry\":\"4.6\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/components_daylighting.svg\n// module id = 697\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 2.9v19h13v-19H6zm12 1v8H7v-8h11zm-11 17v-8h11v8H7zM27.5 22l-3.3-5.5h6.7z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/components_window.svg\n// module id = 698\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.5 6.3l-7.65-4.35v8.7zm-13.35 0L4.5 1.95v8.7z\",\"fill\":\"#39b54a\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/double_arrows.svg\n// module id = 699\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M17.6 12V0h-12v12h12zM16 1.6v8.8H7.2V1.6H16zM3.2 13.6H1.6V16H4v-1.6h-.8zM1.6 5.6h1.6v-.8H4V3.2H1.6zM12.8 14.4H12V16h2.4v-2.4h-1.6zM5.6 14.4h1.6V16H5.6zM8.8 14.4h1.6V16H8.8zM1.6 10.4h1.6V12H1.6zM1.6 7.2h1.6v1.6H1.6z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/fill_icon.svg\n// module id = 700\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 99.999\"}},[_c('path',{attrs:{\"d\":\"M31.001 54.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4zM31.001 35.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4z\"}}),_c('path',{attrs:{\"d\":\"M95.001 70.007h-13V31.192c0-1.85-.853-3.594-2.31-4.73L53.812 6.269a5.999 5.999 0 0 0-7.36-.018l-26.12 20.193a6.003 6.003 0 0 0-2.33 4.748V70.006h-13v4h3v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v14.99c0 3.312 2.687 6 6 6h52c3.313 0 6-2.688 6-6v-14.99h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h3v-3.999zm-71-38.815l26.12-20.193 25.88 20.193V69.998h-52V31.192z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/ground_props_icon.svg\n// module id = 701\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{staticStyle:{\"text-indent\":\"0\",\"text-transform\":\"none\",\"block-progression\":\"tb\"},attrs:{\"d\":\"M20.3 8.5c-2.96 0-5.4 2.44-5.4 5.4v52.2c0 2.96 2.44 5.4 5.4 5.4h59.4c2.96 0 5.4-2.44 5.4-5.4V13.9c0-2.96-2.44-5.4-5.4-5.4zm0 3.6h59.4c1.028 0 1.8.772 1.8 1.8v37.04L70.166 39.607c-.684-.677-1.934-.65-2.588.056L56.244 51.784 38.666 34.206a1.814 1.814 0 0 0-2.475-.056L18.5 50.294V13.9c0-1.028.772-1.8 1.8-1.8zm35.1 3.6c-4.95 0-9 4.05-9 9s4.05 9 9 9 9-4.05 9-9-4.05-9-9-9zm0 3.6c3.004 0 5.4 2.396 5.4 5.4 0 3.004-2.396 5.4-5.4 5.4a5.373 5.373 0 0 1-5.4-5.4c0-3.004 2.396-5.4 5.4-5.4zM37.344 37.975l17.69 17.69c.684.678 1.934.65 2.588-.055l11.334-12.122L81.5 56.03V66.1c0 1.028-.772 1.8-1.8 1.8H20.3c-1.028 0-1.8-.772-1.8-1.8V55.188z\",\"overflow\":\"visible\",\"color\":\"#000\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/image_icon.svg\n// module id = 702\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11.6 18.4c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.8-.9-2.9 1.1-.2 1.5-.2 2.8-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M19.9 7.6c-.5-.7-1-.9-1.3-.6-.2.1-.3.4-.4.8 0 .3-.2.6-.4.8-.5.4-1.3.3-2-.7v-.1c-.7-1-.6-1.9-.1-2.2.2-.2.5-.2.9-.2.4.1.7 0 .9-.1.3-.2.3-.7-.2-1.4-.1-.2-.3-.4-.5-.6-1-1-1.5-1.2-2.5-1.8-.1.1-.1.2-.2.4-.4.8-.6 1.2-1.6 2.1-.2.2-.4.4-.6.5-.9.6-1.4.5-1.6.2-.1-.2-.2-.5-.1-.9.1-.3 0-.7-.2-.9-.3-.4-1.1-.6-2.1.1h-.1c-1 .8-1.1 1.6-.8 2.1.2.2.4.4.8.4s.7.2.8.4c.3.4.2.8-.6 1.4-.2.1-.4.3-.7.4-1.3.7-1.7.7-2.9.9.2 1.1.2 1.6.9 2.9.1.3.3.5.4.7.5.7 1 .9 1.3.6.2-.1.3-.4.4-.8 0-.3.2-.6.4-.8.6-.3 1.4-.2 2.2.8v.1c.7 1 .6 1.8.1 2.2-.2.2-.6.2-.9.2-.4-.1-.7 0-.9.1-.3.2-.3.7.2 1.4.1.2.3.4.5.6 1 1 1.5 1.2 2.5 1.8l9.7-7.1c-.2-1.2-.2-1.7-.8-3-.2-.2-.3-.5-.5-.7zm-4.5.5c.3.4.7.7 1 .9.4.2.8.2 1.1.1.3-.1.5-.2.7-.5.2-.2.3-.5.3-.8 0-.3.2-.5.2-.5.1 0 .3.1.7.6.1.2.3.4.4.6.5 1 .6 1.5.8 2.2 0 .1 0 .2.1.3l-9.3 6.8c-.1 0-.2-.1-.2-.1-.7-.4-1.1-.6-1.9-1.4-.2-.2-.4-.4-.5-.6-.4-.5-.4-.8-.3-.8 0-.1.2-.1.6-.1.3.1.6 0 .9-.1.3-.1.5-.3.7-.6.2-.3.3-.7.2-1.1-.1-.4-.2-.8-.6-1.3v-.1c-.3-.3-.7-.6-1.1-.7-.4-.2-.8-.2-1.1-.1-.6.2-1 .7-1 1.3 0 .3-.2.5-.2.5-.1 0-.3-.1-.7-.6-.1-.2-.3-.4-.4-.6-.5-1-.6-1.5-.8-2.3V9h.1c.8-.2 1.4-.3 2.5-.9 1-.5 1.5-1 1.6-1.6.1-.3 0-.6-.2-.8-.2-.3-.6-.5-1.1-.5-.2 0-.4-.1-.5-.3-.1-.1-.1-.3-.1-.6.1-.2.2-.6.7-.9.5-.3.9-.5 1.3-.4.2 0 .3.1.4.2.1.2.1.4.1.6-.1.5 0 .9.2 1.2.2.2.4.4.7.4.5 0 1.2-.3 2-1.1.9-.9 1.2-1.4 1.6-2.1 0 0 0-.1.1-.1 0 0 .1 0 .1.1.7.4 1.1.6 1.9 1.4.2.2.4.4.5.6.4.5.4.8.3.8 0 .1-.2.1-.6.1-.6-.1-1.2.1-1.5.6-.2.3-.3.7-.2 1.1 0 .4.2.8.5 1.3z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M11.7 18.1c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.7-1-2.9 1.1-.2 1.6-.2 2.9-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z\",\"fill\":\"#878787\"}}),_c('ellipse',{attrs:{\"cx\":\"18.9\",\"cy\":\"18.6\",\"fill\":\"#fff\",\"rx\":\"6.6\",\"ry\":\"6.6\",\"transform\":\"rotate(-45.001 18.912 18.561)\"}}),_c('path',{attrs:{\"d\":\"M16.4 20.9l5.2.4-.4-5.2-1.5 1.5-2.5-2.5-1.8 1.8 2.5 2.5z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/import_library.svg\n// module id = 703\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{attrs:{\"d\":\"M64.433 16.857l-1.932.693-1.527.913-1.024 1.091-.477 1.122v1.138l.489 1.084L60.997 24l1.55.95 1.937.688 2.186.331h2.301l2.192-.368 1.944-.69 1.512-.914 1.029-1.096.49-1.117-.016-1.139-.491-1.122-1.027-1.06-1.558-.955-1.937-.689-2.186-.331h-2.3z\"}}),_c('path',{attrs:{\"d\":\"M75.752 25.386c-.034.03-.057.066-.097.09L73.962 26.5c-.04.023-.083.036-.124.053-.015.006-.024.019-.04.024l-2.107.749c-.03.01-.06.008-.09.016-.021.005-.04.02-.062.023l-2.343.395a.936.936 0 0 1-.149.012h-2.442-.001a.842.842 0 0 1-.134-.01l-2.342-.356c-.025-.004-.043-.019-.067-.023-.033-.009-.066-.007-.1-.018l-2.106-.748c-.017-.007-.027-.02-.043-.026-.043-.018-.087-.03-.128-.055l-1.731-1.063c-.038-.023-.06-.059-.094-.087-.03-.024-.066-.036-.094-.065l-.294-.314v1.202l.492 1.123 1.027 1.093 1.548.914 1.95.694 2.185.367 2.302-.038 2.195-.333 1.932-.686 1.509-.947 1.035-1.103.492-1.124v-1.16l-.293.312c-.027.03-.063.041-.093.065zM43.926 2.813c.022-.002.04-.015.063-.015l1.358-.022-1.588-.838-1.612 1.145 1.715-.273c.022-.004.043.004.064.002z\"}}),_c('path',{attrs:{\"d\":\"M77.758 19.894l.087.197c.035.08.046.17.055.258.004.03.02.061.02.093l.018 1.515v4.408c-.002.06-.024.12-.038.18-.012.056-.014.118-.037.17v.005l-.63 1.437a.9.9 0 0 1-.16.243c-.003.004-.004.01-.009.013l-1.22 1.3c-.026.028-.061.04-.091.064-.032.025-.052.059-.087.081l-1.694 1.063c-.041.026-.087.04-.13.058-.019.008-.03.022-.047.028l-2.106.749c-.034.011-.068.01-.101.018-.024.005-.042.02-.066.023l-2.344.355a.788.788 0 0 1-.111.009l-.01.001-2.44.04H66.6a.916.916 0 0 1-.148-.013l-2.342-.394c-.024-.003-.042-.019-.063-.024-.03-.007-.059-.005-.09-.015l-2.106-.75c-.016-.005-.025-.018-.042-.023-.037-.017-.077-.027-.114-.05l-1.733-1.022c-.04-.024-.065-.062-.1-.091-.032-.025-.07-.038-.098-.069l-1.22-1.3c-.004-.004-.005-.01-.009-.013a.886.886 0 0 1-.16-.242l-.63-1.437-.001-.006c-.023-.053-.024-.113-.037-.17-.013-.06-.037-.12-.037-.18V20.491c0-.067.024-.134.04-.202.012-.05.011-.104.03-.15l.612-1.438c.021-.051.06-.087.091-.131.028-.044.045-.093.082-.132l1.22-1.3c.03-.03.068-.045.101-.071.033-.027.055-.062.093-.085l1.713-1.023c.025-.016.055-.016.08-.029.029-.013.048-.035.077-.046l2.091-.749c.026-.01.054-.004.08-.011s.048-.025.075-.03l2.342-.393c.026-.005.05.004.075.002s.049-.015.075-.015h1.356L55.183 7.97l.1.229.001.005c.023.054.025.114.038.17.013.06.035.12.036.18l.001.006V14.468c0 .067-.025.135-.041.203-.012.05-.012.102-.03.148h-.001l-.61 1.438a.88.88 0 0 1-.16.245c-.004.004-.005.01-.009.013l-1.2 1.299c-.027.03-.065.042-.096.067-.035.029-.059.068-.1.093l-1.733 1.043c-.035.022-.074.032-.111.049-.016.006-.026.019-.042.025l-2.088.768c-.031.013-.065.01-.096.018-.025.007-.046.022-.072.027l-2.342.374a.832.832 0 0 1-.141.012h-2.423a.84.84 0 0 1-.142-.012l-2.343-.374c-.023-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.125-.748c-.017-.006-.028-.019-.044-.026-.045-.019-.09-.032-.132-.058l-1.713-1.063c-.033-.02-.052-.054-.08-.077-.03-.022-.064-.034-.091-.061l-1.22-1.26c-.006-.005-.007-.013-.013-.018a.888.888 0 0 1-.166-.247l-.63-1.438c-.034-.08-.044-.167-.056-.255-.003-.031-.02-.063-.02-.095l-.019-1.515.002-.009-.002-.009.02-2.896v-.007l-.02-1.47.002-.012c0-.057.021-.115.034-.172.011-.06.015-.124.038-.179.001-.003 0-.007.002-.01l.134-.307-12.603 8.952 1.71-.274c.026-.004.048.005.073.003.025-.002.045-.014.07-.014h2.402c.025 0 .047.012.07.014.025.002.048-.006.072-.003l2.344.375c.026.004.046.02.072.027.026.006.052 0 .077.01l2.126.729c.031.01.054.035.083.05.03.013.062.015.09.03l1.732 1.044c.038.022.06.057.093.085.033.027.074.043.103.075l1.202 1.299c.034.037.048.083.075.124.026.04.063.07.084.116l.65 1.437c.002.004 0 .008.002.011.024.055.028.117.04.177.013.057.034.115.035.172l.002.011v5.912c0 .06-.024.12-.038.18-.012.057-.014.118-.037.17v.006l-.63 1.438a.906.906 0 0 1-.16.241c-.003.005-.004.01-.009.015l-1.2 1.28c-.028.028-.064.04-.095.065-.033.027-.056.064-.094.087l-1.712 1.043c-.038.023-.08.035-.119.052-.015.007-.025.02-.04.025l-2.107.768c-.033.011-.065.01-.097.017-.024.006-.044.021-.07.026l-2.344.374a.84.84 0 0 1-.14.012H24.612h-.002a.821.821 0 0 1-.14-.012l-2.363-.374c-.022-.004-.04-.018-.06-.023-.032-.007-.064-.005-.094-.016l-2.087-.728c-.016-.005-.026-.019-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.024-.062-.06-.097-.088-.03-.025-.067-.037-.095-.067l-1.202-1.28c-.002-.003-.003-.008-.007-.011a.896.896 0 0 1-.158-.239l-.65-1.456c0-.003 0-.006-.002-.007-.024-.056-.028-.122-.04-.182-.012-.057-.034-.113-.034-.17l-.002-.008V22.403c0-.051.021-.1.03-.151.012-.068.016-.139.042-.202l.131-.309-9.362 6.651L49.24 50.924c.3-.107.624-.05.868.154l36.973-26.26-9.322-4.924zm-19.27 15.875V40.16c0 .054-.021.099-.03.15-.011.066-.013.132-.039.198l-.002.002-.608 1.454a.895.895 0 0 1-.168.254c-.005.006-.007.014-.012.019l-1.22 1.28c-.026.027-.06.038-.089.06-.03.024-.048.058-.083.08l-1.712 1.082c-.046.029-.095.045-.143.064-.017.006-.027.02-.044.025l-2.107.73c-.027.009-.056.006-.083.014-.02.004-.035.018-.055.02l-2.343.413a.843.843 0 0 1-.155.015H47.173h-.001a.843.843 0 0 1-.156-.015l-2.344-.413c-.018-.003-.033-.016-.052-.02-.028-.007-.056-.005-.083-.014l-2.125-.729c-.017-.005-.026-.019-.042-.024-.045-.02-.092-.032-.134-.058l-1.713-1.043c-.038-.023-.062-.06-.095-.09-.03-.022-.065-.035-.092-.063l-1.22-1.299c-.003-.002-.004-.007-.006-.01a.881.881 0 0 1-.159-.235l-.65-1.439c-.001-.003 0-.007-.002-.01-.024-.055-.027-.117-.04-.177-.013-.057-.035-.115-.036-.173l-.002-.01V34.29l.001-.005c0-.06.024-.12.037-.18.013-.057.014-.118.038-.17v-.006l.63-1.437c.02-.046.057-.077.084-.118.03-.046.045-.096.084-.137l1.2-1.28c.03-.03.068-.045.1-.07.031-.025.053-.06.089-.083l1.713-1.043c.028-.018.062-.019.092-.033.03-.015.05-.038.082-.049l2.107-.729c.024-.008.049-.003.073-.01.022-.006.041-.02.065-.025l2.342-.413c.027-.005.054.004.08.002.027-.003.05-.016.076-.016h2.422c.025 0 .047.012.071.014.024.002.046-.006.07-.003l2.362.374c.026.004.047.02.072.027.027.006.055 0 .082.01l2.106.73c.034.012.057.037.09.053.032.016.066.018.096.037l1.713 1.082c.032.02.051.053.079.077.03.023.065.035.092.063l1.22 1.28c.036.037.052.085.08.127.027.04.064.07.085.116l.65 1.398.003.014c.026.056.03.119.044.179.012.057.033.114.035.17l.002.016v1.516z\"}}),_c('path',{attrs:{\"d\":\"M55.144 32.278l-1.532-.969-1.936-.67-2.207-.349h-2.277l-2.19.387-1.95.675-1.526.928-1.012 1.079-.492 1.122v1.133l.505 1.119 1.033 1.066 1.536.954 1.959.689 2.19.349h2.274l2.187-.386 1.953-.693 1.53-.915 1.024-1.089.475-1.122v-1.135l-.501-1.08zM50.831 77.08L87.893 50.7V26.449L50.831 52.772zM37.424 11.011l1.029 1.096 1.526.93 1.97.675 2.183.386 2.276-.037 2.197-.351 1.92-.67 1.544-.966 1.012-1.078.478-1.14V8.752l-.49-1.12-1.031-1.08-1.53-.931-1.95-.675-2.181-.385-2.296.037-2.198.351-1.94.67-1.523.947-1.014 1.098-.492 1.12.014 1.099z\"}}),_c('path',{attrs:{\"d\":\"M56.32 39.188c-.036.029-.06.066-.1.09l-1.713 1.025c-.038.022-.08.034-.12.051-.015.006-.024.02-.04.024l-2.108.748c-.028.01-.056.008-.086.016-.02.005-.038.019-.058.022l-2.343.413a.843.843 0 0 1-.156.015h-2.422a.829.829 0 0 1-.14-.012l-2.345-.373c-.022-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.126-.748c-.017-.006-.028-.019-.044-.026-.044-.019-.09-.032-.131-.058l-1.713-1.063c-.034-.021-.054-.055-.084-.08-.028-.021-.062-.033-.088-.06l-.324-.333v1.207l.509 1.126 1.032 1.099 1.526.93 1.971.675 2.19.386h2.27l2.19-.386 1.943-.672 1.53-.968 1.031-1.079.475-1.136v-1.15l-.275.293c-.028.027-.065.04-.095.064zM37.42 15.433l1.032 1.066 1.534.952 1.959.69 2.19.35h2.28l2.184-.35 1.926-.708 1.55-.933 1.007-1.09.478-1.125v-1.166l-.255.272c-.026.028-.062.04-.092.064-.031.025-.053.06-.088.083l-1.732 1.083c-.044.027-.091.04-.136.06-.016.006-.027.02-.044.026l-2.088.729c-.03.01-.062.009-.094.016-.02.006-.039.019-.061.023l-2.342.374a.88.88 0 0 1-.118.01l-.009.002-2.422.038h-.015a.826.826 0 0 1-.156-.014l-2.342-.413c-.02-.004-.034-.016-.053-.02-.028-.007-.055-.005-.082-.014l-2.126-.73c-.016-.005-.026-.018-.042-.024-.045-.018-.091-.031-.134-.057l-1.712-1.043c-.04-.024-.063-.06-.096-.09-.03-.023-.065-.035-.092-.063l-.313-.333.015 1.216.49 1.12zM19.002 25.907l1.545.932 1.929.672 2.216.389h2.265l2.19-.387 1.943-.671 1.528-.966 1.017-1.084.492-1.123v-1.093l-.51-1.128-1.014-1.098-1.54-.927-1.966-.673-2.192-.351h-2.262l-2.192.35-1.935.67-1.531.968-1.032 1.082-.473 1.116v1.118l.507 1.124zM5.707 54.46L49.03 77.333V52.85L5.707 29.997z\"}}),_c('path',{attrs:{\"d\":\"M19.002 30.337l1.545.932 1.925.671 2.21.35h2.282l2.186-.349 1.94-.707 1.534-.934 1.012-1.078.492-1.123v-1.2l-.274.293c-.027.027-.06.038-.09.062-.031.026-.052.06-.087.083l-1.713 1.082c-.045.03-.094.045-.143.064-.016.006-.027.02-.043.025l-2.107.729c-.028.01-.056.007-.083.014-.02.004-.035.018-.054.02l-2.344.415a.836.836 0 0 1-.156.014h-2.422a.889.889 0 0 1-.155-.014l-2.362-.414c-.022-.003-.038-.018-.059-.022-.027-.007-.055-.005-.082-.014l-2.087-.729c-.016-.005-.026-.018-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.023-.062-.06-.097-.088-.03-.024-.067-.037-.095-.067l-.295-.314v1.201l.508 1.141 1.014 1.08z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/lego_brick_icon.svg\n// module id = 704\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"14.9\",\"cy\":\"8.4\",\"fill\":\"#fff\",\"r\":\"6.6\"}}),_c('path',{attrs:{\"d\":\"M11.6 8.3l3.3 4 3.4-4h-2.1V4.7h-2.5v3.6z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/open_floorplan.svg\n// module id = 705\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M26 14.4c-.3-1.2-1.7-.4-1.7-.5l-4.2 1c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-4.2c.5-.4.5-1 .2-1.5-.4-.5-1-.5-1.5-.2l-6.6 4.2c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-5.8c.5-.4.5-1.4.2-1.9-.4-.5-1-.5-1.5-.2L16.9 11c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l3.9-5.5c.5-.4.8-1 .5-1.5-.4-.5-1.3-.5-1.8-.2L15 9l-2.7 2.1c-.1.1-.3.1-.3 0s-.1-.1 0-.2l.6-4.5c.1-.6-.3-1.1-.9-1.2-.6-.1-1.1.3-1.2.9 0 0-1.2 5.7-1.3 6.7-.1.9.4 1.7.5 1.9l4.6 5.9c.4.5 1.3.6 1.9.1l3.5-2.7.6-.5 5.2-1.9c.4-.4.6-.7.5-1.2z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/pan.svg\n// module id = 706\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11.4 26.8H52v28.7H11.4zm13 28.6V41.2m15.7-.2V26.8m5.3 14.1H52m-40.6-1.5H18\",\"fill\":\"none\",\"stroke\":\"#878787\",\"stroke-miterlimit\":\"10\",\"stroke-width\":\"3.252\"}}),_c('path',{attrs:{\"d\":\"M43.3 13.6c0-6.8-5.5-12.3-12.3-12.3-6.8 0-12.3 5.4-12.3 12.2 0 1.4.3 3 .7 4L31 50.4l10.7-30.6c1-1.9 1.6-4 1.6-6.2z\",\"fill\":\"#39b54a\"}}),_c('path',{attrs:{\"d\":\"M36.4 9.6h-3.1V6.5c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2v-3.1h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c0-.7-.5-1.2-1.2-1.2z\",\"fill\":\"#58595b\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/quickstart_icon_new_map_floorplan.svg\n// module id = 707\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M52.9 52.6H9V20.7h43.9v31.9zm-40.7-3.2h37.4V24H12.2v25.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M22 36.8h3.3V51H22zm15.7-14.4H41v14.2h-3.3zm6.9 12.5h6.6v3.3h-6.6zm-34-1.5h6.6v3.3h-6.6z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"30.2\",\"cy\":\"20.6\",\"fill\":\"#39b54a\",\"r\":\"12.9\"}}),_c('path',{attrs:{\"d\":\"M34.9 18.1h-3.1V15c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2V22h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c.1-.6-.5-1.2-1.2-1.2z\",\"fill\":\"#58595b\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/quickstart_icon_newfloorplan.svg\n// module id = 708\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M52.9 54.3H9V22.4h43.9v31.9zm-40.7-3.2h37.4V25.7H12.2v25.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M22 38.5h3.3v14.2H22zM37.7 24H41v14.2h-3.3zM10.6 35.1h6.6v3.3h-6.6z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"31.8\",\"cy\":\"19.5\",\"fill\":\"#fff\",\"r\":\"13.5\"}}),_c('path',{attrs:{\"d\":\"M24.1 19.3l6.8 8.2 6.9-8.2h-4.3v-7.2h-5.2v7.2z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/quickstart_icon_openfloorplan.svg\n// module id = 709\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.2 13.2L14.8 4.6V10H7.1c-1.4 0-2.5 1.3-2.5 2.9v.5c0 1.6 1.1 2.9 2.5 2.9h7.7v5.3l10.4-8.4z\",\"fill\":\"#39b54a\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/redo.svg\n// module id = 710\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"14.9\",\"cy\":\"8.4\",\"fill\":\"#fff\",\"r\":\"6.6\"}}),_c('path',{attrs:{\"d\":\"M11.6 8.7l3.3-4 3.4 4h-2.1v3.6h-2.5V8.7z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/save_floorplan.svg\n// module id = 711\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z\",\"fill\":\"#aaa\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/settings_gear.svg\n// module id = 712\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M14.3 15.2c.8.4 1.6.6 2.6.4-.1.1-.1.2-.2.2L14 18.5c-1.2 1.2-2.7 1.8-4.4 1.3-3.1-.9-3.9-4.6-1.7-7 .9-1 1.9-1.9 2.8-2.8.4-.4.8-.8 1.2-1.1 1.6-1.2 3.9-1.2 5.3 0 .6.5.7 1.2.3 1.7-.4.5-1.1.5-1.7 0-.9-.7-2-.6-2.9.3-1.2 1.1-2.3 2.3-3.4 3.4-.2.2-.3.3-.4.5-.3.5-.4 1-.3 1.5.2 1.1 1.4 1.7 2.4 1.3.4-.2.8-.4 1.2-.7.7-.5 1.2-1.1 1.9-1.7-.1 0 0 0 0 0z\",\"fill\":\"#aaa\"}}),_c('path',{attrs:{\"d\":\"M16.7 7.2c-1-.2-1.8-.3-2.6-.5l.2-.2 2.8-2.8c1.7-1.6 4.1-1.7 5.7-.3 1.8 1.5 1.9 4.2.3 6-1.2 1.4-2.6 2.6-3.9 3.9-1.6 1.5-4 1.5-5.6.2-.2-.2-.4-.5-.5-.8-.1-.5.1-.9.5-1.1.4-.2.8-.2 1.2.1 1.3.9 2.2.8 3.3-.3l3.2-3.2c.4-.5.7-1.1.7-1.8-.1-1.4-1.6-2.2-2.9-1.5-.3.2-.5.4-.8.6-.5.6-1.1 1.2-1.6 1.7z\",\"fill\":\"#aaa\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tab_assign.svg\n// module id = 713\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z\",\"fill\":\"#aaa\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tab_components.svg\n// module id = 714\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M4 3v16h22V3H4zm8 14v-6h-2v6H6v-6h2V9H6V5h12v6h2V5h4v5h-2v2h2v5H12z\",\"fill\":\"#b2b2b2\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tab_floorplan.svg\n// module id = 715\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13.1 18.4H1.5l9.7-14.8h11.6z\",\"fill\":\"#aaa\"}}),_c('path',{attrs:{\"d\":\"M18.8 18.4H7.2l9.7-14.8h11.6z\",\"fill\":\"#aaa\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tab_shading.svg\n// module id = 716\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 21.5c-3.5 0-6.3-3.1-6.3-7.1 0-4 5.6-10.7 5.9-11L18 3l.4.5c.2.3 5.9 7 5.9 11 0 3.9-2.8 7-6.3 7zm0-16.9c-1.3 1.6-5.3 6.8-5.3 9.9 0 3.5 2.3 6.1 5.3 6.1s5.3-2.6 5.3-6.1c0-3.1-4-8.3-5.3-9.9z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_color.svg\n// module id = 717\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18.6 6.9l-4 4.9-7.9-9.3-3.5 2.7 8.6 10.1-5.3 6.5h23.8l3.2-6.6-14.9-8.3zm11 14h-21l3.9-4.7.6.8 6 3.6-2.4-6.3-1.3-1.5L19 8.4l13.3 7.5-2.7 5z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_draw_polygon.svg\n// module id = 718\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M16.3 7.9l-4.7-5.4L8 5.1l2.4 2.8H8v13h21v-13H16.3zM9 8.9h2.3l6.6 7.7 5.6 3.3H9v-11zm19 11h-4.2l-2.3-6-4.3-5H28v11z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_draw_rectangle.svg\n// module id = 719\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"data-name\":\"Layer 1\",\"viewBox\":\"0 0 512 512\"}},[_c('g',{attrs:{\"transform\":\"matrix(.8 0 0 .8 1.6 0)\"}},[_c('title',[_v(\"eraser\")]),_c('path',{attrs:{\"d\":\"M509.42 69.18a12.3 12.3 0 0 0-9.77-4.81H254.73a12.18 12.18 0 0 0-6.16 1.72l-.42-.37L41.63 284l-2.19 2.46.26.31a10.6 10.6 0 0 0-1 2.51L.41 432.16a12.31 12.31 0 0 0 11.91 15.46h245c3.92 0 7.42-1.67 11-5.28l201.45-213.4a20.06 20.06 0 0 0 3.55-6.22l36.93-137.87 1.36-5a12.37 12.37 0 0 0-2.19-10.67zM279.55 304.74l-31.71 118.33H28.31L60 304.74h219.55zM473.06 88.93L292.19 280.14h-213L260 88.93h213z\"}})])])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_erase.svg\n// module id = 720\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 2.7l2.2 3.1h-4.4zM7.3 12l3.2-2.2v4.4zM18 21.9l-2.2-3.2h4.4zM28.7 12l-3.2 2.2V9.8z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M9.5 11.5h17.1v1H9.5z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M17.5 3.7h1v17.1h-1z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_move_size.svg\n// module id = 721\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M4.7 13.2L15 21.7v-5.3h7.7c1.4 0 2.5-1.3 2.5-2.9V13c0-1.6-1.1-2.9-2.5-2.9H15V4.6L4.7 13.2z\",\"fill\":\"#bf0049\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/undo.svg\n// module id = 722\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20.3 2.4c-4 0-7.2 3.2-7.2 7.1 0 1.6.5 3.1 1.5 4.3l-6.1 6s-.1 2 1.8 1.8c.2-.2 6.2-6.1 6.2-6.1 1.1.7 2.5 1.1 3.9 1.1 4 0 7.2-3.2 7.2-7.1 0-3.9-3.3-7.1-7.3-7.1zm0 13.2c-3.4 0-6.2-2.7-6.2-6s2.8-6 6.2-6c3.4 0 6.2 2.7 6.2 6 0 3.2-2.8 6-6.2 6z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M17.1 8.4h1.8V6.7c0-.4.3-.7.7-.7h.9c.4 0 .7.3.7.7v1.8H23c.4 0 .7.3.7.7v.8c0 .4-.3.7-.7.7h-1.8v1.8c0 .4-.3.7-.7.7h-.9c-.4 0-.7-.3-.7-.7v-1.8h-1.8c-.4 0-.7-.3-.7-.7v-.8c0-.4.4-.8.7-.8z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/zoom_in.svg\n// module id = 723\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21.4 13.8c.9-1.2 1.4-2.6 1.4-4.2 0-3.9-3.2-7-7.1-7-3.9 0-7.1 3.1-7.1 7s3.2 7 7.1 7c1.4 0 2.7-.4 3.9-1.1 0 0 5.9 5.7 6.1 6 1.9.2 1.8-1.8 1.8-1.8l-6.1-5.9zM9.7 9.6c0-3.3 2.7-5.9 6.1-5.9 3.3 0 6.1 2.7 6.1 5.9 0 3.3-2.7 5.9-6.1 5.9-3.4 0-6.1-2.7-6.1-5.9z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M18.9 8.5h-6.4c-.4 0-.8.4-.8.8v1c0 .4.4.8.8.8h6.4c.4 0 .8-.4.8-.8v-1c0-.4-.3-.8-.8-.8z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/zoom_out.svg\n// module id = 724\n// module chunks = 2","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 256 256\"}},[_c('path',{attrs:{\"d\":\"M201.896 183.169l-53.23-53.23a71.682 71.682 0 0 1-18.728 18.727l53.23 53.23a9 9 0 0 0 12.729 0l6-6a9 9 0 0 0 0-12.727z\"}}),_c('path',{attrs:{\"d\":\"M153.668 89.768c0-35.234-28.666-63.9-63.901-63.9-35.234 0-63.9 28.666-63.9 63.9 0 35.234 28.666 63.9 63.9 63.9 35.236 0 63.9-28.666 63.9-63.9zm-63.9 48.6c-26.84 0-48.6-21.76-48.6-48.6s21.76-48.6 48.6-48.6c26.841 0 48.6 21.76 48.6 48.6s-21.759 48.6-48.6 48.6z\"}}),_c('path',{attrs:{\"d\":\"M63 117h54V63H63v54zm10.8-43.2h32.4v32.4H73.8V73.8z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/zoom_to_fit.svg\n// module id = 725\n// module chunks = 2","module.exports = {XMLHttpRequest:XMLHttpRequest};\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"{XMLHttpRequest:XMLHttpRequest}\"\n// module id = 730\n// module chunks = 2"],"sourceRoot":""}